(function(){function flxhr(global){var win=global,doc=global.document,UNDEF="undefined",JSTRUE=!0,JSFALSE=!1,EMPTY="",OBJECT="object",JSFUNC="function",JSSTR="string",JSDIV="div",JS_ONUNLOAD="onunload",tmp=null,_flensed=null,_chkplyr=null,_cp_ins=null,_flxhr_idc=0,_flxhr_inp=[],_flxhr_css=null,_flxhr=null,flXHR_js="https://thelivechatsoftware.com/dashboard/cwgen/scripts/chatscriptyui.js",flensed_js="https://thelivechatsoftware.com/dashboard/cwgen/scripts/flensed.js",flXHR_vbs="https://thelivechatsoftware.com/dashboard/cwgen/scripts/flXHR.vbs",checkplayer_js="https://thelivechatsoftware.com/dashboard/cwgen/scripts/checkplayer.js",flXHR_swf="https://thelivechatsoftware.com/dashboard/cwgen/scripts/flXHR.swf",PARSEINT=global.parseInt,SETTIMEOUT=global.setTimeout,CLEARTIMEOUT=global.clearTimeout,SETINTERVAL=global.setInterval,CLEARINTERVAL=global.clearInterval,_INSTANCEID_="instanceId",_READYSTATE_="readyState",_ONREADYSTATECHANGE_="onreadystatechange",_ONTIMEOUT_="ontimeout",_ONERROR_="onerror",_BINARYRESPONSEBODY_="binaryResponseBody",_XMLRESPONSETEXT_="xmlResponseText",_LOADPOLICYURL_="loadPolicyURL",_NOCACHEHEADER_="noCacheHeader",_SENDTIMEOUT_="sendTimeout",_APPENDTOID_="appendToId",_SWFIDPREFIX_="swfIdPrefix";(typeof global.flensed===UNDEF&&(global.flensed={}),typeof global.flensed.flXHR===UNDEF)&&(_flensed=global.flensed,SETTIMEOUT(function(){function load_script(src,type,language){for(var scriptElem,k=0;k<scrlen;k++)if(typeof scriptArry[k].src!==UNDEF&&scriptArry[k].src.indexOf(src)>=0)break;scriptElem=doc.createElement("script");scriptElem.setAttribute("src",src);typeof type!==UNDEF&&scriptElem.setAttribute("type",type);typeof language!==UNDEF&&scriptElem.setAttribute("language",language);doc.getElementsByTagName("head")[0].appendChild(scriptElem)}function clearCoreInterval(){CLEARTIMEOUT(coreInterval);try{win.detachEvent(JS_ONUNLOAD,clearCoreInterval)}catch(err){}}function clearDependencyTimeout(){CLEARTIMEOUT(dependencyTimeout);try{win.detachEvent(JS_ONUNLOAD,clearDependencyTimeout)}catch(err){}}var base_path_known=JSFALSE,scriptArry=doc.getElementsByTagName("script"),scrlen=scriptArry.length,idx,k,coreInterval,dependencyTimeout;try{_flensed.base_path.toLowerCase();base_path_known=JSTRUE}catch(err){_flensed.base_path=EMPTY}if(typeof scriptArry!==UNDEF&&scriptArry!==null&&!base_path_known)for(idx=0,k=0;k<scrlen;k++)if(typeof scriptArry[k].src!==UNDEF&&((idx=scriptArry[k].src.indexOf(flensed_js))>=0||(idx=scriptArry[k].src.indexOf(flXHR_js))>=0)){_flensed.base_path=scriptArry[k].src.substr(0,idx);break}try{_flensed.checkplayer.module_ready()}catch(err2){load_script(checkplayer_js,"text/javascript")}if(coreInterval=null,function(){try{_flensed.ua.pv.join(".")}catch(err){coreInterval=SETTIMEOUT(arguments.callee,25);return}_flensed.ua.win&&_flensed.ua.ie&&load_script(flXHR_vbs,"text/vbscript","vbscript");_flensed.binaryToString=function(binobj,skipVB){var str,buf,i;if(skipVB=_flensed.ua.win&&_flensed.ua.ie&&typeof skipVB!==UNDEF?!!skipVB:!(_flensed.ua.win&&_flensed.ua.ie),!skipVB)try{return flXHR_vb_BinaryToString(binobj)}catch(err){}str=EMPTY;buf=[];try{for(i=0;i<binobj.length;i++)buf[buf.length]=String.fromCharCode(binobj[i]);str=buf.join(EMPTY)}catch(err2){}return str};_flensed.bindEvent(win,JS_ONUNLOAD,function(){try{global.flensed.unbindEvent(win,JS_ONUNLOAD,arguments.callee);for(var k in _flxhr)if(_flxhr[k]!==Object.prototype[k])try{_flxhr[k]=null}catch(err2){}_flensed.flXHR=null;_flxhr=null;_flensed=null;_cp_ins=null;_chkplyr=null}catch(err3){}})}(),coreInterval!==null)try{win.attachEvent(JS_ONUNLOAD,clearCoreInterval)}catch(err3){}dependencyTimeout=null;try{win.attachEvent(JS_ONUNLOAD,clearDependencyTimeout)}catch(err4){}dependencyTimeout=SETTIMEOUT(function(){clearDependencyTimeout();try{_flensed.checkplayer.module_ready()}catch(err2){throw new global.Error("flXHR dependencies failed to load.");}},2e4)},0),_flensed.flXHR=function(configObject){function continueConstructor(){appendTo=appendToId===null?doc.getElementsByTagName("body")[0]:_flensed.getObjectById(appendToId);try{appendTo.nodeName.toLowerCase();_flensed.checkplayer.module_ready();_chkplyr=_flensed.checkplayer}catch(err){constructInterval=SETTIMEOUT(continueConstructor,25);return}if(_cp_ins===null&&typeof _chkplyr._ins===UNDEF)try{_cp_ins=new _chkplyr(_flxhr.MIN_PLAYER_VERSION,checkCallback,JSFALSE,updateCallback)}catch(err2){doError(_flxhr.DEPENDENCY_ERROR,"flXHR: checkplayer Init Failed","The initialization of the 'checkplayer' library failed to complete.");return}else _cp_ins=_chkplyr._ins,stillContinueConstructor()}function stillContinueConstructor(){var holder;if(_cp_ins===null||!_cp_ins.checkPassed){constructInterval=SETTIMEOUT(stillContinueConstructor,25);return}_flxhr_css===null&&appendToId===null&&(_flensed.createCSS("."+styleClass,"left:-1px;top:0px;width:1px;height:1px;position:absolute;"),_flxhr_css=JSTRUE);holder=doc.createElement(JSDIV);holder.id=proxyId;holder.className=styleClass;appendTo.appendChild(holder);appendTo=null;var flashvars={},params={allowScriptAccess:"always"},attributes={id:proxyId,name:proxyId,styleclass:styleClass},optionsObj={swfCB:finishConstructor,swfEICheck:"reset"};try{_cp_ins.DoSWF(_flensed.base_path+flXHR_swf,proxyId,"1","1",flashvars,params,attributes,optionsObj)}catch(err2){doError(_flxhr.DEPENDENCY_ERROR,"flXHR: checkplayer Call Failed","A call to the 'checkplayer' library failed to complete.");return}}function finishConstructor(loadStatus){if(loadStatus.status===_chkplyr.SWF_EI_READY){if(clearIntervals(),proxyObj=_flensed.getObjectById(proxyId),proxyObj.setId(proxyId),loadPolicyURL!==EMPTY&&proxyObj.loadPolicy(loadPolicyURL),proxyObj.autoNoCacheHeader(noCacheHeader),proxyObj.returnBinaryResponseBody(binaryResponseBody),proxyObj.doOnReadyStateChange=doOnReadyStateChange,proxyObj.doOnError=doError,proxyObj.sendProcessed=sendProcessed,proxyObj.chunkResponse=chunkResponse,readyState=0,updateFromPublicAPI(),updatePublicAPI(),typeof onreadystatechange===JSFUNC)try{onreadystatechange(publicAPI)}catch(err){doError(_flxhr.HANDLER_ERROR,"flXHR::onreadystatechange(): Error","An error occurred in the handler function. ("+err.message+")");return}executeQueue()}}function destructor(){var k,j;try{global.flensed.unbindEvent(win,JS_ONUNLOAD,destructor)}catch(err){}try{for(k=0;k<_flxhr_inp.length;k++)_flxhr_inp[k]===publicAPI&&(_flxhr_inp[k]=JSFALSE)}catch(err2){}try{for(j in publicAPI)if(publicAPI[j]!==Object.prototype[j])try{publicAPI[j]=null}catch(err3){}}catch(err4){}if(publicAPI=null,clearIntervals(),typeof proxyObj!==UNDEF&&proxyObj!==null){try{proxyObj.abort()}catch(err5){}try{proxyObj.doOnReadyStateChange=null;doOnReadyStateChange=null}catch(err6){}try{proxyObj.doOnError=null;doOnError=null}catch(err7){}try{proxyObj.sendProcessed=null;sendProcessed=null}catch(err8){}try{proxyObj.chunkResponse=null;chunkResponse=null}catch(err9){}proxyObj=null;try{global.swfobject.removeSWF(proxyId)}catch(err10){}}emptyQueue();onreadystatechange=null;onerror=null;ontimeout=null;responseXML=null;responseBody=null;rawresponse=null;appendTo=null}function chunkResponse(){binaryResponseBody&&typeof arguments[0]!==UNDEF?(rawresponse=rawresponse!==null?rawresponse:[],rawresponse=rawresponse.concat(arguments[0])):typeof arguments[0]===JSSTR&&(rawresponse=(rawresponse!==null?rawresponse:EMPTY)+arguments[0])}function doOnReadyStateChange(){if(typeof arguments[0]!==UNDEF&&(readyState=arguments[0]),readyState===4){if(clearIntervals(),binaryResponseBody&&rawresponse!==null)try{responseText=_flensed.binaryToString(rawresponse,JSTRUE);try{responseBody=flXHR_vb_StringToBinary(responseText)}catch(err4){responseBody=rawresponse}}catch(err){}else responseText=rawresponse;if(rawresponse=null,responseText!==EMPTY&&xmlResponseText)try{responseXML=_flensed.parseXMLString(responseText)}catch(err2){responseXML={}}}typeof arguments[1]!==UNDEF&&(status=arguments[1]);typeof arguments[2]!==UNDEF&&(statusText=arguments[2]);doPublicOnReadyStateChange(readyState)}function doPublicOnReadyStateChange(rdySt){if(public_readyState=rdySt,updateFromPublicAPI(),updatePublicAPI(),publicAPI[_READYSTATE_]=Math.max(0,rdySt),typeof onreadystatechange===JSFUNC)try{onreadystatechange(publicAPI)}catch(err){doError(_flxhr.HANDLER_ERROR,"flXHR::onreadystatechange(): Error","An error occurred in the handler function. ("+err.message+")");return}}function doError(){var errorObj,handled,prevError;clearIntervals();emptyQueue();_error=JSTRUE;try{errorObj=new _flensed.error(arguments[0],arguments[1],arguments[2],publicAPI)}catch(err){function ErrorObjTemplate(){function toString(){return a+", "+b+", "+c}this.number=0;this.name="flXHR Error: Unknown";this.description="Unknown error from 'flXHR' library.";this.message=this.description;this.srcElement=publicAPI;var a=this.number,b=this.name,c=this.description;this.toString=toString}errorObj=new ErrorObjTemplate}handled=JSFALSE;try{typeof onerror===JSFUNC&&(onerror(errorObj),handled=JSTRUE)}catch(err2){prevError=errorObj.toString();function ErrorObjTemplate2(){function toString(){return a+", "+b+", "+c}this.number=_flxhr.HANDLER_ERROR;this.name="flXHR::onerror(): Error";this.description="An error occured in the handler function. ("+err2.message+")\nPrevious:["+prevError+"]";this.message=this.description;this.srcElement=publicAPI;var a=this.number,b=this.name,c=this.description;this.toString=toString}errorObj=new ErrorObjTemplate2}}function doTimeout(){if(abort(),_error=JSTRUE,typeof ontimeout===JSFUNC)try{ontimeout(publicAPI)}catch(err){doError(_flxhr.HANDLER_ERROR,"flXHR::ontimeout(): Error","An error occurred in the handler function. ("+err.message+")");return}else doError(_flxhr.TIMEOUT_ERROR,"flXHR: Operation Timed out","The requested operation timed out.")}function clearIntervals(){CLEARTIMEOUT(constructInterval);constructInterval=null;CLEARTIMEOUT(timeoutInterval);timeoutInterval=null;CLEARTIMEOUT(notReadyInterval);notReadyInterval=null}function addToQueue(func,funcName,args){constructQueue[constructQueue.length]={func:func,funcName:funcName,args:args};queue_empty=JSFALSE}function emptyQueue(){var queuelength,m;if(!queue_empty){for(queue_empty=JSTRUE,queuelength=constructQueue.length,m=0;m<queuelength;m++)try{constructQueue[m]=JSFALSE}catch(err){}constructQueue=[]}}function executeQueue(){if(readyState<0){notReadyInterval=SETTIMEOUT(executeQueue,25);return}if(!queue_empty){for(var j=0;j<constructQueue.length;j++)try{constructQueue[j]!==JSFALSE&&(constructQueue[j].func.apply(publicAPI,constructQueue[j].args),constructQueue[j]=JSFALSE)}catch(err){doError(_flxhr.HANDLER_ERROR,"flXHR::"+constructQueue[j].funcName+"(): Error","An error occurred in the "+constructQueue[j].funcName+"() function.");return}queue_empty=JSTRUE}}function updatePublicAPI(){try{publicAPI[_INSTANCEID_]=instanceId;publicAPI[_READYSTATE_]=public_readyState;publicAPI.status=status;publicAPI.statusText=statusText;publicAPI.responseText=responseText;publicAPI.responseXML=responseXML;publicAPI.responseBody=responseBody;publicAPI[_ONREADYSTATECHANGE_]=onreadystatechange;publicAPI[_ONERROR_]=onerror;publicAPI[_ONTIMEOUT_]=ontimeout;publicAPI[_LOADPOLICYURL_]=loadPolicyURL;publicAPI[_NOCACHEHEADER_]=noCacheHeader;publicAPI[_BINARYRESPONSEBODY_]=binaryResponseBody;publicAPI[_XMLRESPONSETEXT_]=xmlResponseText}catch(err){}}function updateFromPublicAPI(){try{instanceId=publicAPI[_INSTANCEID_];publicAPI.timeout!==null&&(tmp=PARSEINT(publicAPI.timeout,10))>0&&(sendTimeout=tmp);onreadystatechange=publicAPI[_ONREADYSTATECHANGE_];onerror=publicAPI[_ONERROR_];ontimeout=publicAPI[_ONTIMEOUT_];publicAPI[_LOADPOLICYURL_]!==null&&(publicAPI[_LOADPOLICYURL_]!==loadPolicyURL&&readyState>=0&&proxyObj.loadPolicy(publicAPI[_LOADPOLICYURL_]),loadPolicyURL=publicAPI[_LOADPOLICYURL_]);publicAPI[_NOCACHEHEADER_]!==null&&(publicAPI[_NOCACHEHEADER_]!==noCacheHeader&&readyState>=0&&proxyObj.autoNoCacheHeader(publicAPI[_NOCACHEHEADER_]),noCacheHeader=publicAPI[_NOCACHEHEADER_]);publicAPI[_BINARYRESPONSEBODY_]!==null&&(publicAPI[_BINARYRESPONSEBODY_]!==binaryResponseBody&&readyState>=0&&proxyObj.returnBinaryResponseBody(publicAPI[_BINARYRESPONSEBODY_]),binaryResponseBody=publicAPI[_BINARYRESPONSEBODY_]);xmlResponseText!==null&&(xmlResponseText=!!publicAPI[_XMLRESPONSETEXT_])}catch(err){}}function reset(){abort();try{proxyObj.reset()}catch(err){}status=null;statusText=null;responseText=null;responseXML=null;responseBody=null;rawresponse=null;_error=JSFALSE;updatePublicAPI();loadPolicyURL=EMPTY;updateFromPublicAPI()}function checkCallback(checkObj){checkObj.checkPassed?stillContinueConstructor():autoUpdatePlayer?_cp_ins.UpdatePlayer():doError(_flxhr.PLAYER_VERSION_ERROR,"flXHR: Insufficient Flash Player Version","The Flash Player was either not detected, or the detected version ("+checkObj.playerVersionDetected+") was not at least the minimum version ("+_flxhr.MIN_PLAYER_VERSION+") needed by the 'flXHR' library.")}function updateCallback(checkObj){checkObj.updateStatus===_chkplyr.UPDATE_CANCELED?doError(_flxhr.PLAYER_VERSION_ERROR,"flXHR: Flash Player Update Canceled","The Flash Player was not updated."):checkObj.updateStatus===_chkplyr.UPDATE_FAILED&&doError(_flxhr.PLAYER_VERSION_ERROR,"flXHR: Flash Player Update Failed","The Flash Player was either not detected or could not be updated.")}function sendProcessed(){sendTimeout!==null&&sendTimeout>0&&(timeoutInterval=SETTIMEOUT(doTimeout,sendTimeout))}function abort(){clearIntervals();emptyQueue();updateFromPublicAPI();readyState=0;public_readyState=0;try{proxyObj.abort()}catch(err){doError(_flxhr.CALL_ERROR,"flXHR::abort(): Failed","The abort() call failed to complete.")}updatePublicAPI()}function open(){if(updateFromPublicAPI(),typeof arguments[0]===UNDEF||typeof arguments[1]===UNDEF)doError(_flxhr.CALL_ERROR,"flXHR::open(): Failed","The open() call requires 'method' and 'url' parameters.");else{(readyState>0||_error)&&reset();public_readyState===0?doOnReadyStateChange(1):readyState=1;var a0=arguments[0],a1=arguments[1],a2=typeof arguments[2]!==UNDEF?arguments[2]:JSTRUE,a3=typeof arguments[3]!==UNDEF?arguments[3]:EMPTY,a4=typeof arguments[4]!==UNDEF?arguments[4]:EMPTY;try{proxyObj.autoNoCacheHeader(noCacheHeader);proxyObj.open(a0,a1,a2,a3,a4)}catch(err){doError(_flxhr.CALL_ERROR,"flXHR::open(): Failed","The open() call failed to complete.")}}}function send(){if(updateFromPublicAPI(),readyState<=1&&!_error){var a0=typeof arguments[0]!==UNDEF?arguments[0]:EMPTY;public_readyState===1?doOnReadyStateChange(2):readyState=2;try{proxyObj.autoNoCacheHeader(noCacheHeader);proxyObj.send(a0)}catch(err){doError(_flxhr.CALL_ERROR,"flXHR::send(): Failed","The send() call failed to complete.")}}else doError(_flxhr.CALL_ERROR,"flXHR::send(): Failed","The send() call cannot be made at this time.")}function setRequestHeader(){if(updateFromPublicAPI(),typeof arguments[0]===UNDEF||typeof arguments[1]===UNDEF)doError(_flxhr.CALL_ERROR,"flXHR::setRequestHeader(): Failed","The setRequestHeader() call requires 'name' and 'value' parameters.");else if(!_error){var a0=typeof arguments[0]!==UNDEF?arguments[0]:EMPTY,a1=typeof arguments[1]!==UNDEF?arguments[1]:EMPTY;try{proxyObj.setRequestHeader(a0,a1)}catch(err){doError(_flxhr.CALL_ERROR,"flXHR::setRequestHeader(): Failed","The setRequestHeader() call failed to complete.")}}}function getResponseHeader(){return updateFromPublicAPI(),EMPTY}function getAllResponseHeaders(){return updateFromPublicAPI(),[]}var instancePooling=JSFALSE,ret;if(configObject!==null&&typeof configObject===OBJECT&&typeof configObject.instancePooling!==UNDEF&&(instancePooling=!!configObject.instancePooling,instancePooling&&(ret=function(){for(var inst,k=0;k<_flxhr_inp.length;k++)if(inst=_flxhr_inp[k],inst[_READYSTATE_]===4)return inst.Reset(),inst.Configure(configObject),inst;return null}(),ret!==null)))return ret;var idNumber=++_flxhr_idc,constructQueue=[],constructInterval=null,notReadyInterval=null,timeoutInterval=null,proxyId=null,readyState=-1,public_readyState=0,responseBody=null,responseText=null,responseXML=null,status=null,statusText=null,proxyObj=null,publicAPI=null,appendTo=null,rawresponse=null,queue_empty=JSTRUE,_error=JSFALSE,instanceId="flXHR_"+idNumber,noCacheHeader=JSTRUE,binaryResponseBody=JSFALSE,xmlResponseText=JSTRUE,autoUpdatePlayer=JSFALSE,proxyIdPrefix="flXHR_swf",styleClass="flXHRhideSwf",appendToId=null,sendTimeout=-1,loadPolicyURL=EMPTY,onreadystatechange=null,onerror=null,ontimeout=null,constructor=function(){function clearConstructInterval(){CLEARTIMEOUT(constructInterval);try{win.detachEvent(JS_ONUNLOAD,clearConstructInterval)}catch(err){}}typeof configObject===OBJECT&&configObject!==null&&(typeof configObject[_INSTANCEID_]!==UNDEF&&configObject[_INSTANCEID_]!==null&&configObject[_INSTANCEID_]!==EMPTY&&(instanceId=configObject[_INSTANCEID_]),typeof configObject[_SWFIDPREFIX_]!==UNDEF&&configObject[_SWFIDPREFIX_]!==null&&configObject[_SWFIDPREFIX_]!==EMPTY&&(proxyIdPrefix=configObject[_SWFIDPREFIX_]),typeof configObject[_APPENDTOID_]!==UNDEF&&configObject[_APPENDTOID_]!==null&&configObject[_APPENDTOID_]!==EMPTY&&(appendToId=configObject[_APPENDTOID_]),typeof configObject[_LOADPOLICYURL_]!==UNDEF&&configObject[_LOADPOLICYURL_]!==null&&configObject[_LOADPOLICYURL_]!==EMPTY&&(loadPolicyURL=configObject[_LOADPOLICYURL_]),typeof configObject[_NOCACHEHEADER_]!==UNDEF&&(noCacheHeader=!!configObject[_NOCACHEHEADER_]),typeof configObject[_BINARYRESPONSEBODY_]!==UNDEF&&(binaryResponseBody=!!configObject[_BINARYRESPONSEBODY_]),typeof configObject[_XMLRESPONSETEXT_]!==UNDEF&&(xmlResponseText=!!configObject[_XMLRESPONSETEXT_]),typeof configObject.autoUpdatePlayer!==UNDEF&&(autoUpdatePlayer=!!configObject.autoUpdatePlayer),typeof configObject[_SENDTIMEOUT_]!==UNDEF&&(tmp=PARSEINT(configObject[_SENDTIMEOUT_],10))>0&&(sendTimeout=tmp),typeof configObject[_ONREADYSTATECHANGE_]!==UNDEF&&configObject[_ONREADYSTATECHANGE_]!==null&&(onreadystatechange=configObject[_ONREADYSTATECHANGE_]),typeof configObject[_ONERROR_]!==UNDEF&&configObject[_ONERROR_]!==null&&(onerror=configObject[_ONERROR_]),typeof configObject[_ONTIMEOUT_]!==UNDEF&&configObject[_ONTIMEOUT_]!==null&&(ontimeout=configObject[_ONTIMEOUT_]));proxyId=proxyIdPrefix+"_"+idNumber;try{win.attachEvent(JS_ONUNLOAD,clearConstructInterval)}catch(err){}(function(){try{_flensed.bindEvent(win,JS_ONUNLOAD,destructor)}catch(err){constructInterval=SETTIMEOUT(arguments.callee,25);return}clearConstructInterval();constructInterval=SETTIMEOUT(continueConstructor,1)})()}();return publicAPI={readyState:public_readyState,responseBody:responseBody,responseText:responseText,responseXML:responseXML,status:status,statusText:statusText,timeout:sendTimeout,open:function(){if(updateFromPublicAPI(),publicAPI[_READYSTATE_]===0&&doPublicOnReadyStateChange(1),!queue_empty||readyState<0){addToQueue(open,"open",arguments);return}open.apply({},arguments)},send:function(){if(updateFromPublicAPI(),publicAPI[_READYSTATE_]===1&&doPublicOnReadyStateChange(2),!queue_empty||readyState<0){addToQueue(send,"send",arguments);return}send.apply({},arguments)},abort:abort,setRequestHeader:function(){if(updateFromPublicAPI(),!queue_empty||readyState<0){addToQueue(setRequestHeader,"setRequestHeader",arguments);return}setRequestHeader.apply({},arguments)},getResponseHeader:getResponseHeader,getAllResponseHeaders:getAllResponseHeaders,onreadystatechange:onreadystatechange,ontimeout:ontimeout,instanceId:instanceId,loadPolicyURL:loadPolicyURL,noCacheHeader:noCacheHeader,binaryResponseBody:binaryResponseBody,xmlResponseText:xmlResponseText,onerror:onerror,Configure:function(configObj){typeof configObj===OBJECT&&configObj!==null&&(typeof configObj[_INSTANCEID_]!==UNDEF&&configObj[_INSTANCEID_]!==null&&configObj[_INSTANCEID_]!==EMPTY&&(instanceId=configObj[_INSTANCEID_]),typeof configObj[_NOCACHEHEADER_]!==UNDEF&&(noCacheHeader=!!configObj[_NOCACHEHEADER_],readyState>=0&&proxyObj.autoNoCacheHeader(noCacheHeader)),typeof configObj[_BINARYRESPONSEBODY_]!==UNDEF&&(binaryResponseBody=!!configObj[_BINARYRESPONSEBODY_],readyState>=0&&proxyObj.returnBinaryResponseBody(binaryResponseBody)),typeof configObj[_XMLRESPONSETEXT_]!==UNDEF&&(xmlResponseText=!!configObj[_XMLRESPONSETEXT_]),typeof configObj[_ONREADYSTATECHANGE_]!==UNDEF&&configObj[_ONREADYSTATECHANGE_]!==null&&(onreadystatechange=configObj[_ONREADYSTATECHANGE_]),typeof configObj[_ONERROR_]!==UNDEF&&configObj[_ONERROR_]!==null&&(onerror=configObj[_ONERROR_]),typeof configObj[_ONTIMEOUT_]!==UNDEF&&configObj[_ONTIMEOUT_]!==null&&(ontimeout=configObj[_ONTIMEOUT_]),typeof configObj[_SENDTIMEOUT_]!==UNDEF&&(tmp=PARSEINT(configObj[_SENDTIMEOUT_],10))>0&&(sendTimeout=tmp),typeof configObj[_LOADPOLICYURL_]!==UNDEF&&configObj[_LOADPOLICYURL_]!==null&&configObj[_LOADPOLICYURL_]!==EMPTY&&configObj[_LOADPOLICYURL_]!==loadPolicyURL&&(loadPolicyURL=configObj[_LOADPOLICYURL_],readyState>=0&&proxyObj.loadPolicy(loadPolicyURL)),updatePublicAPI())},Reset:reset,Destroy:destructor},instancePooling&&(_flxhr_inp[_flxhr_inp.length]=publicAPI),publicAPI},_flxhr=_flensed.flXHR,_flxhr.HANDLER_ERROR=10,_flxhr.CALL_ERROR=11,_flxhr.TIMEOUT_ERROR=12,_flxhr.DEPENDENCY_ERROR=13,_flxhr.PLAYER_VERSION_ERROR=14,_flxhr.SECURITY_ERROR=15,_flxhr.COMMUNICATION_ERROR=16,_flxhr.MIN_PLAYER_VERSION="9",_flxhr.module_ready=function(){})}function getInternetExplorerVersion(){var rv=-1,ua,re;return navigator.appName=="Microsoft Internet Explorer"&&(ua=navigator.userAgent,re=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})"),re.exec(ua)!=null&&(rv=parseFloat(RegExp.$1))),rv}function lesserVersionEight(){Strophe.addConnectionPlugin("flxhr",{init:function(){flensed&&flensed.flXHR&&(Strophe.Request.prototype._newXHR=function(){var xhr=new flensed.flXHR({autoUpdatePlayer:!0,instancePooling:!0,noCacheHeader:!1});return xhr.onreadystatechange=this.func.prependArg(this),xhr})}})}function versionEight(){Strophe.addConnectionPlugin("xdomainrequest",{init:function(){window.XDomainRequest&&(typeof XDomainRequest.prototype.oldsend=="undefined"&&(XDomainRequest.prototype.oldsend=XDomainRequest.prototype.send,XDomainRequest.prototype.send=function(){var junk=arguments;XDomainRequest.prototype.oldsend.apply(this,arguments);this.readyState=2;try{this.onreadystatechange()}catch(e){}}),Strophe.Request.prototype._newXHR=function(){var fireReadyStateChange=function(xhr,status){xhr.status=status;xhr.readyState=4;try{xhr.onreadystatechange()}catch(e){}},xhr=new XDomainRequest;return xhr.readyState=0,xhr.onreadystatechange=this.func.prependArg(this),xhr.onload=function(){xmlDoc=new ActiveXObject("Microsoft.XMLDOM");xmlDoc.async="false";xmlDoc.loadXML(xhr.responseText);xhr.responseXML=xmlDoc;fireReadyStateChange(xhr,200)},xhr.onerror=function(){fireReadyStateChange(xhr,500)},xhr.ontimeout=function(){fireReadyStateChange(xhr,500)},xhr})}})}function versionNine(){Strophe.addConnectionPlugin("xdomainrequest",{init:function(){window.XDomainRequest&&(Strophe.debug("using XdomainRequest for IE"),typeof XDomainRequest.prototype.oldsend=="undefined"&&(XDomainRequest.prototype.oldsend=XDomainRequest.prototype.send,XDomainRequest.prototype.send=function(){var junk=arguments;XDomainRequest.prototype.oldsend.apply(this,arguments);this.readyState=2;try{this.onreadystatechange()}catch(e){}}),Strophe.Request.prototype._newXHR=function(){var fireReadyStateChange=function(xhr,status){xhr.status=status;xhr.readyState=4;try{xhr.onreadystatechange()}catch(e){}},xhr=new XDomainRequest;return xhr.readyState=0,xhr.onreadystatechange=this.func.prependArg(this),xhr.onload=function(){xmlDoc=new ActiveXObject("Microsoft.XMLDOM");xmlDoc.async="false";xmlDoc.loadXML(xhr.responseText);xhr.responseXML=xmlDoc;fireReadyStateChange(xhr,200)},xhr.onerror=function(){fireReadyStateChange(xhr,500)},xhr.ontimeout=function(){fireReadyStateChange(xhr,500)},xhr})}})}function versionTen(){Strophe.addConnectionPlugin("xdomainrequest",{init:function(){if(window.XDomainRequest){var MyXHR=function(){var that=new XDomainRequest,oldsend=that.send;return that.send=function(){oldsend.apply(that,arguments);that.readyState=2;try{that.onreadystatechange()}catch(e){}},that};Strophe.Request.prototype._newXHR=function(){var fireReadyStateChange=function(xhr,status){xhr.status=status;xhr.readyState=4;try{xhr.onreadystatechange()}catch(e){}},xhr=MyXHR();return xhr.readyState=0,xhr.onreadystatechange=this.func.bind(null,this),xhr.onload=function(){xmlDoc=new ActiveXObject("Microsoft.XMLDOM");xmlDoc.async="false";xmlDoc.loadXML(xhr.responseText);xhr.responseXML=xmlDoc;fireReadyStateChange(xhr,200)},xhr.onerror=function(){Strophe.error("Strophe xdr.onerror called");fireReadyStateChange(xhr,500)},xhr.ontimeout=function(){Strophe.error("Strophe xdr.ontimeout called");fireReadyStateChange(xhr,500)},xhr}}}})}function checkVersion(){var ver=getInternetExplorerVersion();ver>-1&&ver>=6&&(flxhr(window),ver<8?lesserVersionEight():ver==8?versionEight():ver==9?versionNine():versionTen())}function serviceCall(WGSFunc,CBFunc,obj){var uri=config.gvars.servicePrefix+"webapi/api/WebSite/",xdr;dBrowser.isIE8()||dBrowser.isIE9()?(xdr=new XDomainRequest,xdr.open("POST",uri+WGSFunc+"Ie?"+LaJq.param(obj)),xdr.send(),xdr.onerror=function(e){},xdr.onload=function(){CBFunc(JSON.parse(xdr.responseText))}):LaJq.post(uri+WGSFunc,obj,CBFunc)}function sendSignalRMethod(){var methodName=arguments[0],allArguments=arguments;LaJq.connection.hub&&LaJq.connection.hub.state===LaJq.signalR.connectionState.connected?chat.server[methodName].apply(null,Array.prototype.slice.call(arguments,1)):helperFunctions.timedOut(helperFunctions.readCookie("timeCookie"))||window.setTimeout(function(){LaJq.connection.hub.start({transport:["webSockets","longPolling"],jsonp:!0,xdomain:!0,waitForPageLoad:!1}).done(function(){signalRConnected=!0;chat.server[methodName].apply(null,Array.prototype.slice.call(allArguments,1))}).fail(function(e){console.log("fail: ",e)})},1e3)}var LaJq,liveChatStatusButton,httpConnected,opTime,chatLogic,offlineFormWidget,getData,config,myWindow,liveChatStatus,chatFunctionality,offlineFormFunctionality,vbFunctionality,preSurveyFunctionality,smsFunctionality,vbGreetingFunctionality,getDataFunctionality,toolbarFunctionality,iSpyFunctionality,signalRConnected,chat,onMakingSignalRConnectionEvent;!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){function r(a){var b=a.length,c=m.type(a);return"function"===c||m.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}function w(a,b,c){if(m.isFunction(b))return m.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return m.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(v.test(b))return m.filter(b,a,c);b=m.filter(b,a)}return m.grep(a,function(a){return m.inArray(a,b)>=0!==c})}function D(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}function G(a){var b=F[a]={};return m.each(a.match(E)||[],function(a,c){b[c]=!0}),b}function I(){y.addEventListener?(y.removeEventListener("DOMContentLoaded",J,!1),a.removeEventListener("load",J,!1)):(y.detachEvent("onreadystatechange",J),a.detachEvent("onload",J))}function J(){(y.addEventListener||"load"===event.type||"complete"===y.readyState)&&(I(),m.ready())}function O(a,b,c){if(void 0===c&&1===a.nodeType){var d="data-"+b.replace(N,"-$1").toLowerCase();if(c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:M.test(c)?m.parseJSON(c):c}catch(e){}m.data(a,b,c)}else c=void 0}return c}function P(a){var b;for(b in a)if(("data"!==b||!m.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}function Q(a,b,d,e){if(m.acceptData(a)){var f,g,h=m.expando,i=a.nodeType,j=i?m.cache:a,k=i?a[h]:a[h]&&h;if(k&&j[k]&&(e||j[k].data)||void 0!==d||"string"!=typeof b)return k||(k=i?a[h]=c.pop()||m.guid++:h),j[k]||(j[k]=i?{}:{toJSON:m.noop}),("object"==typeof b||"function"==typeof b)&&(e?j[k]=m.extend(j[k],b):j[k].data=m.extend(j[k].data,b)),g=j[k],e||(g.data||(g.data={}),g=g.data),void 0!==d&&(g[m.camelCase(b)]=d),"string"==typeof b?(f=g[b],null==f&&(f=g[m.camelCase(b)])):f=g,f}}function R(a,b,c){if(m.acceptData(a)){var d,e,f=a.nodeType,g=f?m.cache:a,h=f?a[m.expando]:m.expando;if(g[h]){if(b&&(d=c?g[h]:g[h].data)){for(m.isArray(b)?b=b.concat(m.map(b,m.camelCase)):(b in d)?b=[b]:(b=m.camelCase(b),b=(b in d)?[b]:b.split(" ")),e=b.length;e--;)delete d[b[e]];if(c?!P(d):!m.isEmptyObject(d))return}(c||(delete g[h].data,P(g[h])))&&(f?m.cleanData([a],!0):k.deleteExpando||g!=g.window?delete g[h]:g[h]=null)}}}function ab(){return!0}function bb(){return!1}function cb(){try{return y.activeElement}catch(a){}}function db(a){var b=eb.split("|"),c=a.createDocumentFragment();if(c.createElement)while(b.length)c.createElement(b.pop());return c}function ub(a,b){var c,d,e=0,f=typeof a.getElementsByTagName!==K?a.getElementsByTagName(b||"*"):typeof a.querySelectorAll!==K?a.querySelectorAll(b||"*"):void 0;if(!f)for(f=[],c=a.childNodes||a;null!=(d=c[e]);e++)!b||m.nodeName(d,b)?f.push(d):m.merge(f,ub(d,b));return void 0===b||b&&m.nodeName(a,b)?m.merge([a],f):f}function vb(a){W.test(a.type)&&(a.defaultChecked=a.checked)}function wb(a,b){return m.nodeName(a,"table")&&m.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function xb(a){return a.type=(null!==m.find.attr(a,"type"))+"/"+a.type,a}function yb(a){var b=pb.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function zb(a,b){for(var c,d=0;null!=(c=a[d]);d++)m._data(c,"globalEval",!b||m._data(b[d],"globalEval"))}function Ab(a,b){if(1===b.nodeType&&m.hasData(a)){var c,d,e,f=m._data(a),g=m._data(b,f),h=f.events;if(h){delete g.handle;g.events={};for(c in h)for(d=0,e=h[c].length;e>d;d++)m.event.add(b,c,h[c][d])}g.data&&(g.data=m.extend({},g.data))}}function Bb(a,b){var c,d,e;if(1===b.nodeType){if(c=b.nodeName.toLowerCase(),!k.noCloneEvent&&b[m.expando]){e=m._data(b);for(d in e.events)m.removeEvent(b,d,e.handle);b.removeAttribute(m.expando)}"script"===c&&b.text!==a.text?(xb(b).text=a.text,yb(b)):"object"===c?(b.parentNode&&(b.outerHTML=a.outerHTML),k.html5Clone&&a.innerHTML&&!m.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):"input"===c&&W.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):"option"===c?b.defaultSelected=b.selected=a.defaultSelected:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}}function Eb(b,c){var d,e=m(c.createElement(b)).appendTo(c.body),f=a.getDefaultComputedStyle&&(d=a.getDefaultComputedStyle(e[0]))?d.display:m.css(e[0],"display");return e.detach(),f}function Fb(a){var b=y,c=Db[a];return c||(c=Eb(a,b),"none"!==c&&c||(Cb=(Cb||m("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=(Cb[0].contentWindow||Cb[0].contentDocument).document,b.write(),b.close(),c=Eb(a,b),Cb.detach()),Db[a]=c),c}function Lb(a,b){return{get:function(){var c=a();if(null!=c)return c?void delete this.get:(this.get=b).apply(this,arguments)}}}function Ub(a,b){if(b in a)return b;for(var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=Tb.length;e--;)if(b=Tb[e]+c,b in a)return b;return d}function Vb(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=m._data(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&U(d)&&(f[g]=m._data(d,"olddisplay",Fb(d.nodeName)))):(e=U(d),(c&&"none"!==c||!e)&&m._data(d,"olddisplay",e?c:m.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function Wb(a,b,c){var d=Pb.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function Xb(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=m.css(a,c+T[f],!0,e)),d?("content"===c&&(g-=m.css(a,"padding"+T[f],!0,e)),"margin"!==c&&(g-=m.css(a,"border"+T[f]+"Width",!0,e))):(g+=m.css(a,"padding"+T[f],!0,e),"padding"!==c&&(g+=m.css(a,"border"+T[f]+"Width",!0,e)));return g}function Yb(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=Ib(a),g=k.boxSizing&&"border-box"===m.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=Jb(a,b,f),(0>e||null==e)&&(e=a.style[b]),Hb.test(e))return e;d=g&&(k.boxSizingReliable()||e===a.style[b]);e=parseFloat(e)||0}return e+Xb(a,b,c||(g?"border":"content"),d,f)+"px"}function Zb(a,b,c,d,e){return new Zb.prototype.init(a,b,c,d,e)}function fc(){return setTimeout(function(){$b=void 0}),$b=m.now()}function gc(a,b){var c,d={height:a},e=0;for(b=b?1:0;4>e;e+=2-b)c=T[e],d["margin"+c]=d["padding"+c]=a;return b&&(d.opacity=d.width=a),d}function hc(a,b,c){for(var d,e=(ec[b]||[]).concat(ec["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function ic(a,b,c){var d,e,f,g,h,i,j,l,n=this,o={},p=a.style,q=a.nodeType&&U(a),r=m._data(a,"fxshow");c.queue||(h=m._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,n.always(function(){n.always(function(){h.unqueued--;m.queue(a,"fx").length||h.empty.fire()})}));1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[p.overflow,p.overflowX,p.overflowY],j=m.css(a,"display"),l="none"===j?m._data(a,"olddisplay")||Fb(a.nodeName):j,"inline"===l&&"none"===m.css(a,"float")&&(k.inlineBlockNeedsLayout&&"inline"!==Fb(a.nodeName)?p.zoom=1:p.display="inline-block"));c.overflow&&(p.overflow="hidden",k.shrinkWrapBlocks()||n.always(function(){p.overflow=c.overflow[0];p.overflowX=c.overflow[1];p.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],ac.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(q?"hide":"show")){if("show"!==e||!r||void 0===r[d])continue;q=!0}o[d]=r&&r[d]||m.style(a,d)}else j=void 0;if(m.isEmptyObject(o))"inline"===("none"===j?Fb(a.nodeName):j)&&(p.display=j);else{r?"hidden"in r&&(q=r.hidden):r=m._data(a,"fxshow",{});f&&(r.hidden=!q);q?m(a).show():n.done(function(){m(a).hide()});n.done(function(){var b;m._removeData(a,"fxshow");for(b in o)m.style(a,b,o[b])});for(d in o)g=hc(q?r[d]:0,d,n),d in r||(r[d]=g.start,q&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function jc(a,b){var c,d,e,f,g;for(c in a)if(d=m.camelCase(c),e=b[d],f=a[c],m.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=m.cssHooks[d],g&&"expand"in g){f=g.expand(f);delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function kc(a,b,c){var d,e,f=0,g=dc.length,h=m.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=$b||fc(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:m.extend({},b),opts:m.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:$b||fc(),duration:c.duration,tweens:[],createTween:function(b,c){var d=m.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(jc(k,j.opts.specialEasing);g>f;f++)if(d=dc[f].call(j,a,k,j.opts))return d;return m.map(k,hc,j),m.isFunction(j.opts.start)&&j.opts.start.call(a,j),m.fx.timer(m.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}function Lc(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(E)||[];if(m.isFunction(c))while(d=f[e++])"+"===d.charAt(0)?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function Mc(a,b,c,d){function g(h){var i;return e[h]=!0,m.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}var e={},f=a===Ic;return g(b.dataTypes[0])||!e["*"]&&g("*")}function Nc(a,b){var c,d,e=m.ajaxSettings.flatOptions||{};for(d in b)void 0!==b[d]&&((e[d]?a:c||(c={}))[d]=b[d]);return c&&m.extend(!0,a,c),a}function Oc(a,b,c){for(var d,e,f,g,h=a.contents,i=a.dataTypes;"*"===i[0];)i.shift(),void 0===e&&(e=a.mimeType||b.getResponseHeader("Content-Type"));if(e)for(g in h)if(h[g]&&h[g].test(e)){i.unshift(g);break}if(i[0]in c)f=i[0];else{for(g in c){if(!i[0]||a.converters[g+" "+i[0]]){f=g;break}d||(d=g)}f=f||d}if(f)return(f!==i[0]&&i.unshift(f),c[f])}function Pc(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];for(f=k.shift();f;)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a.throws)b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}function Vc(a,b,c,d){var e;if(m.isArray(b))m.each(b,function(b,e){c||Rc.test(a)?d(a,e):Vc(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==m.type(b))d(a,b);else for(e in b)Vc(a+"["+e+"]",b[e],c,d)}function Zc(){try{return new a.XMLHttpRequest}catch(b){}}function $c(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}function dd(a){return m.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}var c=[],d=c.slice,e=c.concat,f=c.push,g=c.indexOf,h={},i=h.toString,j=h.hasOwnProperty,k={},l="1.11.1",m=function(a,b){return new m.fn.init(a,b)},n=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,o=/^-ms-/,p=/-([\da-z])/gi,q=function(a,b){return b.toUpperCase()},s,B,C,E,F,H,K,L,M,N,Cb,Db,lc,sc,tc,uc,_c,ad,bd,cd,ed,fd;m.fn=m.prototype={jquery:l,constructor:m,selector:"",length:0,toArray:function(){return d.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:d.call(this)},pushStack:function(a){var b=m.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return m.each(this,a,b)},map:function(a){return this.pushStack(m.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:c.sort,splice:c.splice};m.extend=m.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||m.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(e=arguments[h]))for(d in e)a=g[d],c=e[d],g!==c&&(j&&c&&(m.isPlainObject(c)||(b=m.isArray(c)))?(b?(b=!1,f=a&&m.isArray(a)?a:[]):f=a&&m.isPlainObject(a)?a:{},g[d]=m.extend(j,f,c)):void 0!==c&&(g[d]=c));return g};m.extend({expando:"jQuery"+(l+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a);},noop:function(){},isFunction:function(a){return"function"===m.type(a)},isArray:Array.isArray||function(a){return"array"===m.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!m.isArray(a)&&a-parseFloat(a)>=0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},isPlainObject:function(a){var b;if(!a||"object"!==m.type(a)||a.nodeType||m.isWindow(a))return!1;try{if(a.constructor&&!j.call(a,"constructor")&&!j.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}if(k.ownLast)for(b in a)return j.call(a,b);for(b in a);return void 0===b||j.call(a,b)},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?h[i.call(a)]||"object":typeof a},globalEval:function(b){b&&m.trim(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(o,"ms-").replace(p,q)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var d,e=0,f=a.length,g=r(a);if(c){if(g){for(;f>e;e++)if(d=b.apply(a[e],c),d===!1)break}else for(e in a)if(d=b.apply(a[e],c),d===!1)break}else if(g){for(;f>e;e++)if(d=b.call(a[e],e,a[e]),d===!1)break}else for(e in a)if(d=b.call(a[e],e,a[e]),d===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(n,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(r(Object(a))?m.merge(c,"string"==typeof a?[a]:a):f.call(c,a)),c},inArray:function(a,b,c){var d;if(b){if(g)return g.call(b,a,c);for(d=b.length,c=c?0>c?Math.max(0,d+c):c:0;d>c;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;)a[e++]=b[d++];if(c!==c)while(void 0!==b[d])a[e++]=b[d++];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,f=0,g=a.length,h=r(a),i=[];if(h)for(;g>f;f++)d=b(a[f],f,c),null!=d&&i.push(d);else for(f in a)d=b(a[f],f,c),null!=d&&i.push(d);return e.apply([],i)},guid:1,proxy:function(a,b){var c,e,f;return"string"==typeof b&&(f=a[b],b=a,a=f),m.isFunction(a)?(c=d.call(arguments,2),e=function(){return a.apply(b||this,c.concat(d.call(arguments)))},e.guid=a.guid=a.guid||m.guid++,e):void 0},now:function(){return+new Date},support:k});m.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){h["[object "+b+"]"]=b.toLowerCase()});s=function(a){function fb(a,b,d,e){var f,h,j,k,l,o,r,s,w,x;if((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,d=d||[],!a||"string"!=typeof a)return d;if(1!==(k=b.nodeType)&&9!==k)return[];if(p&&!e){if(f=_.exec(a))if(j=f[1]){if(9===k){if(h=b.getElementById(j),!h||!h.parentNode)return d;if(h.id===j)return d.push(h),d}else if(b.ownerDocument&&(h=b.ownerDocument.getElementById(j))&&t(b,h)&&h.id===j)return d.push(h),d}else{if(f[2])return I.apply(d,b.getElementsByTagName(a)),d;if((j=f[3])&&c.getElementsByClassName&&b.getElementsByClassName)return I.apply(d,b.getElementsByClassName(j)),d}if(c.qsa&&(!q||!q.test(a))){if(s=r=u,w=b,x=9===k&&a,1===k&&"object"!==b.nodeName.toLowerCase()){for(o=g(a),(r=b.getAttribute("id"))?s=r.replace(bb,"\\$&"):b.setAttribute("id",s),s="[id='"+s+"'] ",l=o.length;l--;)o[l]=s+qb(o[l]);w=ab.test(a)&&ob(b.parentNode)||b;x=o.join(",")}if(x)try{return I.apply(d,w.querySelectorAll(x)),d}catch(y){}finally{r||b.removeAttribute("id")}}}return i(a.replace(R,"$1"),b,d,e)}function gb(){function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}var a=[];return b}function hb(a){return a[u]=!0,a}function ib(a){var b=n.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b);b=null}}function jb(a,b){for(var c=a.split("|"),e=a.length;e--;)d.attrHandle[c[e]]=b}function kb(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||D)-(~a.sourceIndex||D);if(d)return d;if(c)while(c=c.nextSibling)if(c===b)return-1;return a?1:-1}function lb(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function mb(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function nb(a){return hb(function(b){return b=+b,hb(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function ob(a){return a&&typeof a.getElementsByTagName!==C&&a}function pb(){}function qb(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function rb(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=x++;return b.first?function(b,c,f){while(b=b[d])if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j=[w,f];if(g){while(b=b[d])if((1===b.nodeType||e)&&a(b,c,g))return!0}else while(b=b[d])if(1===b.nodeType||e){if(i=b[u]||(b[u]={}),(h=i[d])&&h[0]===w&&h[1]===f)return j[2]=h[2];if(i[d]=j,j[2]=a(b,c,g))return!0}}}function sb(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function tb(a,b,c){for(var d=0,e=b.length;e>d;d++)fb(a,b[d],c);return c}function ub(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function vb(a,b,c,d,e,f){return d&&!d[u]&&(d=vb(d)),e&&!e[u]&&(e=vb(e,f)),hb(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||tb(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:ub(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d)for(j=ub(r,n),d(j,[],h,i),k=j.length;k--;)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l));if(f){if(e||a){if(e){for(j=[],k=r.length;k--;)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}for(k=r.length;k--;)(l=r[k])&&(j=e?K.call(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=ub(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):I.apply(g,r)})}function wb(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=rb(function(a){return a===b},h,!0),l=rb(function(a){return K.call(b,a)>-1},h,!0),m=[function(a,c,d){return!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d))}];f>i;i++)if(c=d.relative[a[i].type])m=[rb(sb(m),c)];else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;f>e;e++)if(d.relative[a[e].type])break;return vb(i>1&&sb(m),i>1&&qb(a.slice(0,i-1).concat({value:" "===a[i-2].type?"*":""})).replace(R,"$1"),c,e>i&&wb(a.slice(i,e)),f>e&&wb(a=a.slice(e)),f>e&&qb(a))}m.push(c)}return sb(m)}function xb(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,m,o,p=0,q="0",r=f&&[],s=[],t=j,u=f||e&&d.find.TAG("*",k),v=w+=null==t?1:Math.random()||.1,x=u.length;for(k&&(j=g!==n&&g);q!==x&&null!=(l=u[q]);q++){if(e&&l){for(m=0;o=a[m++];)if(o(l,g,h)){i.push(l);break}k&&(w=v)}c&&((l=!o&&l)&&p--,f&&r.push(l))}if(p+=q,c&&q!==p){for(m=0;o=b[m++];)o(r,s,g,h);if(f){if(p>0)while(q--)r[q]||s[q]||(s[q]=G.call(i));s=ub(s)}I.apply(i,s);k&&!f&&s.length>0&&p+b.length>1&&fb.uniqueSort(i)}return k&&(w=v,j=t),r};return c?hb(f):f}var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+-new Date,v=a.document,w=0,x=0,y=gb(),z=gb(),A=gb(),B=function(a,b){return a===b&&(l=!0),0},C="undefined",D=-2147483648,E={}.hasOwnProperty,F=[],G=F.pop,H=F.push,I=F.push,J=F.slice,K=F.indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]===a)return b;return-1},L="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="[\\x20\\t\\r\\n\\f]",N="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",O=N.replace("w","w#"),P="\\["+M+"*("+N+")(?:"+M+"*([*^$|!~]?=)"+M+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+O+"))|)"+M+"*\\]",Q=":("+N+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+P+")*)|.*)\\)|)",R=new RegExp("^"+M+"+|((?:^|[^\\\\])(?:\\\\.)*)"+M+"+$","g"),S=new RegExp("^"+M+"*,"+M+"*"),T=new RegExp("^"+M+"*([>+~]|"+M+")"+M+"*"),U=new RegExp("="+M+"*([^\\]'\"]*?)"+M+"*\\]","g"),V=new RegExp(Q),W=new RegExp("^"+O+"$"),X={ID:new RegExp("^#("+N+")"),CLASS:new RegExp("^\\.("+N+")"),TAG:new RegExp("^("+N.replace("w","w*")+")"),ATTR:new RegExp("^"+P),PSEUDO:new RegExp("^"+Q),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+M+"*(even|odd|(([+-]|)(\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\d+)|))"+M+"*\\)|)","i"),bool:new RegExp("^(?:"+L+")$","i"),needsContext:new RegExp("^"+M+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+M+"*((?:-\\d)?\\d*)"+M+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,$=/^[^{]+\{\s*\[native \w/,_=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ab=/[+~]/,bb=/'|\\/g,cb=new RegExp("\\\\([\\da-f]{1,6}"+M+"?|("+M+")|.)","ig"),db=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)};try{I.apply(F=J.call(v.childNodes),v.childNodes);F[v.childNodes.length].nodeType}catch(eb){I={apply:F.length?function(a,b){H.apply(a,J.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}c=fb.support={};f=fb.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1};m=fb.setDocument=function(a){var b,e=a?a.ownerDocument||a:v,g=e.defaultView;return e!==n&&9===e.nodeType&&e.documentElement?(n=e,o=e.documentElement,p=!f(e),g&&g!==g.top&&(g.addEventListener?g.addEventListener("pagehide",function(){m()},!1):g.attachEvent&&g.attachEvent("onunload",function(){m()})),c.attributes=ib(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=ib(function(a){return a.appendChild(e.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=$.test(e.getElementsByClassName)&&ib(function(a){return a.innerHTML="<div class='a'><\/div><div class='a i'><\/div>",a.firstChild.className="i",2===a.getElementsByClassName("i").length}),c.getById=ib(function(a){return o.appendChild(a).id=u,!e.getElementsByName||!e.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if(typeof b.getElementById!==C&&p){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},d.filter.ID=function(a){var b=a.replace(cb,db);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(cb,db);return function(a){var c=typeof a.getAttributeNode!==C&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){if(typeof b.getElementsByTagName!==C)return b.getElementsByTagName(a)}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){while(c=f[e++])1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){if(typeof b.getElementsByClassName!==C&&p)return b.getElementsByClassName(a)},r=[],q=[],(c.qsa=$.test(e.querySelectorAll))&&(ib(function(a){a.innerHTML="<select msallowclip=''><option selected=''><\/option><\/select>";a.querySelectorAll("[msallowclip^='']").length&&q.push("[*^$]="+M+"*(?:''|\"\")");a.querySelectorAll("[selected]").length||q.push("\\["+M+"*(?:value|"+L+")");a.querySelectorAll(":checked").length||q.push(":checked")}),ib(function(a){var b=e.createElement("input");b.setAttribute("type","hidden");a.appendChild(b).setAttribute("name","D");a.querySelectorAll("[name=d]").length&&q.push("name"+M+"*[*^$|!~]?=");a.querySelectorAll(":enabled").length||q.push(":enabled",":disabled");a.querySelectorAll("*,:x");q.push(",.*:")})),(c.matchesSelector=$.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ib(function(a){c.disconnectedMatch=s.call(a,"div");s.call(a,"[s!='']:x");r.push("!=",Q)}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=$.test(o.compareDocumentPosition),t=b||$.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)while(b=b.parentNode)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===e||a.ownerDocument===v&&t(v,a)?-1:b===e||b.ownerDocument===v&&t(v,b)?1:k?K.call(k,a)-K.call(k,b):0:4&d?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,f=a.parentNode,g=b.parentNode,h=[a],i=[b];if(!f||!g)return a===e?-1:b===e?1:f?-1:g?1:k?K.call(k,a)-K.call(k,b):0;if(f===g)return kb(a,b);for(c=a;c=c.parentNode;)h.unshift(c);for(c=b;c=c.parentNode;)i.unshift(c);while(h[d]===i[d])d++;return d?kb(h[d],i[d]):h[d]===v?-1:i[d]===v?1:0},e):n};fb.matches=function(a,b){return fb(a,null,null,b)};fb.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(U,"='$1']"),!(!c.matchesSelector||!p||r&&r.test(b)||q&&q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return fb(b,n,null,[a]).length>0};fb.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)};fb.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&E.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null};fb.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a);};fb.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){while(b=a[f++])b===a[f]&&(e=d.push(f));while(e--)a.splice(d[e],1)}return k=null,a};e=fb.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else while(b=a[d++])c+=e(b);return c};d=fb.selectors={cacheLength:50,createPseudo:hb,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(cb,db),a[3]=(a[3]||a[4]||a[5]||"").replace(cb,db),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||fb.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&fb.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return X.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&V.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(cb,db).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+M+")"+a+"("+M+"|$)"))&&y(a,function(a){return b.test("string"==typeof a.className&&a.className||typeof a.getAttribute!==C&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=fb.attr(d,a);return null==e?"!="===b:b?(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e+" ").indexOf(c)>-1:"|="===b?e===c||e.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){while(p){for(l=b;l=l[p];)if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){for(k=q[u]||(q[u]={}),j=k[a]||[],n=j[0]===w&&j[1],m=j[0]===w&&j[2],l=n&&q.childNodes[n];l=++n&&l&&l[p]||(m=n=0)||o.pop();)if(1===l.nodeType&&++m&&l===b){k[a]=[w,n,m];break}}else if(s&&(j=(b[u]||(b[u]={}))[a])&&j[0]===w)m=j[1];else while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if((h?l.nodeName.toLowerCase()===r:1===l.nodeType)&&++m&&(s&&((l[u]||(l[u]={}))[a]=[w,m]),l===b))break;return m-=e,m===d||m%d==0&&m/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||fb.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?hb(function(a,c){for(var d,f=e(a,b),g=f.length;g--;)d=K.call(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:hb(function(a){var b=[],c=[],d=h(a.replace(R,"$1"));return d[u]?hb(function(a,b,c,e){for(var f,g=d(a,null,e,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),!c.pop()}}),has:hb(function(a){return function(b){return fb(a,b).length>0}}),contains:hb(function(a){return function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:hb(function(a){return W.test(a||"")||fb.error("unsupported lang: "+a),a=a.replace(cb,db).toLowerCase(),function(b){var c;do if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return Z.test(a.nodeName)},input:function(a){return Y.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:nb(function(){return[0]}),last:nb(function(a,b){return[b-1]}),eq:nb(function(a,b,c){return[0>c?c+b:c]}),even:nb(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:nb(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:nb(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:nb(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}};d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=lb(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=mb(b);return pb.prototype=d.filters=d.pseudos,d.setFilters=new pb,g=fb.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k)return b?0:k.slice(0);for(h=a,i=[],j=d.preFilter;h;){(!c||(e=S.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[]));c=!1;(e=T.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(R," ")}),h=h.slice(c.length));for(g in d.filter)(e=X[g].exec(h))&&(!j[g]||(e=j[g](e)))&&(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?fb.error(a):z(a,i).slice(0)},h=fb.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){for(b||(b=g(a)),c=b.length;c--;)f=wb(b[c]),f[u]?d.push(f):e.push(f);f=A(a,xb(e,d));f.selector=a}return f},i=fb.select=function(a,b,e,f){var i,j,k,l,m,n="function"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if(j=o[0]=o[0].slice(0),j.length>2&&"ID"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(b=(d.find.ID(k.matches[0].replace(cb,db),b)||[])[0],!b)return e;n&&(b=b.parentNode);a=a.slice(j.shift().value.length)}for(i=X.needsContext.test(a)?0:j.length;i--;){if(k=j[i],d.relative[l=k.type])break;if((m=d.find[l])&&(f=m(k.matches[0].replace(cb,db),ab.test(j[0].type)&&ob(b.parentNode)||b))){if(j.splice(i,1),a=f.length&&qb(j),!a)return I.apply(e,f),e;break}}}return(n||h(a,o))(f,b,!p,e,ab.test(a)&&ob(b.parentNode)||b),e},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ib(function(a){return 1&a.compareDocumentPosition(n.createElement("div"))}),ib(function(a){return a.innerHTML="<a href='#'><\/a>","#"===a.firstChild.getAttribute("href")})||jb("type|href|height|width",function(a,b,c){if(!c)return a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&ib(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||jb("value",function(a,b,c){if(!c&&"input"===a.nodeName.toLowerCase())return a.defaultValue}),ib(function(a){return null==a.getAttribute("disabled")})||jb(L,function(a,b,c){var d;if(!c)return a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),fb}(a);m.find=s;m.expr=s.selectors;m.expr[":"]=m.expr.pseudos;m.unique=s.uniqueSort;m.text=s.getText;m.isXMLDoc=s.isXML;m.contains=s.contains;var t=m.expr.match.needsContext,u=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,v=/^.[^:#\[\.,]*$/;m.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?m.find.matchesSelector(d,a)?[d]:[]:m.find.matches(a,m.grep(b,function(a){return 1===a.nodeType}))};m.fn.extend({find:function(a){var b,c=[],d=this,e=d.length;if("string"!=typeof a)return this.pushStack(m(a).filter(function(){for(b=0;e>b;b++)if(m.contains(d[b],this))return!0}));for(b=0;e>b;b++)m.find(a,d[b],c);return c=this.pushStack(e>1?m.unique(c):c),c.selector=this.selector?this.selector+" "+a:a,c},filter:function(a){return this.pushStack(w(this,a||[],!1))},not:function(a){return this.pushStack(w(this,a||[],!0))},is:function(a){return!!w(this,"string"==typeof a&&t.test(a)?m(a):a||[],!1).length}});var x,y=a.document,z=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,A=m.fn.init=function(a,b){var c,d;if(!a)return this;if("string"==typeof a){if(c="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:z.exec(a),!c||!c[1]&&b)return!b||b.jquery?(b||x).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof m?b[0]:b,m.merge(this,m.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:y,!0)),u.test(c[1])&&m.isPlainObject(b))for(c in b)m.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}if(d=y.getElementById(c[2]),d&&d.parentNode){if(d.id!==c[2])return x.find(a);this.length=1;this[0]=d}return this.context=y,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):m.isFunction(a)?"undefined"!=typeof x.ready?x.ready(a):a(m):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),m.makeArray(a,this))};A.prototype=m.fn;x=m(y);B=/^(?:parents|prev(?:Until|All))/;C={children:!0,contents:!0,next:!0,prev:!0};m.extend({dir:function(a,b,c){for(var d=[],e=a[b];e&&9!==e.nodeType&&(void 0===c||1!==e.nodeType||!m(e).is(c));)1===e.nodeType&&d.push(e),e=e[b];return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}});m.fn.extend({has:function(a){var b,c=m(a,this),d=c.length;return this.filter(function(){for(b=0;d>b;b++)if(m.contains(this,c[b]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=t.test(a)||"string"!=typeof a?m(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&m.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?m.unique(f):f)},index:function(a){return a?"string"==typeof a?m.inArray(this[0],m(a)):m.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(m.unique(m.merge(this.get(),m(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});m.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return m.dir(a,"parentNode")},parentsUntil:function(a,b,c){return m.dir(a,"parentNode",c)},next:function(a){return D(a,"nextSibling")},prev:function(a){return D(a,"previousSibling")},nextAll:function(a){return m.dir(a,"nextSibling")},prevAll:function(a){return m.dir(a,"previousSibling")},nextUntil:function(a,b,c){return m.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return m.dir(a,"previousSibling",c)},siblings:function(a){return m.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return m.sibling(a.firstChild)},contents:function(a){return m.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:m.merge([],a.childNodes)}},function(a,b){m.fn[a]=function(c,d){var e=m.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=m.filter(d,e)),this.length>1&&(C[a]||(e=m.unique(e)),B.test(a)&&(e=e.reverse())),this.pushStack(e)}});E=/\S+/g;F={};m.Callbacks=function(a){a="string"==typeof a?F[a]||G(a):m.extend({},a);var b,c,d,e,f,g,h=[],i=!a.once&&[],j=function(l){for(c=a.memory&&l,d=!0,f=g||0,g=0,e=h.length,b=!0;h&&e>f;f++)if(h[f].apply(l[0],l[1])===!1&&a.stopOnFalse){c=!1;break}b=!1;h&&(i?i.length&&j(i.shift()):c?h=[]:k.disable())},k={add:function(){if(h){var d=h.length;!function f(b){m.each(b,function(b,c){var d=m.type(c);"function"===d?a.unique&&k.has(c)||h.push(c):c&&c.length&&"string"!==d&&f(c)})}(arguments);b?e=h.length:c&&(g=d,j(c))}return this},remove:function(){return h&&m.each(arguments,function(a,c){for(var d;(d=m.inArray(c,h,d))>-1;)h.splice(d,1),b&&(e>=d&&e--,f>=d&&f--)}),this},has:function(a){return a?m.inArray(a,h)>-1:!(!h||!h.length)},empty:function(){return h=[],e=0,this},disable:function(){return h=i=c=void 0,this},disabled:function(){return!h},lock:function(){return i=void 0,c||k.disable(),this},locked:function(){return!i},fireWith:function(a,c){return!h||d&&!i||(c=c||[],c=[a,c.slice?c.slice():c],b?i.push(c):j(c)),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return!!d}};return k};m.extend({Deferred:function(a){var b=[["resolve","done",m.Callbacks("once memory"),"resolved"],["reject","fail",m.Callbacks("once memory"),"rejected"],["notify","progress",m.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return m.Deferred(function(c){m.each(b,function(b,f){var g=m.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&m.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})});a=null}).promise()},promise:function(a){return null!=a?m.extend(a,d):d}},e={};return d.pipe=d.then,m.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add;h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock);e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this};e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=d.call(arguments),e=c.length,f=1!==e||a&&m.isFunction(a.promise)?e:0,g=1===f?a:m.Deferred(),h=function(a,b,c){return function(e){b[a]=this;c[a]=arguments.length>1?d.call(arguments):e;c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},i,j,k;if(e>1)for(i=new Array(e),j=new Array(e),k=new Array(e);e>b;b++)c[b]&&m.isFunction(c[b].promise)?c[b].promise().done(h(b,k,c)).fail(g.reject).progress(h(b,j,i)):--f;return f||g.resolveWith(k,c),g.promise()}});m.fn.ready=function(a){return m.ready.promise().done(a),this};m.extend({isReady:!1,readyWait:1,holdReady:function(a){a?m.readyWait++:m.ready(!0)},ready:function(a){if(a===!0?!--m.readyWait:!m.isReady){if(!y.body)return setTimeout(m.ready);m.isReady=!0;a!==!0&&--m.readyWait>0||(H.resolveWith(y,[m]),m.fn.triggerHandler&&(m(y).triggerHandler("ready"),m(y).off("ready")))}}});m.ready.promise=function(b){if(!H)if(H=m.Deferred(),"complete"===y.readyState)setTimeout(m.ready);else if(y.addEventListener)y.addEventListener("DOMContentLoaded",J,!1),a.addEventListener("load",J,!1);else{y.attachEvent("onreadystatechange",J);a.attachEvent("onload",J);var c=!1;try{c=null==a.frameElement&&y.documentElement}catch(d){}c&&c.doScroll&&!function e(){if(!m.isReady){try{c.doScroll("left")}catch(a){return setTimeout(e,50)}I();m.ready()}}()}return H.promise(b)};K="undefined";for(L in m(k))break;k.ownLast="0"!==L;k.inlineBlockNeedsLayout=!1;m(function(){var a,b,c,d;c=y.getElementsByTagName("body")[0];c&&c.style&&(b=y.createElement("div"),d=y.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),typeof b.style.zoom!==K&&(b.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",k.inlineBlockNeedsLayout=a=3===b.offsetWidth,a&&(c.style.zoom=1)),c.removeChild(d))}),function(){var a=y.createElement("div");if(null==k.deleteExpando){k.deleteExpando=!0;try{delete a.test}catch(b){k.deleteExpando=!1}}a=null}();m.acceptData=function(a){var b=m.noData[(a.nodeName+" ").toLowerCase()],c=+a.nodeType||1;return 1!==c&&9!==c?!1:!b||b!==!0&&a.getAttribute("classid")===b};M=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/;N=/([A-Z])/g;m.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){return a=a.nodeType?m.cache[a[m.expando]]:a[m.expando],!!a&&!P(a)},data:function(a,b,c){return Q(a,b,c)},removeData:function(a,b){return R(a,b)},_data:function(a,b,c){return Q(a,b,c,!0)},_removeData:function(a,b){return R(a,b,!0)}});m.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=m.data(f),1===f.nodeType&&!m._data(f,"parsedAttrs"))){for(c=g.length;c--;)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=m.camelCase(d.slice(5)),O(f,d,e[d])));m._data(f,"parsedAttrs",!0)}return e}return"object"==typeof a?this.each(function(){m.data(this,a)}):arguments.length>1?this.each(function(){m.data(this,a,b)}):f?O(f,a,m.data(f,a)):void 0},removeData:function(a){return this.each(function(){m.removeData(this,a)})}});m.extend({queue:function(a,b,c){var d;if(a)return(b=(b||"fx")+"queue",d=m._data(a,b),c&&(!d||m.isArray(c)?d=m._data(a,b,m.makeArray(c)):d.push(c)),d||[])},dequeue:function(a,b){b=b||"fx";var c=m.queue(a,b),d=c.length,e=c.shift(),f=m._queueHooks(a,b),g=function(){m.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--);e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f));!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return m._data(a,c)||m._data(a,c,{empty:m.Callbacks("once memory").add(function(){m._removeData(a,b+"queue");m._removeData(a,c)})})}});m.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?m.queue(this[0],a):void 0===b?this:this.each(function(){var c=m.queue(this,a,b);m._queueHooks(this,a);"fx"===a&&"inprogress"!==c[0]&&m.dequeue(this,a)})},dequeue:function(a){return this.each(function(){m.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=m.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};for("string"!=typeof a&&(b=a,a=void 0),a=a||"fx";g--;)c=m._data(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var S=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,T=["Top","Right","Bottom","Left"],U=function(a,b){return a=b||a,"none"===m.css(a,"display")||!m.contains(a.ownerDocument,a)},V=m.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===m.type(c)){e=!0;for(h in c)m.access(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,m.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(m(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},W=/^(?:checkbox|radio)$/i;!function(){var a=y.createElement("input"),b=y.createElement("div"),c=y.createDocumentFragment();if(b.innerHTML="  <link/><table><\/table><a href='/a'>a<\/a><input type='checkbox'/>",k.leadingWhitespace=3===b.firstChild.nodeType,k.tbody=!b.getElementsByTagName("tbody").length,k.htmlSerialize=!!b.getElementsByTagName("link").length,k.html5Clone="<:nav><\/:nav>"!==y.createElement("nav").cloneNode(!0).outerHTML,a.type="checkbox",a.checked=!0,c.appendChild(a),k.appendChecked=a.checked,b.innerHTML="<textarea>x<\/textarea>",k.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue,c.appendChild(b),b.innerHTML="<input type='radio' checked='checked' name='t'/>",k.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,k.noCloneEvent=!0,b.attachEvent&&(b.attachEvent("onclick",function(){k.noCloneEvent=!1}),b.cloneNode(!0).click()),null==k.deleteExpando){k.deleteExpando=!0;try{delete b.test}catch(d){k.deleteExpando=!1}}}(),function(){var b,c,d=y.createElement("div");for(b in{submit:!0,change:!0,focusin:!0})c="on"+b,(k[b+"Bubbles"]=c in a)||(d.setAttribute(c,"t"),k[b+"Bubbles"]=d.attributes[c].expando===!1);d=null}();var X=/^(?:input|select|textarea)$/i,Y=/^key/,Z=/^(?:mouse|pointer|contextmenu)|click/,$=/^(?:focusinfocus|focusoutblur)$/,_=/^([^.]*)(?:\.(.+)|)$/;m.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,n,o,p,q,r=m._data(a);if(r){for(c.handler&&(i=c,c=i.handler,e=i.selector),c.guid||(c.guid=m.guid++),(g=r.events)||(g=r.events={}),(k=r.handle)||(k=r.handle=function(a){if(typeof m!==K&&(!a||m.event.triggered!==a.type))return m.event.dispatch.apply(k.elem,arguments)},k.elem=a),b=(b||"").match(E)||[""],h=b.length;h--;)f=_.exec(b[h])||[],o=q=f[1],p=(f[2]||"").split(".").sort(),o&&(j=m.event.special[o]||{},o=(e?j.delegateType:j.bindType)||o,j=m.event.special[o]||{},l=m.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&m.expr.match.needsContext.test(e),namespace:p.join(".")},i),(n=g[o])||(n=g[o]=[],n.delegateCount=0,j.setup&&j.setup.call(a,d,p,k)!==!1||(a.addEventListener?a.addEventListener(o,k,!1):a.attachEvent&&a.attachEvent("on"+o,k))),j.add&&(j.add.call(a,l),l.handler.guid||(l.handler.guid=c.guid)),e?n.splice(n.delegateCount++,0,l):n.push(l),m.event.global[o]=!0);a=null}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,n,o,p,q,r=m.hasData(a)&&m._data(a);if(r&&(k=r.events)){for(b=(b||"").match(E)||[""],j=b.length;j--;)if(h=_.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o){for(l=m.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,n=k[o]||[],h=h[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),i=f=n.length;f--;)g=n[f],!e&&q!==g.origType||c&&c.guid!==g.guid||h&&!h.test(g.namespace)||d&&d!==g.selector&&("**"!==d||!g.selector)||(n.splice(f,1),g.selector&&n.delegateCount--,l.remove&&l.remove.call(a,g));i&&!n.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||m.removeEvent(a,o,r.handle),delete k[o])}else for(o in k)m.event.remove(a,o+b[j],c,d,!0);m.isEmptyObject(k)&&(delete r.handle,m._removeData(a,"events"))}},trigger:function(b,c,d,e){var f,g,h,i,k,l,n,o=[d||y],p=j.call(b,"type")?b.type:b,q=j.call(b,"namespace")?b.namespace.split("."):[];if(h=l=d=d||y,3!==d.nodeType&&8!==d.nodeType&&!$.test(p+m.event.triggered)&&(p.indexOf(".")>=0&&(q=p.split("."),p=q.shift(),q.sort()),g=p.indexOf(":")<0&&"on"+p,b=b[m.expando]?b:new m.Event(p,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=q.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+q.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:m.makeArray(c,[b]),k=m.event.special[p]||{},e||!k.trigger||k.trigger.apply(d,c)!==!1)){if(!e&&!k.noBubble&&!m.isWindow(d)){for(i=k.delegateType||p,$.test(i+p)||(h=h.parentNode);h;h=h.parentNode)o.push(h),l=h;l===(d.ownerDocument||y)&&o.push(l.defaultView||l.parentWindow||a)}for(n=0;(h=o[n++])&&!b.isPropagationStopped();)b.type=n>1?i:k.bindType||p,f=(m._data(h,"events")||{})[b.type]&&m._data(h,"handle"),f&&f.apply(h,c),f=g&&h[g],f&&f.apply&&m.acceptData(h)&&(b.result=f.apply(h,c),b.result===!1&&b.preventDefault());if(b.type=p,!e&&!b.isDefaultPrevented()&&(!k._default||k._default.apply(o.pop(),c)===!1)&&m.acceptData(d)&&g&&d[p]&&!m.isWindow(d)){l=d[g];l&&(d[g]=null);m.event.triggered=p;try{d[p]()}catch(r){}m.event.triggered=void 0;l&&(d[g]=l)}return b.result}},dispatch:function(a){a=m.event.fix(a);var b,c,e,f,g,h=[],i=d.call(arguments),j=(m._data(this,"events")||{})[a.type]||[],k=m.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){for(h=m.event.handlers.call(this,a,j),b=0;(f=h[b++])&&!a.isPropagationStopped();)for(a.currentTarget=f.elem,g=0;(e=f.handlers[g++])&&!a.isImmediatePropagationStopped();)(!a.namespace_re||a.namespace_re.test(e.namespace))&&(a.handleObj=e,a.data=e.data,c=((m.event.special[e.origType]||{}).handle||e.handler).apply(f.elem,i),void 0!==c&&(a.result=c)===!1&&(a.preventDefault(),a.stopPropagation()));return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type))for(;i!=this;i=i.parentNode||this)if(1===i.nodeType&&(i.disabled!==!0||"click"!==a.type)){for(e=[],f=0;h>f;f++)d=b[f],c=d.selector+" ",void 0===e[c]&&(e[c]=d.needsContext?m(c,this).index(i)>=0:m.find(c,this,null,[i]).length),e[c]&&e.push(d);e.length&&g.push({elem:i,handlers:e})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},fix:function(a){if(a[m.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];for(g||(this.fixHooks[e]=g=Z.test(e)?this.mouseHooks:Y.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new m.Event(f),b=d.length;b--;)c=d[b],a[c]=f[c];return a.target||(a.target=f.srcElement||y),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,g.filter?g.filter(a,f):a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button,g=b.fromElement;return null==a.pageX&&null!=b.clientX&&(d=a.target.ownerDocument||y,e=d.documentElement,c=d.body,a.pageX=b.clientX+(e&&e.scrollLeft||c&&c.scrollLeft||0)-(e&&e.clientLeft||c&&c.clientLeft||0),a.pageY=b.clientY+(e&&e.scrollTop||c&&c.scrollTop||0)-(e&&e.clientTop||c&&c.clientTop||0)),!a.relatedTarget&&g&&(a.relatedTarget=g===a.target?b.toElement:g),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==cb()&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:"focusin"},blur:{trigger:function(){if(this===cb()&&this.blur)return(this.blur(),!1)},delegateType:"focusout"},click:{trigger:function(){if(m.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return(this.click(),!1)},_default:function(a){return m.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=m.extend(new m.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?m.event.trigger(e,null,b):m.event.dispatch.call(b,e);e.isDefaultPrevented()&&c.preventDefault()}};m.removeEvent=y.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){var d="on"+b;a.detachEvent&&(typeof a[d]===K&&(a[d]=null),a.detachEvent(d,c))};m.Event=function(a,b){return this instanceof m.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?ab:bb):this.type=a,b&&m.extend(this,b),this.timeStamp=a&&a.timeStamp||m.now(),void(this[m.expando]=!0)):new m.Event(a,b)};m.Event.prototype={isDefaultPrevented:bb,isPropagationStopped:bb,isImmediatePropagationStopped:bb,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=ab;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=ab;a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=ab;a&&a.stopImmediatePropagation&&a.stopImmediatePropagation();this.stopPropagation()}};m.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){m.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!m.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}});k.submitBubbles||(m.event.special.submit={setup:function(){return m.nodeName(this,"form")?!1:void m.event.add(this,"click._submit keypress._submit",function(a){var b=a.target,c=m.nodeName(b,"input")||m.nodeName(b,"button")?b.form:void 0;c&&!m._data(c,"submitBubbles")&&(m.event.add(c,"submit._submit",function(a){a._submit_bubble=!0}),m._data(c,"submitBubbles",!0))})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&m.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){return m.nodeName(this,"form")?!1:void m.event.remove(this,"._submit")}});k.changeBubbles||(m.event.special.change={setup:function(){return X.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(m.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),m.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1);m.event.simulate("change",this,a,!0)})),!1):void m.event.add(this,"beforeactivate._change",function(a){var b=a.target;X.test(b.nodeName)&&!m._data(b,"changeBubbles")&&(m.event.add(b,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||m.event.simulate("change",this.parentNode,a,!0)}),m._data(b,"changeBubbles",!0))})},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type)return a.handleObj.handler.apply(this,arguments)},teardown:function(){return m.event.remove(this,"._change"),!X.test(this.nodeName)}});k.focusinBubbles||m.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){m.event.simulate(b,a.target,m.event.fix(a),!0)};m.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=m._data(d,b);e||d.addEventListener(a,c,!0);m._data(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=m._data(d,b)-1;e?m._data(d,b,e):(d.removeEventListener(a,c,!0),m._removeData(d,b))}}});m.fn.extend({on:function(a,b,c,d,e){var f,g;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(f in a)this.on(f,b,c,a[f],e);return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1)d=bb;else if(!d)return this;return 1===e&&(g=d,d=function(a){return m().off(a),g.apply(this,arguments)},d.guid=g.guid||(g.guid=m.guid++)),this.each(function(){m.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,m(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return(b===!1||"function"==typeof b)&&(c=b,b=void 0),c===!1&&(c=bb),this.each(function(){m.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){m.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];if(c)return m.event.trigger(a,b,c,!0)}});var eb="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",fb=/ jQuery\d+="(?:null|\d+)"/g,gb=new RegExp("<(?:"+eb+")[\\s/>]","i"),hb=/^\s+/,ib=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,jb=/<([\w:]+)/,kb=/<tbody/i,lb=/<|&#?\w+;/,mb=/<(?:script|style|link)/i,nb=/checked\s*(?:[^=]|=\s*.checked.)/i,ob=/^$|\/(?:java|ecma)script/i,pb=/^true\/(.*)/,qb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,rb={option:[1,"<select multiple='multiple'>","<\/select>"],legend:[1,"<fieldset>","<\/fieldset>"],area:[1,"<map>","<\/map>"],param:[1,"<object>","<\/object>"],thead:[1,"<table>","<\/table>"],tr:[2,"<table><tbody>","<\/tbody><\/table>"],col:[2,"<table><tbody><\/tbody><colgroup>","<\/colgroup><\/table>"],td:[3,"<table><tbody><tr>","<\/tr><\/tbody><\/table>"],_default:k.htmlSerialize?[0,"",""]:[1,"X<div>","<\/div>"]},sb=db(y),tb=sb.appendChild(y.createElement("div"));rb.optgroup=rb.option;rb.tbody=rb.tfoot=rb.colgroup=rb.caption=rb.thead;rb.th=rb.td;m.extend({clone:function(a,b,c){var d,e,f,g,h,i=m.contains(a.ownerDocument,a);if(k.html5Clone||m.isXMLDoc(a)||!gb.test("<"+a.nodeName+">")?f=a.cloneNode(!0):(tb.innerHTML=a.outerHTML,tb.removeChild(f=tb.firstChild)),!(k.noCloneEvent&&k.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||m.isXMLDoc(a)))for(d=ub(f),h=ub(a),g=0;null!=(e=h[g]);++g)d[g]&&Bb(e,d[g]);if(b)if(c)for(h=h||ub(a),d=d||ub(f),g=0;null!=(e=h[g]);g++)Ab(e,d[g]);else Ab(a,f);return d=ub(f,"script"),d.length>0&&zb(d,!i&&ub(a,"script")),d=h=e=null,f},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,l,n=a.length,o=db(b),p=[],q=0;n>q;q++)if(f=a[q],f||0===f)if("object"===m.type(f))m.merge(p,f.nodeType?[f]:f);else if(lb.test(f)){for(h=h||o.appendChild(b.createElement("div")),i=(jb.exec(f)||["",""])[1].toLowerCase(),l=rb[i]||rb._default,h.innerHTML=l[1]+f.replace(ib,"<$1><\/$2>")+l[2],e=l[0];e--;)h=h.lastChild;if(!k.leadingWhitespace&&hb.test(f)&&p.push(b.createTextNode(hb.exec(f)[0])),!k.tbody)for(f="table"!==i||kb.test(f)?"<table>"!==l[1]||kb.test(f)?0:h:h.firstChild,e=f&&f.childNodes.length;e--;)m.nodeName(j=f.childNodes[e],"tbody")&&!j.childNodes.length&&f.removeChild(j);for(m.merge(p,h.childNodes),h.textContent="";h.firstChild;)h.removeChild(h.firstChild);h=o.lastChild}else p.push(b.createTextNode(f));for(h&&o.removeChild(h),k.appendChecked||m.grep(ub(p,"input"),vb),q=0;f=p[q++];)if((!d||-1===m.inArray(f,d))&&(g=m.contains(f.ownerDocument,f),h=ub(o.appendChild(f),"script"),g&&zb(h),c))for(e=0;f=h[e++];)ob.test(f.type||"")&&c.push(f);return h=null,o},cleanData:function(a,b){for(var d,e,f,g,h=0,i=m.expando,j=m.cache,l=k.deleteExpando,n=m.event.special;null!=(d=a[h]);h++)if((b||m.acceptData(d))&&(f=d[i],g=f&&j[f])){if(g.events)for(e in g.events)n[e]?m.event.remove(d,e):m.removeEvent(d,e,g.handle);j[f]&&(delete j[f],l?delete d[i]:typeof d.removeAttribute!==K?d.removeAttribute(i):d[i]=null,c.push(f))}}});m.fn.extend({text:function(a){return V(this,function(a){return void 0===a?m.text(this):this.empty().append((this[0]&&this[0].ownerDocument||y).createTextNode(a))},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=wb(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=wb(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?m.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||m.cleanData(ub(c)),c.parentNode&&(b&&m.contains(c.ownerDocument,c)&&zb(ub(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){for(1===a.nodeType&&m.cleanData(ub(a,!1));a.firstChild;)a.removeChild(a.firstChild);a.options&&m.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return m.clone(this,a,b)})},html:function(a){return V(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a)return 1===b.nodeType?b.innerHTML.replace(fb,""):void 0;if(!("string"!=typeof a||mb.test(a)||!k.htmlSerialize&&gb.test(a)||!k.leadingWhitespace&&hb.test(a)||rb[(jb.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(ib,"<$1><\/$2>");try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(m.cleanData(ub(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode;m.cleanData(ub(this));a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=e.apply([],a);var c,d,f,g,h,i,j=0,l=this.length,n=this,o=l-1,p=a[0],q=m.isFunction(p);if(q||l>1&&"string"==typeof p&&!k.checkClone&&nb.test(p))return this.each(function(c){var d=n.eq(c);q&&(a[0]=p.call(this,c,d.html()));d.domManip(a,b)});if(l&&(i=m.buildFragment(a,this[0].ownerDocument,!1,this),c=i.firstChild,1===i.childNodes.length&&(i=c),c)){for(g=m.map(ub(i,"script"),xb),f=g.length;l>j;j++)d=i,j!==o&&(d=m.clone(d,!0,!0),f&&m.merge(g,ub(d,"script"))),b.call(this[j],d,j);if(f)for(h=g[g.length-1].ownerDocument,m.map(g,yb),j=0;f>j;j++)d=g[j],ob.test(d.type||"")&&!m._data(d,"globalEval")&&m.contains(h,d)&&(d.src?m._evalUrl&&m._evalUrl(d.src):m.globalEval((d.text||d.textContent||d.innerHTML||"").replace(qb,"")));i=c=null}return this}});m.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){m.fn[a]=function(a){for(var c,d=0,e=[],g=m(a),h=g.length-1;h>=d;d++)c=d===h?this:this.clone(!0),m(g[d])[b](c),f.apply(e,c.get());return this.pushStack(e)}});Db={};!function(){var a;k.shrinkWrapBlocks=function(){if(null!=a)return a;a=!1;var b,c,d;return c=y.getElementsByTagName("body")[0],c&&c.style?(b=y.createElement("div"),d=y.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),typeof b.style.zoom!==K&&(b.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",b.appendChild(y.createElement("div")).style.width="5px",a=3!==b.offsetWidth),c.removeChild(d),a):void 0}}();var Gb=/^margin/,Hb=new RegExp("^("+S+")(?!px)[a-z%]+$","i"),Ib,Jb,Kb=/^(top|right|bottom|left)$/;a.getComputedStyle?(Ib=function(a){return a.ownerDocument.defaultView.getComputedStyle(a,null)},Jb=function(a,b,c){var d,e,f,g,h=a.style;return c=c||Ib(a),g=c?c.getPropertyValue(b)||c[b]:void 0,c&&(""!==g||m.contains(a.ownerDocument,a)||(g=m.style(a,b)),Hb.test(g)&&Gb.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0===g?g:g+""}):y.documentElement.currentStyle&&(Ib=function(a){return a.currentStyle},Jb=function(a,b,c){var d,e,f,g,h=a.style;return c=c||Ib(a),g=c?c[b]:void 0,null==g&&h&&h[b]&&(g=h[b]),Hb.test(g)&&!Kb.test(b)&&(d=h.left,e=a.runtimeStyle,f=e&&e.left,f&&(e.left=a.currentStyle.left),h.left="fontSize"===b?"1em":g,g=h.pixelLeft+"px",h.left=d,f&&(e.left=f)),void 0===g?g:g+""||"auto"});!function(){var b,c,d,e,f,g,h;if(b=y.createElement("div"),b.innerHTML="  <link/><table><\/table><a href='/a'>a<\/a><input type='checkbox'/>",d=b.getElementsByTagName("a")[0],c=d&&d.style){c.cssText="float:left;opacity:.5";k.opacity="0.5"===c.opacity;k.cssFloat=!!c.cssFloat;b.style.backgroundClip="content-box";b.cloneNode(!0).style.backgroundClip="";k.clearCloneStyle="content-box"===b.style.backgroundClip;k.boxSizing=""===c.boxSizing||""===c.MozBoxSizing||""===c.WebkitBoxSizing;m.extend(k,{reliableHiddenOffsets:function(){return null==g&&i(),g},boxSizingReliable:function(){return null==f&&i(),f},pixelPosition:function(){return null==e&&i(),e},reliableMarginRight:function(){return null==h&&i(),h}});function i(){var b,c,d,i;c=y.getElementsByTagName("body")[0];c&&c.style&&(b=y.createElement("div"),d=y.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),b.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",e=f=!1,h=!0,a.getComputedStyle&&(e="1%"!==(a.getComputedStyle(b,null)||{}).top,f="4px"===(a.getComputedStyle(b,null)||{width:"4px"}).width,i=b.appendChild(y.createElement("div")),i.style.cssText=b.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",b.style.width="1px",h=!parseFloat((a.getComputedStyle(i,null)||{}).marginRight)),b.innerHTML="<table><tr><td><\/td><td>t<\/td><\/tr><\/table>",i=b.getElementsByTagName("td"),i[0].style.cssText="margin:0;border:0;padding:0;display:none",g=0===i[0].offsetHeight,g&&(i[0].style.display="",i[1].style.display="none",g=0===i[0].offsetHeight),c.removeChild(d))}}}();m.swap=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};var Mb=/alpha\([^)]*\)/i,Nb=/opacity\s*=\s*([^)]*)/,Ob=/^(none|table(?!-c[ea]).+)/,Pb=new RegExp("^("+S+")(.*)$","i"),Qb=new RegExp("^([+-])=("+S+")","i"),Rb={position:"absolute",visibility:"hidden",display:"block"},Sb={letterSpacing:"0",fontWeight:"400"},Tb=["Webkit","O","Moz","ms"];m.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Jb(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:k.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=m.camelCase(b),i=a.style;if(b=m.cssProps[h]||(m.cssProps[h]=Ub(i,h)),g=m.cssHooks[b]||m.cssHooks[h],void 0===c)return g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b];if(f=typeof c,"string"===f&&(e=Qb.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(m.css(a,b)),f="number"),null!=c&&c===c&&("number"!==f||m.cssNumber[h]||(c+="px"),k.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),!(g&&"set"in g&&void 0===(c=g.set(a,c,d)))))try{i[b]=c}catch(j){}}},css:function(a,b,c,d){var e,f,g,h=m.camelCase(b);return b=m.cssProps[h]||(m.cssProps[h]=Ub(a.style,h)),g=m.cssHooks[b]||m.cssHooks[h],g&&"get"in g&&(f=g.get(a,!0,c)),void 0===f&&(f=Jb(a,b,d)),"normal"===f&&b in Sb&&(f=Sb[b]),""===c||c?(e=parseFloat(f),c===!0||m.isNumeric(e)?e||0:f):f}});m.each(["height","width"],function(a,b){m.cssHooks[b]={get:function(a,c,d){if(c)return Ob.test(m.css(a,"display"))&&0===a.offsetWidth?m.swap(a,Rb,function(){return Yb(a,b,d)}):Yb(a,b,d)},set:function(a,c,d){var e=d&&Ib(a);return Wb(a,c,d?Xb(a,b,d,k.boxSizing&&"border-box"===m.css(a,"boxSizing",!1,e),e):0)}}});k.opacity||(m.cssHooks.opacity={get:function(a,b){return Nb.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=m.isNumeric(b)?"alpha(opacity="+100*b+")":"",f=d&&d.filter||c.filter||"";c.zoom=1;(b>=1||""===b)&&""===m.trim(f.replace(Mb,""))&&c.removeAttribute&&(c.removeAttribute("filter"),""===b||d&&!d.filter)||(c.filter=Mb.test(f)?f.replace(Mb,e):f+" "+e)}});m.cssHooks.marginRight=Lb(k.reliableMarginRight,function(a,b){if(b)return m.swap(a,{display:"inline-block"},Jb,[a,"marginRight"])});m.each({margin:"",padding:"",border:"Width"},function(a,b){m.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+T[d]+b]=f[d]||f[d-2]||f[0];return e}};Gb.test(a)||(m.cssHooks[a+b].set=Wb)});m.fn.extend({css:function(a,b){return V(this,function(a,b,c){var d,e,f={},g=0;if(m.isArray(b)){for(d=Ib(a),e=b.length;e>g;g++)f[b[g]]=m.css(a,b[g],!1,d);return f}return void 0!==c?m.style(a,b,c):m.css(a,b)},a,b,arguments.length>1)},show:function(){return Vb(this,!0)},hide:function(){return Vb(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){U(this)?m(this).show():m(this).hide()})}});m.Tween=Zb;Zb.prototype={constructor:Zb,init:function(a,b,c,d,e,f){this.elem=a;this.prop=c;this.easing=e||"swing";this.options=b;this.start=this.now=this.cur();this.end=d;this.unit=f||(m.cssNumber[c]?"":"px")},cur:function(){var a=Zb.propHooks[this.prop];return a&&a.get?a.get(this):Zb.propHooks._default.get(this)},run:function(a){var b,c=Zb.propHooks[this.prop];return this.pos=b=this.options.duration?m.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Zb.propHooks._default.set(this),this}};Zb.prototype.init.prototype=Zb.prototype;Zb.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=m.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){m.fx.step[a.prop]?m.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[m.cssProps[a.prop]]||m.cssHooks[a.prop])?m.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}};Zb.propHooks.scrollTop=Zb.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}};m.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}};m.fx=Zb.prototype.init;m.fx.step={};var $b,_b,ac=/^(?:toggle|show|hide)$/,bc=new RegExp("^(?:([+-])=|)("+S+")([a-z%]*)$","i"),cc=/queueHooks$/,dc=[ic],ec={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=bc.exec(b),f=e&&e[3]||(m.cssNumber[a]?"":"px"),g=(m.cssNumber[a]||"px"!==f&&+d)&&bc.exec(m.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3];e=e||[];g=+d||1;do h=h||".5",g/=h,m.style(c.elem,a,g+f);while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};m.Animation=m.extend(kc,{tweener:function(a,b){m.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],ec[c]=ec[c]||[],ec[c].unshift(b)},prefilter:function(a,b){b?dc.unshift(a):dc.push(a)}});m.speed=function(a,b,c){var d=a&&"object"==typeof a?m.extend({},a):{complete:c||!c&&b||m.isFunction(a)&&a,duration:a,easing:c&&b||b&&!m.isFunction(b)&&b};return d.duration=m.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in m.fx.speeds?m.fx.speeds[d.duration]:m.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){m.isFunction(d.old)&&d.old.call(this);d.queue&&m.dequeue(this,d.queue)},d};m.fn.extend({fadeTo:function(a,b,c,d){return this.filter(U).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=m.isEmptyObject(a),f=m.speed(b,c,d),g=function(){var b=kc(this,m.extend({},a),f);(e||m._data(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop;b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=m.timers,g=m._data(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&cc.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));(b||!c)&&m.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=m._data(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=m.timers,g=d?d.length:0;for(c.finish=!0,m.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}});m.each(["toggle","show","hide"],function(a,b){var c=m.fn[b];m.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(gc(b,!0),a,d,e)}});m.each({slideDown:gc("show"),slideUp:gc("hide"),slideToggle:gc("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){m.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}});m.timers=[];m.fx.tick=function(){var a,b=m.timers,c=0;for($b=m.now();c<b.length;c++)a=b[c],a()||b[c]!==a||b.splice(c--,1);b.length||m.fx.stop();$b=void 0};m.fx.timer=function(a){m.timers.push(a);a()?m.fx.start():m.timers.pop()};m.fx.interval=13;m.fx.start=function(){_b||(_b=setInterval(m.fx.tick,m.fx.interval))};m.fx.stop=function(){clearInterval(_b);_b=null};m.fx.speeds={slow:600,fast:200,_default:400};m.fn.delay=function(a,b){return a=m.fx?m.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a,b,c,d,e;b=y.createElement("div");b.setAttribute("className","t");b.innerHTML="  <link/><table><\/table><a href='/a'>a<\/a><input type='checkbox'/>";d=b.getElementsByTagName("a")[0];c=y.createElement("select");e=c.appendChild(y.createElement("option"));a=b.getElementsByTagName("input")[0];d.style.cssText="top:1px";k.getSetAttribute="t"!==b.className;k.style=/top/.test(d.getAttribute("style"));k.hrefNormalized="/a"===d.getAttribute("href");k.checkOn=!!a.value;k.optSelected=e.selected;k.enctype=!!y.createElement("form").enctype;c.disabled=!0;k.optDisabled=!e.disabled;a=y.createElement("input");a.setAttribute("value","");k.input=""===a.getAttribute("value");a.value="t";a.setAttribute("type","radio");k.radioValue="t"===a.value}();lc=/\r/g;m.fn.extend({val:function(a){var b,c,d,e=this[0];return arguments.length?(d=m.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,m(this).val()):a,null==e?e="":"number"==typeof e?e+="":m.isArray(e)&&(e=m.map(e,function(a){return null==a?"":a+""})),b=m.valHooks[this.type]||m.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))})):e?(b=m.valHooks[e.type]||m.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(lc,""):null==c?"":c)):void 0}});m.extend({valHooks:{option:{get:function(a){var b=m.find.attr(a,"value");return null!=b?b:m.trim(m.text(a))}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],!(!c.selected&&i!==e||(k.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&m.nodeName(c.parentNode,"optgroup"))){if(b=m(c).val(),f)return b;g.push(b)}return g},set:function(a,b){for(var c,d,e=a.options,f=m.makeArray(b),g=e.length;g--;)if(d=e[g],m.inArray(m.valHooks.option.get(d),f)>=0)try{d.selected=c=!0}catch(h){d.scrollHeight}else d.selected=!1;return c||(a.selectedIndex=-1),e}}}});m.each(["radio","checkbox"],function(){m.valHooks[this]={set:function(a,b){if(m.isArray(b))return a.checked=m.inArray(m(a).val(),b)>=0}};k.checkOn||(m.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var mc,nc,oc=m.expr.attrHandle,pc=/^(?:checked|selected)$/i,qc=k.getSetAttribute,rc=k.input;m.fn.extend({attr:function(a,b){return V(this,m.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){m.removeAttr(this,a)})}});m.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f)return typeof a.getAttribute===K?m.prop(a,b,c):(1===f&&m.isXMLDoc(a)||(b=b.toLowerCase(),d=m.attrHooks[b]||(m.expr.match.bool.test(b)?nc:mc)),void 0===c?d&&"get"in d&&null!==(e=d.get(a,b))?e:(e=m.find.attr(a,b),null==e?void 0:e):null!==c?d&&"set"in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),c):void m.removeAttr(a,b))},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(E);if(f&&1===a.nodeType)while(c=f[e++])d=m.propFix[c]||c,m.expr.match.bool.test(c)?rc&&qc||!pc.test(c)?a[d]=!1:a[m.camelCase("default-"+c)]=a[d]=!1:m.attr(a,c,""),a.removeAttribute(qc?c:d)},attrHooks:{type:{set:function(a,b){if(!k.radioValue&&"radio"===b&&m.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}});nc={set:function(a,b,c){return b===!1?m.removeAttr(a,c):rc&&qc||!pc.test(c)?a.setAttribute(!qc&&m.propFix[c]||c,c):a[m.camelCase("default-"+c)]=a[c]=!0,c}};m.each(m.expr.match.bool.source.match(/\w+/g),function(a,b){var c=oc[b]||m.find.attr;oc[b]=rc&&qc||!pc.test(b)?function(a,b,d){var e,f;return d||(f=oc[b],oc[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,oc[b]=f),e}:function(a,b,c){if(!c)return a[m.camelCase("default-"+b)]?b.toLowerCase():null}});rc&&qc||(m.attrHooks.value={set:function(a,b,c){return m.nodeName(a,"input")?void(a.defaultValue=b):mc&&mc.set(a,b,c)}});qc||(mc={set:function(a,b,c){var d=a.getAttributeNode(c);return d||a.setAttributeNode(d=a.ownerDocument.createAttribute(c)),d.value=b+="","value"===c||b===a.getAttribute(c)?b:void 0}},oc.id=oc.name=oc.coords=function(a,b,c){var d;if(!c)return(d=a.getAttributeNode(b))&&""!==d.value?d.value:null},m.valHooks.button={get:function(a,b){var c=a.getAttributeNode(b);if(c&&c.specified)return c.value},set:mc.set},m.attrHooks.contenteditable={set:function(a,b,c){mc.set(a,""===b?!1:b,c)}},m.each(["width","height"],function(a,b){m.attrHooks[b]={set:function(a,c){if(""===c)return(a.setAttribute(b,"auto"),c)}}}));k.style||(m.attrHooks.style={get:function(a){return a.style.cssText||void 0},set:function(a,b){return a.style.cssText=b+""}});sc=/^(?:input|select|textarea|button|object)$/i;tc=/^(?:a|area)$/i;m.fn.extend({prop:function(a,b){return V(this,m.prop,a,b,arguments.length>1)},removeProp:function(a){return a=m.propFix[a]||a,this.each(function(){try{this[a]=void 0;delete this[a]}catch(b){}})}});m.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return f=1!==g||!m.isXMLDoc(a),f&&(b=m.propFix[b]||b,e=m.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=m.find.attr(a,"tabindex");return b?parseInt(b,10):sc.test(a.nodeName)||tc.test(a.nodeName)&&a.href?0:-1}}}});k.hrefNormalized||m.each(["href","src"],function(a,b){m.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}});k.optSelected||(m.propHooks.selected={get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}});m.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){m.propFix[this.toLowerCase()]=this});k.enctype||(m.propFix.enctype="encoding");uc=/[\t\r\n\f]/g;m.fn.extend({addClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j="string"==typeof a&&a;if(m.isFunction(a))return this.each(function(b){m(this).addClass(a.call(this,b,this.className))});if(j)for(b=(a||"").match(E)||[];i>h;h++)if(c=this[h],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(uc," "):" ")){for(f=0;e=b[f++];)d.indexOf(" "+e+" ")<0&&(d+=e+" ");g=m.trim(d);c.className!==g&&(c.className=g)}return this},removeClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j=0===arguments.length||"string"==typeof a&&a;if(m.isFunction(a))return this.each(function(b){m(this).removeClass(a.call(this,b,this.className))});if(j)for(b=(a||"").match(E)||[];i>h;h++)if(c=this[h],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(uc," "):"")){for(f=0;e=b[f++];)while(d.indexOf(" "+e+" ")>=0)d=d.replace(" "+e+" "," ");g=a?m.trim(d):"";c.className!==g&&(c.className=g)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):this.each(m.isFunction(a)?function(c){m(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c)for(var b,d=0,e=m(this),f=a.match(E)||[];b=f[d++];)e.hasClass(b)?e.removeClass(b):e.addClass(b);else(c===K||"boolean"===c)&&(this.className&&m._data(this,"__className__",this.className),this.className=this.className||a===!1?"":m._data(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(uc," ").indexOf(b)>=0)return!0;return!1}});m.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){m.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}});m.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var vc=m.now(),wc=/\?/,xc=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;m.parseJSON=function(b){if(a.JSON&&a.JSON.parse)return a.JSON.parse(b+"");var c,d=null,e=m.trim(b+"");return e&&!m.trim(e.replace(xc,function(a,b,e,f){return c&&b&&(d=0),0===d?a:(c=e||b,d+=!f-!e,"")}))?Function("return "+e)():m.error("Invalid JSON: "+b)};m.parseXML=function(b){var c,d;if(!b||"string"!=typeof b)return null;try{a.DOMParser?(d=new DOMParser,c=d.parseFromString(b,"text/xml")):(c=new ActiveXObject("Microsoft.XMLDOM"),c.async="false",c.loadXML(b))}catch(e){c=void 0}return c&&c.documentElement&&!c.getElementsByTagName("parsererror").length||m.error("Invalid XML: "+b),c};var yc,zc,Ac=/#.*$/,Bc=/([?&])_=[^&]*/,Cc=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Dc=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ec=/^(?:GET|HEAD)$/,Fc=/^\/\//,Gc=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Hc={},Ic={},Jc="*/".concat("*");try{zc=location.href}catch(Kc){zc=y.createElement("a");zc.href="";zc=zc.href}yc=Gc.exec(zc.toLowerCase())||[];m.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:zc,type:"GET",isLocal:Dc.test(yc[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Jc,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":m.parseJSON,"text xml":m.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?Nc(Nc(a,m.ajaxSettings),b):Nc(m.ajaxSettings,a)},ajaxPrefilter:Lc(Hc),ajaxTransport:Lc(Ic),ajax:function(a,b){function x(a,b,c,d){var j,r,s,u,w,x=b;2!==t&&(t=2,g&&clearTimeout(g),i=void 0,f=d||"",v.readyState=a>0?4:0,j=a>=200&&300>a||304===a,c&&(u=Oc(k,v,c)),u=Pc(k,u,v,j),j?(k.ifModified&&(w=v.getResponseHeader("Last-Modified"),w&&(m.lastModified[e]=w),w=v.getResponseHeader("etag"),w&&(m.etag[e]=w)),204===a||"HEAD"===k.type?x="nocontent":304===a?x="notmodified":(x=u.state,r=u.data,s=u.error,j=!s)):(s=x,(a||!x)&&(x="error",0>a&&(a=0))),v.status=a,v.statusText=(b||x)+"",j?o.resolveWith(l,[r,x,v]):o.rejectWith(l,[v,x,s]),v.statusCode(q),q=void 0,h&&n.trigger(j?"ajaxSuccess":"ajaxError",[v,k,j?r:s]),p.fireWith(l,[v,x]),h&&(n.trigger("ajaxComplete",[v,k]),--m.active||m.event.trigger("ajaxStop")))}"object"==typeof a&&(b=a,a=void 0);b=b||{};var c,d,e,f,g,h,i,j,k=m.ajaxSetup({},b),l=k.context||k,n=k.context&&(l.nodeType||l.jquery)?m(l):m.event,o=m.Deferred(),p=m.Callbacks("once memory"),q=k.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!j)for(j={};b=Cc.exec(f);)j[b[1].toLowerCase()]=b[2];b=j[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?f:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(k.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>t)for(b in a)q[b]=[q[b],a[b]];else v.always(a[v.status]);return this},abort:function(a){var b=a||u;return i&&i.abort(b),x(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,k.url=((a||k.url||zc)+"").replace(Ac,"").replace(Fc,yc[1]+"//"),k.type=b.method||b.type||k.method||k.type,k.dataTypes=m.trim(k.dataType||"*").toLowerCase().match(E)||[""],null==k.crossDomain&&(c=Gc.exec(k.url.toLowerCase()),k.crossDomain=!(!c||c[1]===yc[1]&&c[2]===yc[2]&&(c[3]||("http:"===c[1]?"80":"443"))===(yc[3]||("http:"===yc[1]?"80":"443")))),k.data&&k.processData&&"string"!=typeof k.data&&(k.data=m.param(k.data,k.traditional)),Mc(Hc,k,b,v),2===t)return v;h=k.global;h&&0==m.active++&&m.event.trigger("ajaxStart");k.type=k.type.toUpperCase();k.hasContent=!Ec.test(k.type);e=k.url;k.hasContent||(k.data&&(e=k.url+=(wc.test(e)?"&":"?")+k.data,delete k.data),k.cache===!1&&(k.url=Bc.test(e)?e.replace(Bc,"$1_="+vc++):e+(wc.test(e)?"&":"?")+"_="+vc++));k.ifModified&&(m.lastModified[e]&&v.setRequestHeader("If-Modified-Since",m.lastModified[e]),m.etag[e]&&v.setRequestHeader("If-None-Match",m.etag[e]));(k.data&&k.hasContent&&k.contentType!==!1||b.contentType)&&v.setRequestHeader("Content-Type",k.contentType);v.setRequestHeader("Accept",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+("*"!==k.dataTypes[0]?", "+Jc+"; q=0.01":""):k.accepts["*"]);for(d in k.headers)v.setRequestHeader(d,k.headers[d]);if(k.beforeSend&&(k.beforeSend.call(l,v,k)===!1||2===t))return v.abort();u="abort";for(d in{success:1,error:1,complete:1})v[d](k[d]);if(i=Mc(Ic,k,b,v)){v.readyState=1;h&&n.trigger("ajaxSend",[v,k]);k.async&&k.timeout>0&&(g=setTimeout(function(){v.abort("timeout")},k.timeout));try{t=1;i.send(r,x)}catch(w){if(!(2>t))throw w;x(-1,w)}}else x(-1,"No Transport");return v},getJSON:function(a,b,c){return m.get(a,b,c,"json")},getScript:function(a,b){return m.get(a,void 0,b,"script")}});m.each(["get","post"],function(a,b){m[b]=function(a,c,d,e){return m.isFunction(c)&&(e=e||d,d=c,c=void 0),m.ajax({url:a,type:b,dataType:e,data:c,success:d})}});m.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){m.fn[b]=function(a){return this.on(b,a)}});m._evalUrl=function(a){return m.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})};m.fn.extend({wrapAll:function(a){if(m.isFunction(a))return this.each(function(b){m(this).wrapAll(a.call(this,b))});if(this[0]){var b=m(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]);b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return this.each(m.isFunction(a)?function(b){m(this).wrapInner(a.call(this,b))}:function(){var b=m(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=m.isFunction(a);return this.each(function(c){m(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){m.nodeName(this,"body")||m(this).replaceWith(this.childNodes)}).end()}});m.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0||!k.reliableHiddenOffsets()&&"none"===(a.style&&a.style.display||m.css(a,"display"))};m.expr.filters.visible=function(a){return!m.expr.filters.hidden(a)};var Qc=/%20/g,Rc=/\[\]$/,Sc=/\r?\n/g,Tc=/^(?:submit|button|image|reset|file)$/i,Uc=/^(?:input|select|textarea|keygen)/i;m.param=function(a,b){var c,d=[],e=function(a,b){b=m.isFunction(b)?b():null==b?"":b;d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=m.ajaxSettings&&m.ajaxSettings.traditional),m.isArray(a)||a.jquery&&!m.isPlainObject(a))m.each(a,function(){e(this.name,this.value)});else for(c in a)Vc(c,a[c],b,e);return d.join("&").replace(Qc,"+")};m.fn.extend({serialize:function(){return m.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=m.prop(this,"elements");return a?m.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!m(this).is(":disabled")&&Uc.test(this.nodeName)&&!Tc.test(a)&&(this.checked||!W.test(a))}).map(function(a,b){var c=m(this).val();return null==c?null:m.isArray(c)?m.map(c,function(a){return{name:b.name,value:a.replace(Sc,"\r\n")}}):{name:b.name,value:c.replace(Sc,"\r\n")}}).get()}});m.ajaxSettings.xhr=void 0!==a.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&Zc()||$c()}:Zc;var Wc=0,Xc={},Yc=m.ajaxSettings.xhr();return a.ActiveXObject&&m(a).on("pagehide",function(){for(var a in Xc)Xc[a](void 0,!0)}),k.cors=!!Yc&&"withCredentials"in Yc,Yc=k.ajax=!!Yc,Yc&&m.ajaxTransport(function(a){if(!a.crossDomain||k.cors){var b;return{send:function(c,d){var e,f=a.xhr(),g=++Wc;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType);a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c)void 0!==c[e]&&f.setRequestHeader(e,c[e]+"");f.send(a.hasContent&&a.data||null);b=function(c,e){var h,i,j;if(b&&(e||4===f.readyState))if(delete Xc[g],b=void 0,f.onreadystatechange=m.noop,e)4!==f.readyState&&f.abort();else{j={};h=f.status;"string"==typeof f.responseText&&(j.text=f.responseText);try{i=f.statusText}catch(k){i=""}h||!a.isLocal||a.crossDomain?1223===h&&(h=204):h=j.text?200:404}j&&d(h,i,j,f.getAllResponseHeaders())};a.async?4===f.readyState?setTimeout(b):f.onreadystatechange=Xc[g]=b:b()},abort:function(){b&&b(void 0,!0)}}}}),m.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return m.globalEval(a),a}}}),m.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1);a.crossDomain&&(a.type="GET",a.global=!1)}),m.ajaxTransport("script",function(a){if(a.crossDomain){var b,c=y.head||m("head")[0]||y.documentElement;return{send:function(d,e){b=y.createElement("script");b.async=!0;a.scriptCharset&&(b.charset=a.scriptCharset);b.src=a.url;b.onload=b.onreadystatechange=function(a,c){(c||!b.readyState||/loaded|complete/.test(b.readyState))&&(b.onload=b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),b=null,c||e(200,"success"))};c.insertBefore(b,c.firstChild)},abort:function(){b&&b.onload(void 0,!0)}}}}),_c=[],ad=/(=)\?(?=&|$)|\?\?/,m.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=_c.pop()||m.expando+"_"+vc++;return this[a]=!0,a}}),m.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(ad.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&ad.test(b.data)&&"data");if(h||"jsonp"===b.dataTypes[0])return(e=b.jsonpCallback=m.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(ad,"$1"+e):b.jsonp!==!1&&(b.url+=(wc.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||m.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f;b[e]&&(b.jsonpCallback=c.jsonpCallback,_c.push(e));g&&m.isFunction(f)&&f(g[0]);g=f=void 0}),"script")}),m.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1);b=b||y;var d=u.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=m.buildFragment([a],b,e),e&&e.length&&m(e).remove(),m.merge([],d.childNodes))},bd=m.fn.load,m.fn.load=function(a,b,c){if("string"!=typeof a&&bd)return bd.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=m.trim(a.slice(h,a.length)),a=a.slice(0,h)),m.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(f="POST"),g.length>0&&m.ajax({url:a,type:f,dataType:"html",data:b}).done(function(a){e=arguments;g.html(d?m("<div>").append(m.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,e||[a.responseText,b,a])}),this},m.expr.filters.animated=function(a){return m.grep(m.timers,function(b){return a===b.elem}).length},cd=a.document.documentElement,m.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=m.css(a,"position"),l=m(a),n={};"static"===k&&(a.style.position="relative");h=l.offset();f=m.css(a,"top");i=m.css(a,"left");j=("absolute"===k||"fixed"===k)&&m.inArray("auto",[f,i])>-1;j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0);m.isFunction(b)&&(b=b.call(a,c,h));null!=b.top&&(n.top=b.top-h.top+g);null!=b.left&&(n.left=b.left-h.left+e);"using"in b?b.using.call(a,n):l.css(n)}},m.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){m.offset.setOffset(this,a,b)});var b,c,d={top:0,left:0},e=this[0],f=e&&e.ownerDocument;if(f)return b=f.documentElement,m.contains(b,e)?(typeof e.getBoundingClientRect!==K&&(d=e.getBoundingClientRect()),c=dd(f),{top:d.top+(c.pageYOffset||b.scrollTop)-(b.clientTop||0),left:d.left+(c.pageXOffset||b.scrollLeft)-(b.clientLeft||0)}):d},position:function(){if(this[0]){var a,b,c={top:0,left:0},d=this[0];return"fixed"===m.css(d,"position")?b=d.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),m.nodeName(a[0],"html")||(c=a.offset()),c.top+=m.css(a[0],"borderTopWidth",!0),c.left+=m.css(a[0],"borderLeftWidth",!0)),{top:b.top-c.top-m.css(d,"marginTop",!0),left:b.left-c.left-m.css(d,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||cd;a&&!m.nodeName(a,"html")&&"static"===m.css(a,"position");)a=a.offsetParent;return a||cd})}}),m.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c=/Y/.test(b);m.fn[a]=function(d){return V(this,function(a,d,e){var f=dd(a);return void 0===e?f?b in f?f[b]:f.document.documentElement[d]:a[d]:void(f?f.scrollTo(c?m(f).scrollLeft():e,c?e:m(f).scrollTop()):a[d]=e)},a,d,arguments.length,null)}}),m.each(["top","left"],function(a,b){m.cssHooks[b]=Lb(k.pixelPosition,function(a,c){if(c)return(c=Jb(a,b),Hb.test(c)?m(a).position()[b]+"px":c)})}),m.each({Height:"height",Width:"width"},function(a,b){m.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){m.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return V(this,function(b,c,d){var e;return m.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?m.css(b,c,g):m.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),m.fn.size=function(){return this.length},m.fn.andSelf=m.fn.addBack,"function"==typeof define&&define.amd&&define("jquery-la",[],function(){return m}),ed=a.jQuery,fd=a.$,m.noConflict=function(b){return a.$===m&&(a.$=fd),b&&a.jQuery===m&&(a.jQuery=ed),m},typeof b===K&&(a.jQuery=a.$=m),m});LaJq=jQuery.noConflict(!0);Function.prototype.bind||(Function.prototype.bind=function(obj){var func=this;return function(){return func.apply(obj,arguments)}});Function.prototype.prependArg||(Function.prototype.prependArg=function(arg){var func=this;return function(){for(var newargs=[arg],i=0;i<arguments.length;i++)newargs.push(arguments[i]);return func.apply(this,newargs)}});Array.prototype.indexOf||(Array.prototype.indexOf=function(elt){var len=this.length,from=Number(arguments[1])||0;for(from=from<0?Math.ceil(from):Math.floor(from),from<0&&(from+=len);from<len;from++)if(from in this&&this[from]===elt)return from;return-1}),function(callback){function $build(name,attrs){return new Strophe.Builder(name,attrs)}function $msg(attrs){return new Strophe.Builder("message",attrs)}function $iq(attrs){return new Strophe.Builder("iq",attrs)}function $pres(attrs){return new Strophe.Builder("presence",attrs)}var Strophe;Strophe={VERSION:"1.0.1",NS:{HTTPBIND:"http://jabber.org/protocol/httpbind",BOSH:"urn:xmpp:xbosh",CLIENT:"jabber:client",AUTH:"jabber:iq:auth",ROSTER:"jabber:iq:roster",PROFILE:"jabber:iq:profile",DISCO_INFO:"http://jabber.org/protocol/disco#info",DISCO_ITEMS:"http://jabber.org/protocol/disco#items",MUC:"http://jabber.org/protocol/muc",SASL:"urn:ietf:params:xml:ns:xmpp-sasl",STREAM:"http://etherx.jabber.org/streams",BIND:"urn:ietf:params:xml:ns:xmpp-bind",SESSION:"urn:ietf:params:xml:ns:xmpp-session",VERSION:"jabber:iq:version",STANZAS:"urn:ietf:params:xml:ns:xmpp-stanzas"},addNamespace:function(name,value){Strophe.NS[name]=value},Status:{ERROR:0,CONNECTING:1,CONNFAIL:2,AUTHENTICATING:3,AUTHFAIL:4,CONNECTED:5,DISCONNECTED:6,DISCONNECTING:7,ATTACHED:8},LogLevel:{DEBUG:0,INFO:1,WARN:2,ERROR:3,FATAL:4},ElementType:{NORMAL:1,TEXT:3},TIMEOUT:1.1,SECONDARY_TIMEOUT:.1,forEachChild:function(elem,elemName,func){for(var childNode,i=0;i<elem.childNodes.length;i++)childNode=elem.childNodes[i],childNode.nodeType==Strophe.ElementType.NORMAL&&(!elemName||this.isTagEqual(childNode,elemName))&&func(childNode)},isTagEqual:function(el,name){return el.tagName.toLowerCase()==name.toLowerCase()},_xmlGenerator:null,_makeGenerator:function(){var doc;return window.ActiveXObject?(doc=new ActiveXObject("Microsoft.XMLDOM"),doc.appendChild(doc.createElement("strophe"))):doc=document.implementation.createDocument("jabber:client","strophe",null),doc},xmlElement:function(name){var node,a,i,k;if(!name)return null;for(node=null,Strophe._xmlGenerator||(Strophe._xmlGenerator=Strophe._makeGenerator()),node=Strophe._xmlGenerator.createElement(name),a=1;a<arguments.length;a++)if(arguments[a])if(typeof arguments[a]=="string"||typeof arguments[a]=="number")node.appendChild(Strophe.xmlTextNode(arguments[a]));else if(typeof arguments[a]=="object"&&typeof arguments[a].sort=="function")for(i=0;i<arguments[a].length;i++)typeof arguments[a][i]=="object"&&typeof arguments[a][i].sort=="function"&&node.setAttribute(arguments[a][i][0],arguments[a][i][1]);else if(typeof arguments[a]=="object")for(k in arguments[a])arguments[a].hasOwnProperty(k)&&arguments[a][k]!=null&&node.setAttribute(k,arguments[a][k]);return node},xmlescape:function(text){return text=text.replace(/\&/g,"&amp;"),text=text.replace(/</g,"&lt;"),text.replace(/>/g,"&gt;")},xmlTextNode:function(text){return text=Strophe.xmlescape(text),Strophe._xmlGenerator||(Strophe._xmlGenerator=Strophe._makeGenerator()),Strophe._xmlGenerator.createTextNode(text)},getText:function(elem){var str,i;if(!elem)return null;for(str="",elem.childNodes.length===0&&elem.nodeType==Strophe.ElementType.TEXT&&(str+=elem.nodeValue),i=0;i<elem.childNodes.length;i++)elem.childNodes[i].nodeType==Strophe.ElementType.TEXT&&(str+=elem.childNodes[i].nodeValue);return str},copyElement:function(elem){var i,el;if(elem.nodeType==Strophe.ElementType.NORMAL){for(el=Strophe.xmlElement(elem.tagName),i=0;i<elem.attributes.length;i++)el.setAttribute(elem.attributes[i].nodeName.toLowerCase(),elem.attributes[i].value);for(i=0;i<elem.childNodes.length;i++)el.appendChild(Strophe.copyElement(elem.childNodes[i]))}else elem.nodeType==Strophe.ElementType.TEXT&&(el=Strophe.xmlTextNode(elem.nodeValue));return el},escapeNode:function(node){return node.replace(/^\s+|\s+$/g,"").replace(/\\/g,"\\5c").replace(/ /g,"\\20").replace(/\"/g,"\\22").replace(/\&/g,"\\26").replace(/\'/g,"\\27").replace(/\//g,"\\2f").replace(/:/g,"\\3a").replace(/</g,"\\3c").replace(/>/g,"\\3e").replace(/@/g,"\\40")},unescapeNode:function(node){return node.replace(/\\20/g," ").replace(/\\22/g,'"').replace(/\\26/g,"&").replace(/\\27/g,"'").replace(/\\2f/g,"/").replace(/\\3a/g,":").replace(/\\3c/g,"<").replace(/\\3e/g,">").replace(/\\40/g,"@").replace(/\\5c/g,"\\")},getNodeFromJid:function(jid){return jid.indexOf("@")<0?null:jid.split("@")[0]},getDomainFromJid:function(jid){var bare=Strophe.getBareJidFromJid(jid),parts;return bare.indexOf("@")<0?bare:(parts=bare.split("@"),parts.splice(0,1),parts.join("@"))},getResourceFromJid:function(jid){if(jid.indexOf("/")>0){var s=jid.split("/");return s.length<2?null:(s.splice(0,1),s.join("/"))}},getBareJidFromJid:function(jid){return jid.split("/")[0]},log:function(level,msg){return},debug:function(msg){this.log(this.LogLevel.DEBUG,msg)},info:function(msg){this.log(this.LogLevel.INFO,msg)},warn:function(msg){this.log(this.LogLevel.WARN,msg)},error:function(msg){this.log(this.LogLevel.ERROR,msg)},fatal:function(msg){this.log(this.LogLevel.FATAL,msg)},serialize:function(elem){var result,nodeName,i,child;if(!elem)return null;for(typeof elem.tree=="function"&&(elem=elem.tree()),nodeName=elem.nodeName,elem.getAttribute("_realname")&&(nodeName=elem.getAttribute("_realname")),result="<"+nodeName,i=0;i<elem.attributes.length;i++)elem.attributes[i].nodeName!="_realname"&&(result+=" "+elem.attributes[i].nodeName.toLowerCase()+"='"+elem.attributes[i].value.replace("&","&amp;").replace("'","&apos;").replace("<","&lt;")+"'");if(elem.childNodes.length>0){for(result+=">",i=0;i<elem.childNodes.length;i++)child=elem.childNodes[i],child.nodeType==Strophe.ElementType.NORMAL?result+=Strophe.serialize(child):child.nodeType==Strophe.ElementType.TEXT&&(result+=child.nodeValue);result+="<\/"+nodeName+">"}else result+="/>";return result},_requestId:0,_connectionPlugins:{},addConnectionPlugin:function(name,ptype){Strophe._connectionPlugins[name]=ptype}};Strophe.Builder=function(name,attrs){(name=="presence"||name=="message"||name=="iq")&&(attrs&&!attrs.xmlns?attrs.xmlns=Strophe.NS.CLIENT:attrs||(attrs={xmlns:Strophe.NS.CLIENT}));this.nodeTree=Strophe.xmlElement(name,attrs);this.node=this.nodeTree};Strophe.Builder.prototype={tree:function(){return this.nodeTree},toString:function(){return Strophe.serialize(this.nodeTree)},up:function(){return this.node=this.node.parentNode,this},attrs:function(moreattrs){for(var k in moreattrs)moreattrs.hasOwnProperty(k)&&this.node.setAttribute(k,moreattrs[k]);return this},c:function(name,attrs){var child=Strophe.xmlElement(name,attrs);return this.node.appendChild(child),this.node=child,this},cnode:function(elem){return this.node.appendChild(elem),this.node=elem,this},t:function(text){var child=Strophe.xmlTextNode(text);return this.node.appendChild(child),this}};Strophe.Handler=function(handler,ns,name,type,id,from,options){this.handler=handler;this.ns=ns;this.name=name;this.type=type;this.id=id;this.options=options||{matchbare:!1};this.options.matchBare||(this.options.matchBare=!1);this.from=this.options.matchBare?Strophe.getBareJidFromJid(from):from;this.user=!0};Strophe.Handler.prototype={isMatch:function(elem){var nsMatch,from=null,that;return(from=this.options.matchBare?Strophe.getBareJidFromJid(elem.getAttribute("from")):elem.getAttribute("from"),nsMatch=!1,this.ns?(that=this,Strophe.forEachChild(elem,null,function(elem){elem.getAttribute("xmlns")==that.ns&&(nsMatch=!0)}),nsMatch=nsMatch||elem.getAttribute("xmlns")==this.ns):nsMatch=!0,nsMatch&&(!this.name||Strophe.isTagEqual(elem,this.name))&&(!this.type||elem.getAttribute("type")===this.type)&&(!this.id||elem.getAttribute("id")===this.id)&&(!this.from||from===this.from))?!0:!1},run:function(elem){var result=null;try{result=this.handler(elem)}catch(e){e.sourceURL?Strophe.fatal("error: "+this.handler+" "+e.sourceURL+":"+e.line+" - "+e.name+": "+e.message):e.fileName?(typeof console!="undefined"&&(console.trace(),console.error(this.handler," - error - ",e,e.message)),Strophe.fatal("error: "+this.handler+" "+e.fileName+":"+e.lineNumber+" - "+e.name+": "+e.message)):Strophe.fatal("error: "+this.handler);throw e;}return result},toString:function(){return"{Handler: "+this.handler+"("+this.name+","+this.id+","+this.ns+")}"}};Strophe.TimedHandler=function(period,handler){this.period=period;this.handler=handler;this.lastCalled=(new Date).getTime();this.user=!0};Strophe.TimedHandler.prototype={run:function(){return this.lastCalled=(new Date).getTime(),this.handler()},reset:function(){this.lastCalled=(new Date).getTime()},toString:function(){return"{TimedHandler: "+this.handler+"("+this.period+")}"}};Strophe.Request=function(elem,func,rid,sends){this.id=++Strophe._requestId;this.xmlData=elem;this.data=Strophe.serialize(elem);this.origFunc=func;this.func=func;this.rid=rid;this.date=NaN;this.sends=sends||0;this.abort=!1;this.dead=null;this.age=function(){if(!this.date)return 0;var now=new Date;return(now-this.date)/1e3};this.timeDead=function(){if(!this.dead)return 0;var now=new Date;return(now-this.dead)/1e3};this.xhr=this._newXHR()};Strophe.Request.prototype={getResponse:function(){var node=null;if(this.xhr.responseXML&&this.xhr.responseXML.documentElement){if(node=this.xhr.responseXML.documentElement,node.tagName=="parsererror"){Strophe.error("invalid response received");Strophe.error("responseText: "+this.xhr.responseText);Strophe.error("responseXML: "+Strophe.serialize(this.xhr.responseXML));throw"parsererror";}}else this.xhr.responseText&&(Strophe.error("invalid response received"),Strophe.error("responseText: "+this.xhr.responseText),Strophe.error("responseXML: "+Strophe.serialize(this.xhr.responseXML)));return node},_newXHR:function(){var xhr=!1;return window.XMLHttpRequest?(xhr=new XMLHttpRequest,xhr.overrideMimeType&&xhr.overrideMimeType("text/xml")):window.ActiveXObject&&(xhr=new ActiveXObject("Microsoft.XMLHTTP")),xhr.onreadystatechange=this.func.prependArg(this),xhr}};Strophe.Connection=function(service){var k,ptype,F;this.service=service;this.jid="";this.rid=Math.floor(Math.random()*4294967295);this.sid=null;this.streamId=null;this.do_session=!1;this.do_bind=!1;this.timedHandlers=[];this.handlers=[];this.removeTimeds=[];this.removeHandlers=[];this.addTimeds=[];this.addHandlers=[];this._idleTimeout=null;this._disconnectTimeout=null;this.authenticated=!1;this.disconnecting=!1;this.connected=!1;this.errors=0;this.paused=!1;this.hold=1;this.wait=60;this.window=5;this._data=[];this._requests=[];this._uniqueId=Math.round(Math.random()*1e4);this._sasl_success_handler=null;this._sasl_failure_handler=null;this._sasl_challenge_handler=null;this._idleTimeout=setTimeout(this._onIdle.bind(this),100);for(k in Strophe._connectionPlugins)Strophe._connectionPlugins.hasOwnProperty(k)&&(ptype=Strophe._connectionPlugins[k],F=function(){},F.prototype=ptype,this[k]=new F,this[k].init(this))};Strophe.Connection.prototype={reset:function(){this.rid=Math.floor(Math.random()*4294967295);this.sid=null;this.streamId=null;this.do_session=!1;this.do_bind=!1;this.timedHandlers=[];this.handlers=[];this.removeTimeds=[];this.removeHandlers=[];this.addTimeds=[];this.addHandlers=[];this.authenticated=!1;this.disconnecting=!1;this.connected=!1;this.errors=0;this._requests=[];this._uniqueId=Math.round(Math.random()*1e4)},pause:function(){this.paused=!0},getJID:function(){return this.jid},getSID:function(){return this.sid},resume:function(){this.paused=!1},getUniqueId:function(suffix){return typeof suffix=="string"||typeof suffix=="number"?++this._uniqueId+":"+suffix:++this._uniqueId+""},connect:function(jid,pass,callback,wait,hold){this.jid=jid;this.pass=pass;this.connect_callback=callback;this.disconnecting=!1;this.connected=!1;this.authenticated=!1;this.errors=0;this.wait=wait||this.wait;this.hold=hold||this.hold;this.domain=Strophe.getDomainFromJid(this.jid);var body=this._buildBody().attrs({to:this.domain,"xml:lang":"en",wait:this.wait,route:config.gvars.XMPP_ROUTE,hold:this.hold,content:"text/xml; charset=utf-8",ver:"1.6","xmpp:version":"1.0","xmlns:xmpp":Strophe.NS.BOSH});this._changeConnectStatus(Strophe.Status.CONNECTING,null);this._requests.push(new Strophe.Request(body.tree(),this._onRequestStateChange.bind(this).prependArg(this._connect_cb.bind(this)),body.tree().getAttribute("rid")));this._throttledRequestHandler()},attach:function(jid,sid,rid,callback,wait,hold,wind){this.jid=jid;this.sid=sid;this.rid=rid;this.connect_callback=callback;this.domain=Strophe.getDomainFromJid(this.jid);this.authenticated=!0;this.connected=!0;this.wait=wait||this.wait;this.hold=hold||this.hold;this.window=wind||this.window;this._changeConnectStatus(Strophe.Status.ATTACHED,null)},xmlInput:function(elem){return},xmlOutput:function(elem){return},rawInput:function(data){return},rawOutput:function(data){return},send:function(elem){if(elem!==null){if(typeof elem.sort=="function")for(var i=0;i<elem.length;i++)this._queueData(elem[i]);else typeof elem.tree=="function"?this._queueData(elem.tree()):this._queueData(elem);this._throttledRequestHandler();clearTimeout(this._idleTimeout);this._idleTimeout=setTimeout(this._onIdle.bind(this),100)}},flush:function(){clearTimeout(this._idleTimeout);this._onIdle()},sendIQ:function(elem,callback,errback,timeout){var timeoutHandler=null,that=this,id,handler;return typeof elem.tree=="function"&&(elem=elem.tree()),id=elem.getAttribute("id"),id||(id=this.getUniqueId("sendIQ"),elem.setAttribute("id",id)),handler=this.addHandler(function(stanza){timeoutHandler&&that.deleteTimedHandler(timeoutHandler);var iqtype=stanza.getAttribute("type");if(iqtype==="result")callback&&callback(stanza);else if(iqtype==="error")errback&&errback(stanza);else throw{name:"StropheError",message:"Got bad IQ type of "+iqtype};},null,"iq",null,id),timeout&&(timeoutHandler=this.addTimedHandler(timeout,function(){return that.deleteHandler(handler),errback&&errback(null),!1})),this.send(elem),id},_queueData:function(element){if(element===null||!element.tagName||!element.childNodes)throw{name:"StropheError",message:"Cannot queue non-DOMElement."};this._data.push(element)},_sendRestart:function(){this._data.push("restart");this._throttledRequestHandler();clearTimeout(this._idleTimeout);this._idleTimeout=setTimeout(this._onIdle.bind(this),100)},addTimedHandler:function(period,handler){var thand=new Strophe.TimedHandler(period,handler);return this.addTimeds.push(thand),thand},deleteTimedHandler:function(handRef){this.removeTimeds.push(handRef)},addHandler:function(handler,ns,name,type,id,from,options){var hand=new Strophe.Handler(handler,ns,name,type,id,from,options);return this.addHandlers.push(hand),hand},deleteHandler:function(handRef){this.removeHandlers.push(handRef)},disconnect:function(reason){this._changeConnectStatus(Strophe.Status.DISCONNECTING,reason);Strophe.info("Disconnect was called because: "+reason);this.connected&&(this._disconnectTimeout=this._addSysTimedHandler(3e3,this._onDisconnectTimeout.bind(this)),this._sendTerminate())},_changeConnectStatus:function(status,condition){var k,plugin;for(k in Strophe._connectionPlugins)if(Strophe._connectionPlugins.hasOwnProperty(k)&&(plugin=this[k],plugin.statusChanged))try{plugin.statusChanged(status,condition)}catch(err){Strophe.error(""+k+" plugin caused an exception changing status: "+err)}if(this.connect_callback)try{this.connect_callback(status,condition)}catch(e){Strophe.error("User connection callback caused an exception: "+e)}},_buildBody:function(){var bodyWrap=$build("body",{rid:this.rid++,xmlns:Strophe.NS.HTTPBIND});return this.sid!==null&&bodyWrap.attrs({sid:this.sid}),bodyWrap},_removeRequest:function(req){Strophe.debug("removing request");for(var i=this._requests.length-1;i>=0;i--)req==this._requests[i]&&this._requests.splice(i,1);req.xhr.onreadystatechange=function(){};this._throttledRequestHandler()},_restartRequest:function(i){var req=this._requests[i];req.dead===null&&(req.dead=new Date);this._processRequest(i)},_processRequest:function(i){var req=this._requests[i],reqStatus=-1,sendFunc,backoff;try{req.xhr.readyState==4&&(reqStatus=req.xhr.status)}catch(e){Strophe.error("caught an error in _requests["+i+"], reqStatus: "+reqStatus)}typeof reqStatus=="undefined"&&(reqStatus=-1);var time_elapsed=req.age(),primaryTimeout=!isNaN(time_elapsed)&&time_elapsed>Math.floor(Strophe.TIMEOUT*this.wait),secondaryTimeout=req.dead!==null&&req.timeDead()>Math.floor(Strophe.SECONDARY_TIMEOUT*this.wait),requestCompletedWithServerError=req.xhr.readyState==4&&(reqStatus<1||reqStatus>=500);if((primaryTimeout||secondaryTimeout||requestCompletedWithServerError)&&(secondaryTimeout&&Strophe.error("Request "+this._requests[i].id+" timed out (secondary), restarting"),req.abort=!0,req.xhr.abort(),req.xhr.onreadystatechange=function(){},this._requests[i]=new Strophe.Request(req.xmlData,req.origFunc,req.rid,req.sends),req=this._requests[i]),req.xhr.readyState===0){Strophe.debug("request id "+req.id+"."+req.sends+" posting");req.date=new Date;try{req.xhr.open("POST",this.service,!0)}catch(e2){Strophe.error("XHR open failed.");this.connected||this._changeConnectStatus(Strophe.Status.CONNFAIL,"bad-service");this.disconnect();return}sendFunc=function(){req.xhr.send(req.data)};req.sends>1?(backoff=Math.pow(req.sends,3)*1e3,setTimeout(sendFunc,backoff)):sendFunc();req.sends++;this.xmlOutput(req.xmlData);this.rawOutput(req.data)}else Strophe.debug("_processRequest: "+(i===0?"first":"second")+" request has readyState of "+req.xhr.readyState)},_throttledRequestHandler:function(){(this._requests?Strophe.debug("_throttledRequestHandler called with "+this._requests.length+" requests"):Strophe.debug("_throttledRequestHandler called with undefined requests"),this._requests&&this._requests.length!==0)&&(this._requests.length>0&&this._processRequest(0),this._requests.length>1&&Math.abs(this._requests[0].rid-this._requests[1].rid)<this.window-1&&this._processRequest(1))},_onRequestStateChange:function(func,req){var reqStatus,reqIs0,reqIs1;if(Strophe.debug("request id "+req.id+"."+req.sends+" state changed to "+req.xhr.readyState),req.abort){req.abort=!1;return}if(req.xhr.readyState==4){reqStatus=0;try{reqStatus=req.xhr.status}catch(e){}if(typeof reqStatus=="undefined"&&(reqStatus=0),this.disconnecting&&reqStatus>=400){this._hitError(reqStatus);return}reqIs0=this._requests[0]==req;reqIs1=this._requests[1]==req;(reqStatus>0&&reqStatus<500||req.sends>5)&&(this._removeRequest(req),Strophe.debug("request id "+req.id+" should now be removed"));reqStatus==200?((reqIs1||reqIs0&&this._requests.length>0&&this._requests[0].age()>Math.floor(Strophe.SECONDARY_TIMEOUT*this.wait))&&this._restartRequest(0),Strophe.debug("request id "+req.id+"."+req.sends+" got 200"),func(req),this.errors=0):(Strophe.error("request id "+req.id+"."+req.sends+" error "+reqStatus+" happened"),(reqStatus===0||reqStatus>=400&&reqStatus<600||reqStatus>=12e3)&&(this._hitError(reqStatus),reqStatus>=400&&reqStatus<500&&(this._changeConnectStatus(Strophe.Status.DISCONNECTING,null),this._doDisconnect())));reqStatus>0&&reqStatus<1e4||req.sends>5||this._throttledRequestHandler()}},_hitError:function(reqStatus){this.errors++;Strophe.warn("request errored, status: "+reqStatus+", number of errors: "+this.errors);this.errors>4&&this._onDisconnectTimeout()},_doDisconnect:function(){Strophe.info("_doDisconnect was called");this.authenticated=!1;this.disconnecting=!1;this.sid=null;this.streamId=null;this.rid=Math.floor(Math.random()*4294967295);this.connected&&(this._changeConnectStatus(Strophe.Status.DISCONNECTED,null),this.connected=!1);this.handlers=[];this.timedHandlers=[];this.removeTimeds=[];this.removeHandlers=[];this.addTimeds=[];this.addHandlers=[]},_dataRecv:function(req){var elem,i,hand,typ,cond,conflict,that;try{elem=req.getResponse()}catch(e){if(e!="parsererror")throw e;this.disconnect("strophe-parsererror")}if(elem!==null){for(this.xmlInput(elem),this.rawInput(Strophe.serialize(elem));this.removeHandlers.length>0;)hand=this.removeHandlers.pop(),i=this.handlers.indexOf(hand),i>=0&&this.handlers.splice(i,1);while(this.addHandlers.length>0)this.handlers.push(this.addHandlers.pop());if(this.disconnecting&&this._requests.length===0){this.deleteTimedHandler(this._disconnectTimeout);this._disconnectTimeout=null;this._doDisconnect();return}if(typ=elem.getAttribute("type"),typ!==null&&typ=="terminate"){cond=elem.getAttribute("condition");conflict=elem.getElementsByTagName("conflict");cond!==null?(cond=="remote-stream-error"&&conflict.length>0&&(cond="conflict"),this._changeConnectStatus(Strophe.Status.CONNFAIL,cond)):this._changeConnectStatus(Strophe.Status.CONNFAIL,"unknown");this.disconnect();return}that=this;Strophe.forEachChild(elem,null,function(child){var i,newList,hand;for(newList=that.handlers,that.handlers=[],i=0;i<newList.length;i++)hand=newList[i],hand.isMatch(child)&&(that.authenticated||!hand.user)?hand.run(child)&&that.handlers.push(hand):that.handlers.push(hand)})}},_sendTerminate:function(){var body,req;Strophe.info("_sendTerminate was called");body=this._buildBody().attrs({type:"terminate"});this.authenticated&&body.c("presence",{xmlns:Strophe.NS.CLIENT,type:"unavailable"});this.disconnecting=!0;req=new Strophe.Request(body.tree(),this._onRequestStateChange.bind(this).prependArg(this._dataRecv.bind(this)),body.tree().getAttribute("rid"));this._requests.push(req);this._throttledRequestHandler()},_connect_cb:function(req){var bodyWrap,typ,cond,conflict,wind,hold,wait,body;if(Strophe.info("_connect_cb was called"),this.connected=!0,bodyWrap=req.getResponse(),bodyWrap){if(this.xmlInput(bodyWrap),this.rawInput(Strophe.serialize(bodyWrap)),typ=bodyWrap.getAttribute("type"),typ!==null&&typ=="terminate"){cond=bodyWrap.getAttribute("condition");conflict=bodyWrap.getElementsByTagName("conflict");cond!==null?(cond=="remote-stream-error"&&conflict.length>0&&(cond="conflict"),this._changeConnectStatus(Strophe.Status.CONNFAIL,cond)):this._changeConnectStatus(Strophe.Status.CONNFAIL,"unknown");return}this.sid||(this.sid=bodyWrap.getAttribute("sid"));this.stream_id||(this.stream_id=bodyWrap.getAttribute("authid"));wind=bodyWrap.getAttribute("requests");wind&&(this.window=parseInt(wind,10));hold=bodyWrap.getAttribute("hold");hold&&(this.hold=parseInt(hold,10));wait=bodyWrap.getAttribute("wait");wait&&(this.wait=parseInt(wait,10));var do_sasl_plain=!1,do_sasl_digest_md5=!1,do_sasl_anonymous=!1,mechanisms=bodyWrap.getElementsByTagName("mechanism"),i,mech,auth_str,hashed_auth_str;if(mechanisms.length>0)for(i=0;i<mechanisms.length;i++)mech=Strophe.getText(mechanisms[i]),mech=="DIGEST-MD5"?do_sasl_digest_md5=!0:mech=="PLAIN"?do_sasl_plain=!0:mech=="ANONYMOUS"&&(do_sasl_anonymous=!0);else{body=this._buildBody();this._requests.push(new Strophe.Request(body.tree(),this._onRequestStateChange.bind(this).prependArg(this._connect_cb.bind(this)),body.tree().getAttribute("rid")));this._throttledRequestHandler();return}Strophe.getNodeFromJid(this.jid)===null&&do_sasl_anonymous?(this._changeConnectStatus(Strophe.Status.AUTHENTICATING,null),this._sasl_success_handler=this._addSysHandler(this._sasl_success_cb.bind(this),null,"success",null,null),this._sasl_failure_handler=this._addSysHandler(this._sasl_failure_cb.bind(this),null,"failure",null,null),this.send($build("auth",{xmlns:Strophe.NS.SASL,mechanism:"ANONYMOUS"}).tree())):Strophe.getNodeFromJid(this.jid)===null?(this._changeConnectStatus(Strophe.Status.CONNFAIL,"x-strophe-bad-non-anon-jid"),this.disconnect()):do_sasl_digest_md5?(this._changeConnectStatus(Strophe.Status.AUTHENTICATING,null),this._sasl_challenge_handler=this._addSysHandler(this._sasl_challenge1_cb.bind(this),null,"challenge",null,null),this._sasl_failure_handler=this._addSysHandler(this._sasl_failure_cb.bind(this),null,"failure",null,null),this.send($build("auth",{xmlns:Strophe.NS.SASL,mechanism:"DIGEST-MD5"}).tree())):do_sasl_plain?(auth_str=Strophe.getBareJidFromJid(this.jid),auth_str=auth_str+"\x00",auth_str=auth_str+Strophe.getNodeFromJid(this.jid),auth_str=auth_str+"\x00",auth_str=auth_str+this.pass,this._changeConnectStatus(Strophe.Status.AUTHENTICATING,null),this._sasl_success_handler=this._addSysHandler(this._sasl_success_cb.bind(this),null,"success",null,null),this._sasl_failure_handler=this._addSysHandler(this._sasl_failure_cb.bind(this),null,"failure",null,null),hashed_auth_str=Base64.encode(auth_str),this.send($build("auth",{xmlns:Strophe.NS.SASL,mechanism:"PLAIN"}).t(hashed_auth_str).tree())):(this._changeConnectStatus(Strophe.Status.AUTHENTICATING,null),this._addSysHandler(this._auth1_cb.bind(this),null,null,null,"_auth_1"),this.send($iq({type:"get",to:this.domain,id:"_auth_1"}).c("query",{xmlns:Strophe.NS.AUTH}).c("username",{}).t(Strophe.getNodeFromJid(this.jid)).tree()))}},_sasl_challenge1_cb:function(elem){var attribMatch=/([a-z]+)=("[^"]+"|[^,"]+)(?:,|$)/,challenge=Base64.decode(Strophe.getText(elem)),cnonce=MD5.hexdigest(Math.random()*1234567890),realm="",host=null,nonce="",qop="",matches,digest_uri;for(this.deleteHandler(this._sasl_failure_handler);challenge.match(attribMatch);){matches=challenge.match(attribMatch);challenge=challenge.replace(matches[0],"");matches[2]=matches[2].replace(/^"(.+)"$/,"$1");switch(matches[1]){case"realm":realm=matches[2];break;case"nonce":nonce=matches[2];break;case"qop":qop=matches[2];break;case"host":host=matches[2];break}}digest_uri="xmpp/"+this.domain;host!==null&&(digest_uri=digest_uri+"/"+host);var A1=MD5.hash(Strophe.getNodeFromJid(this.jid)+":"+realm+":"+this.pass)+":"+nonce+":"+cnonce,A2="AUTHENTICATE:"+digest_uri,responseText="";return responseText+="username="+this._quote(Strophe.getNodeFromJid(this.jid))+",",responseText+="realm="+this._quote(realm)+",",responseText+="nonce="+this._quote(nonce)+",",responseText+="cnonce="+this._quote(cnonce)+",",responseText+='nc="00000001",',responseText+='qop="auth",',responseText+="digest-uri="+this._quote(digest_uri)+",",responseText+="response="+this._quote(MD5.hexdigest(MD5.hexdigest(A1)+":"+nonce+":00000001:"+cnonce+":auth:"+MD5.hexdigest(A2)))+",",responseText+='charset="utf-8"',this._sasl_challenge_handler=this._addSysHandler(this._sasl_challenge2_cb.bind(this),null,"challenge",null,null),this._sasl_success_handler=this._addSysHandler(this._sasl_success_cb.bind(this),null,"success",null,null),this._sasl_failure_handler=this._addSysHandler(this._sasl_failure_cb.bind(this),null,"failure",null,null),this.send($build("response",{xmlns:Strophe.NS.SASL}).t(Base64.encode(responseText)).tree()),!1},_quote:function(str){return'"'+str.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'},_sasl_challenge2_cb:function(elem){return this.deleteHandler(this._sasl_success_handler),this.deleteHandler(this._sasl_failure_handler),this._sasl_success_handler=this._addSysHandler(this._sasl_success_cb.bind(this),null,"success",null,null),this._sasl_failure_handler=this._addSysHandler(this._sasl_failure_cb.bind(this),null,"failure",null,null),this.send($build("response",{xmlns:Strophe.NS.SASL}).tree()),!1},_auth1_cb:function(elem){var iq=$iq({type:"set",id:"_auth_2"}).c("query",{xmlns:Strophe.NS.AUTH}).c("username",{}).t(Strophe.getNodeFromJid(this.jid)).up().c("password").t(this.pass);return Strophe.getResourceFromJid(this.jid)||(this.jid=Strophe.getBareJidFromJid(this.jid)+"/strophe"),iq.up().c("resource",{}).t(Strophe.getResourceFromJid(this.jid)),this._addSysHandler(this._auth2_cb.bind(this),null,null,null,"_auth_2"),this.send(iq.tree()),!1},_sasl_success_cb:function(elem){return Strophe.info("SASL authentication succeeded."),this.deleteHandler(this._sasl_failure_handler),this._sasl_failure_handler=null,this._sasl_challenge_handler&&(this.deleteHandler(this._sasl_challenge_handler),this._sasl_challenge_handler=null),this._addSysHandler(this._sasl_auth1_cb.bind(this),null,"stream:features",null,null),this._sendRestart(),!1},_sasl_auth1_cb:function(elem){for(var child,resource,i=0;i<elem.childNodes.length;i++)child=elem.childNodes[i],child.nodeName=="bind"&&(this.do_bind=!0),child.nodeName=="session"&&(this.do_session=!0);if(this.do_bind)this._addSysHandler(this._sasl_bind_cb.bind(this),null,null,null,"_bind_auth_2"),resource=Strophe.getResourceFromJid(this.jid),resource?this.send($iq({type:"set",id:"_bind_auth_2"}).c("bind",{xmlns:Strophe.NS.BIND}).c("resource",{}).t(resource).tree()):this.send($iq({type:"set",id:"_bind_auth_2"}).c("bind",{xmlns:Strophe.NS.BIND}).tree());else return this._changeConnectStatus(Strophe.Status.AUTHFAIL,null),!1;return!1},_sasl_bind_cb:function(elem){if(elem.getAttribute("type")=="error")return Strophe.info("SASL binding failed."),this._changeConnectStatus(Strophe.Status.AUTHFAIL,null),!1;var bind=elem.getElementsByTagName("bind"),jidNode;if(bind.length>0)jidNode=bind[0].getElementsByTagName("jid"),jidNode.length>0&&(this.jid=Strophe.getText(jidNode[0]),this.do_session?(this._addSysHandler(this._sasl_session_cb.bind(this),null,null,null,"_session_auth_2"),this.send($iq({type:"set",id:"_session_auth_2"}).c("session",{xmlns:Strophe.NS.SESSION}).tree())):(this.authenticated=!0,this._changeConnectStatus(Strophe.Status.CONNECTED,null)));else return Strophe.info("SASL binding failed."),this._changeConnectStatus(Strophe.Status.AUTHFAIL,null),!1},_sasl_session_cb:function(elem){if(elem.getAttribute("type")=="result")this.authenticated=!0,this._changeConnectStatus(Strophe.Status.CONNECTED,null);else if(elem.getAttribute("type")=="error")return Strophe.info("Session creation failed."),this._changeConnectStatus(Strophe.Status.AUTHFAIL,null),!1;return!1},_sasl_failure_cb:function(elem){return this._sasl_success_handler&&(this.deleteHandler(this._sasl_success_handler),this._sasl_success_handler=null),this._sasl_challenge_handler&&(this.deleteHandler(this._sasl_challenge_handler),this._sasl_challenge_handler=null),this._changeConnectStatus(Strophe.Status.AUTHFAIL,null),!1},_auth2_cb:function(elem){return elem.getAttribute("type")=="result"?(this.authenticated=!0,this._changeConnectStatus(Strophe.Status.CONNECTED,null)):elem.getAttribute("type")=="error"&&(this._changeConnectStatus(Strophe.Status.AUTHFAIL,null),this.disconnect()),!1},_addSysTimedHandler:function(period,handler){var thand=new Strophe.TimedHandler(period,handler);return thand.user=!1,this.addTimeds.push(thand),thand},_addSysHandler:function(handler,ns,name,type,id){var hand=new Strophe.Handler(handler,ns,name,type,id);return hand.user=!1,this.addHandlers.push(hand),hand},_onDisconnectTimeout:function(){Strophe.info("_onDisconnectTimeout was called");for(var req;this._requests.length>0;)req=this._requests.pop(),req.abort=!0,req.xhr.abort(),req.xhr.onreadystatechange=function(){};return this._doDisconnect(),!1},_onIdle:function(){for(var i,thand,since,newList,now,body,time_elapsed;this.removeTimeds.length>0;)thand=this.removeTimeds.pop(),i=this.timedHandlers.indexOf(thand),i>=0&&this.timedHandlers.splice(i,1);while(this.addTimeds.length>0)this.timedHandlers.push(this.addTimeds.pop());for(now=(new Date).getTime(),newList=[],i=0;i<this.timedHandlers.length;i++)thand=this.timedHandlers[i],(this.authenticated||!thand.user)&&(since=thand.lastCalled+thand.period,since-now<=0?thand.run()&&newList.push(thand):newList.push(thand));if(this.timedHandlers=newList,this.authenticated&&this._requests.length===0&&this._data.length===0&&!this.disconnecting&&(Strophe.info("no requests during idle cycle, sending blank request"),this._data.push(null)),this._requests.length<2&&this._data.length>0&&!this.paused){for(body=this._buildBody(),i=0;i<this._data.length;i++)this._data[i]!==null&&(this._data[i]==="restart"?body.attrs({to:this.domain,"xml:lang":"en","xmpp:restart":"true","xmlns:xmpp":Strophe.NS.BOSH}):body.cnode(this._data[i]).up());delete this._data;this._data=[];this._requests.push(new Strophe.Request(body.tree(),this._onRequestStateChange.bind(this).prependArg(this._dataRecv.bind(this)),body.tree().getAttribute("rid")));this._processRequest(this._requests.length-1)}this._requests.length>0&&(time_elapsed=this._requests[0].age(),this._requests[0].dead!==null&&this._requests[0].timeDead()>Math.floor(Strophe.SECONDARY_TIMEOUT*this.wait)&&this._throttledRequestHandler(),time_elapsed>Math.floor(Strophe.TIMEOUT*this.wait)&&(Strophe.warn("Request "+this._requests[0].id+" timed out, over "+Math.floor(Strophe.TIMEOUT*this.wait)+" seconds since last activity"),this._throttledRequestHandler()));clearTimeout(this._idleTimeout);this._idleTimeout=setTimeout(this._onIdle.bind(this),100)}};callback&&callback(Strophe,$build,$msg,$iq,$pres)}(function(){window.Strophe=arguments[0];window.$build=arguments[1];window.$msg=arguments[2];window.$iq=arguments[3];window.$pres=arguments[4]}),function(){(function(n,t,i){function w(t,i){var u,f;if(n.isArray(t)){for(u=t.length-1;u>=0;u--)f=t[u],n.type(f)==="string"&&r.transports[f]||(i.log("Invalid transport: "+f+", removing it from the transports list."),t.splice(u,1));t.length===0&&(i.log("No transports remain within the specified transport array."),t=null)}else if(r.transports[t]||t==="auto"){if(t==="auto"&&r._.ieVersion<=8)return["longPolling"]}else i.log("Invalid transport: "+t.toString()+"."),t=null;return t}function b(n){return n==="http:"?80:n==="https:"?443:void 0}function a(n,t){return t.match(/:\d+$/)?t:t+":"+b(n)}function k(t,i){var u=this,r=[];u.tryBuffer=function(i){return t.state===n.signalR.connectionState.connecting?(r.push(i),!0):!1};u.drain=function(){if(t.state===n.signalR.connectionState.connected)while(r.length>0)i(r.shift())};u.clear=function(){r=[]}}var f={nojQuery:"jQuery was not found. Please ensure jQuery is referenced before the SignalR client JavaScript file.",noTransportOnInit:"No transport could be initialized successfully. Try specifying a different transport or none at all for auto initialization.",errorOnNegotiate:"Error during negotiation request.",stoppedWhileLoading:"The connection was stopped during page load.",stoppedWhileNegotiating:"The connection was stopped during the negotiate request.",errorParsingNegotiateResponse:"Error parsing negotiate response.",errorDuringStartRequest:"Error during start request. Stopping the connection.",stoppedDuringStartRequest:"The connection was stopped during the start request.",errorParsingStartResponse:"Error parsing start response: '{0}'. Stopping the connection.",invalidStartResponse:"Invalid start response: '{0}'. Stopping the connection.",protocolIncompatible:"You are using a version of the client that isn't compatible with the server. Client version {0}, server version {1}.",sendFailed:"Send failed.",parseFailed:"Failed at parsing response: {0}",longPollFailed:"Long polling request failed.",eventSourceFailedToConnect:"EventSource failed to connect.",eventSourceError:"Error raised by EventSource",webSocketClosed:"WebSocket closed.",pingServerFailedInvalidResponse:"Invalid ping response when pinging server: '{0}'.",pingServerFailed:"Failed to ping server.",pingServerFailedStatusCode:"Failed to ping server.  Server responded with status code {0}, stopping the connection.",pingServerFailedParse:"Failed to parse ping server response, stopping the connection.",noConnectionTransport:"Connection is in an invalid state, there is no transport active.",webSocketsInvalidState:"The Web Socket transport is in an invalid state, transitioning into reconnecting.",reconnectTimeout:"Couldn't reconnect within the configured timeout of {0} ms, disconnecting.",reconnectWindowTimeout:"The client has been inactive since {0} and it has exceeded the inactivity timeout of {1} ms. Stopping the connection."};if(typeof n!="function")throw new Error(f.nojQuery);var r,h,s=t.document.readyState==="complete",e=n(t),c="__Negotiate Aborted__",u={onStart:"onStart",onStarting:"onStarting",onReceived:"onReceived",onError:"onError",onConnectionSlow:"onConnectionSlow",onReconnecting:"onReconnecting",onReconnect:"onReconnect",onStateChanged:"onStateChanged",onDisconnect:"onDisconnect"},v=function(n,i){if(i!==!1){var r;typeof t.console!="undefined"&&(r="["+(new Date).toTimeString()+"] SignalR: "+n,t.console.debug?t.console.debug(r):t.console.log&&t.console.log(r))}},o=function(t,i,r){return i===t.state?(t.state=r,n(t).triggerHandler(u.onStateChanged,[{oldState:i,newState:r}]),!0):!1},y=function(n){return n.state===r.connectionState.disconnected},l=function(n){return n._.keepAliveData.activated&&n.transport.supportsKeepAlive(n)},p=function(i){var f,e;i._.configuredStopReconnectingTimeout||(e=function(t){var i=r._.format(r.resources.reconnectTimeout,t.disconnectTimeout);t.log(i);n(t).triggerHandler(u.onError,[r._.error(i,"TimeoutException")]);t.stop(!1,!1)},i.reconnecting(function(){var n=this;n.state===r.connectionState.reconnecting&&(f=t.setTimeout(function(){e(n)},n.disconnectTimeout))}),i.stateChanged(function(n){n.oldState===r.connectionState.reconnecting&&t.clearTimeout(f)}),i._.configuredStopReconnectingTimeout=!0)};r=function(n,t,i){return new r.fn.init(n,t,i)};r._={defaultContentType:"application/x-www-form-urlencoded; charset=UTF-8",ieVersion:function(){var i,n;return t.navigator.appName==="Microsoft Internet Explorer"&&(n=/MSIE ([0-9]+\.[0-9]+)/.exec(t.navigator.userAgent),n&&(i=t.parseFloat(n[1]))),i}(),error:function(n,t,i){var r=new Error(n);return r.source=t,typeof i!="undefined"&&(r.context=i),r},transportError:function(n,t,r,u){var f=this.error(n,r,u);return f.transport=t?t.name:i,f},format:function(){for(var t=arguments[0],n=0;n<arguments.length-1;n++)t=t.replace("{"+n+"}",arguments[n+1]);return t},firefoxMajorVersion:function(n){var t=n.match(/Firefox\/(\d+)/);return!t||!t.length||t.length<2?0:parseInt(t[1],10)},configurePingInterval:function(i){var f=i._.config,e=function(t){n(i).triggerHandler(u.onError,[t])};f&&!i._.pingIntervalId&&f.pingInterval&&(i._.pingIntervalId=t.setInterval(function(){r.transports._logic.pingServer(i).fail(e)},f.pingInterval))}};r.events=u;r.resources=f;r.ajaxDefaults={processData:!0,timeout:null,async:!0,global:!1,cache:!1};r.changeState=o;r.isDisconnecting=y;r.connectionState={connecting:0,connected:1,reconnecting:2,disconnected:4};r.hub={start:function(){throw new Error("SignalR: Error loading hubs. Ensure your hubs reference is correct, e.g. <script src='/signalr/js'><\/script>.");}};e.load(function(){s=!0});r.fn=r.prototype={init:function(t,i,r){var f=n(this);this.url=t;this.qs=i;this.lastError=null;this._={keepAliveData:{},connectingMessageBuffer:new k(this,function(n){f.triggerHandler(u.onReceived,[n])}),onFailedTimeoutHandle:null,lastMessageAt:(new Date).getTime(),lastActiveAt:(new Date).getTime(),beatInterval:5e3,beatHandle:null,totalTransportConnectTimeout:0};typeof r=="boolean"&&(this.logging=r)},_parseResponse:function(n){var t=this;return n?typeof n=="string"?t.json.parse(n):n:n},_originalJson:t.JSON,json:t.JSON,isCrossDomain:function(i,r){var u;return(i=n.trim(i),r=r||t.location,i.indexOf("http")!==0)?!1:(u=t.document.createElement("a"),u.href=i,u.protocol+a(u.protocol,u.host)!==r.protocol+a(r.protocol,r.host))},ajaxDataType:"text",contentType:"application/json; charset=UTF-8",logging:!1,state:r.connectionState.disconnected,clientProtocol:"1.4",reconnectDelay:2e3,transportConnectTimeout:0,disconnectTimeout:3e4,reconnectWindow:3e4,keepAliveWarnAt:2/3,start:function(i,h){var a=this,v={pingInterval:3e5,waitForPageLoad:!0,transport:"auto",jsonp:!1},d,y=a._deferral||n.Deferred(),b=t.document.createElement("a"),k,g;if(a.lastError=null,a._deferral=y,!a.json)throw new Error("SignalR: No JSON parser found. Please ensure json2.js is referenced before the SignalR.js file if you need to support clients without native JSON parsing support, e.g. IE<8.");if(n.type(i)==="function"?h=i:n.type(i)==="object"&&(n.extend(v,i),n.type(v.callback)==="function"&&(h=v.callback)),v.transport=w(v.transport,a),!v.transport)throw new Error("SignalR: Invalid transport(s) specified, aborting start.");return(a._.config=v,!s&&v.waitForPageLoad===!0)?(a._.deferredStartHandler=function(){a.start(i,h)},e.bind("load",a._.deferredStartHandler),y.promise()):a.state===r.connectionState.connecting?y.promise():o(a,r.connectionState.disconnected,r.connectionState.connecting)===!1?(y.resolve(a),y.promise()):(p(a),b.href=a.url,b.protocol&&b.protool!==":"?(a.protocol=b.protocol,a.host=b.host):(a.protocol=t.document.location.protocol,a.host=b.host||t.document.location.host),a.baseUrl=a.protocol+"//"+a.host,a.wsProtocol=a.protocol==="https:"?"wss://":"ws://",v.transport==="auto"&&v.jsonp===!0&&(v.transport="longPolling"),a.url.indexOf("//")===0&&(a.url=t.location.protocol+a.url,a.log("Protocol relative URL detected, normalizing it to '"+a.url+"'.")),this.isCrossDomain(a.url)&&(a.log("Auto detected cross domain url."),v.transport==="auto"&&(v.transport=["webSockets","serverSentEvents","longPolling"]),typeof v.withCredentials=="undefined"&&(v.withCredentials=!0),v.jsonp||(v.jsonp=!n.support.cors,v.jsonp&&a.log("Using jsonp because this browser doesn't support CORS.")),a.contentType=r._.defaultContentType),a.withCredentials=v.withCredentials,a.ajaxDataType=v.jsonp?"jsonp":"text",n(a).bind(u.onStart,function(){n.type(h)==="function"&&h.call(a);y.resolve(a)}),d=function(i,s){var p=r._.error(f.noTransportOnInit);if(s=s||0,s>=i.length){n(a).triggerHandler(u.onError,[p]);y.reject(p);a.stop();return}if(a.state!==r.connectionState.disconnected){var w=i[s],h=r.transports[w],c=!1,v=function(){c||(c=!0,t.clearTimeout(a._.onFailedTimeoutHandle),h.stop(a),d(i,s+1))};a.transport=h;try{a._.onFailedTimeoutHandle=t.setTimeout(function(){a.log(h.name+" timed out when trying to connect.");v()},a._.totalTransportConnectTimeout);h.start(a,function(){var i=function(){var i=r._.firefoxMajorVersion(t.navigator.userAgent)>=11,f=!!a.withCredentials&&i;a.log("The start request succeeded. Transitioning to the connected state.");l(a)&&r.transports._logic.monitorKeepAlive(a);r.transports._logic.startHeartbeat(a);r._.configurePingInterval(a);o(a,r.connectionState.connecting,r.connectionState.connected)||a.log("WARNING! The connection was not in the connecting state.");a._.connectingMessageBuffer.drain();n(a).triggerHandler(u.onStart);e.bind("pagehide",function(){a.log("Window unloading, stopping the connection.");a.stop(f)});i&&e.bind("beforeunload",function(){t.setTimeout(function(){a.stop(f)},0)})};if(!c){if(c=!0,t.clearTimeout(a._.onFailedTimeoutHandle),a.state===r.connectionState.disconnected)return;a.log(h.name+" transport selected. Initiating start request.");r.transports._logic.ajaxStart(a,i)}},v)}catch(b){a.log(h.name+" transport threw '"+b.message+"' when attempting to start.");v()}}},k=a.url+"/negotiate",g=function(t,i){var e=r._.error(f.errorOnNegotiate,t,i._.negotiateRequest);n(i).triggerHandler(u.onError,e);y.reject(e);i.stop()},n(a).triggerHandler(u.onStarting),k=r.transports._logic.prepareQueryString(a,k),a.log("Negotiating with '"+k+"'."),a._.negotiateRequest=r.transports._logic.ajax(a,{url:k,error:function(n,t){t!==c?g(n,a):y.reject(r._.error(f.stoppedWhileNegotiating,null,a._.negotiateRequest))},success:function(t){var i,e,h,o=[],s=[];try{i=a._parseResponse(t)}catch(c){g(r._.error(f.errorParsingNegotiateResponse,c),a);return}if(e=a._.keepAliveData,a.appRelativeUrl=i.Url,a.id=i.ConnectionId,a.token=i.ConnectionToken,a.webSocketServerUrl=i.WebSocketServerUrl,a._.pollTimeout=i.ConnectionTimeout*1e3+1e4,a.disconnectTimeout=i.DisconnectTimeout*1e3,a._.totalTransportConnectTimeout=a.transportConnectTimeout+i.TransportConnectTimeout*1e3,i.KeepAliveTimeout?(e.activated=!0,e.timeout=i.KeepAliveTimeout*1e3,e.timeoutWarning=e.timeout*a.keepAliveWarnAt,a._.beatInterval=(e.timeout-e.timeoutWarning)/3):e.activated=!1,a.reconnectWindow=a.disconnectTimeout+(e.timeout||0),!i.ProtocolVersion||i.ProtocolVersion!==a.clientProtocol){h=r._.error(r._.format(f.protocolIncompatible,a.clientProtocol,i.ProtocolVersion));n(a).triggerHandler(u.onError,[h]);y.reject(h);return}n.each(r.transports,function(n){if(n.indexOf("_")===0||n==="webSockets"&&!i.TryWebSockets)return!0;s.push(n)});n.isArray(v.transport)?n.each(v.transport,function(t,i){n.inArray(i,s)>=0&&o.push(i)}):v.transport==="auto"?o=s:n.inArray(v.transport,s)>=0&&o.push(v.transport);d(o)}}),y.promise())},starting:function(t){var i=this;return n(i).bind(u.onStarting,function(){t.call(i)}),i},send:function(n){var t=this;if(t.state===r.connectionState.disconnected)throw new Error("SignalR: Connection must be started before data can be sent. Call .start() before .send()");if(t.state===r.connectionState.connecting)throw new Error("SignalR: Connection has not been fully initialized. Use .start().done() or .start().fail() to run logic after the connection has started.");return t.transport.send(t,n),t},received:function(t){var i=this;return n(i).bind(u.onReceived,function(n,r){t.call(i,r)}),i},stateChanged:function(t){var i=this;return n(i).bind(u.onStateChanged,function(n,r){t.call(i,r)}),i},error:function(t){var i=this;return n(i).bind(u.onError,function(n,r,u){i.lastError=r;t.call(i,r,u)}),i},disconnected:function(t){var i=this;return n(i).bind(u.onDisconnect,function(){t.call(i)}),i},connectionSlow:function(t){var i=this;return n(i).bind(u.onConnectionSlow,function(){t.call(i)}),i},reconnecting:function(t){var i=this;return n(i).bind(u.onReconnecting,function(){t.call(i)}),i},reconnected:function(t){var i=this;return n(i).bind(u.onReconnect,function(){t.call(i)}),i},stop:function(i,h){var a=this,v=a._deferral;if(a._.deferredStartHandler&&e.unbind("load",a._.deferredStartHandler),delete a._.config,delete a._.deferredStartHandler,!s&&(!a._.config||a._.config.waitForPageLoad===!0)){a.log("Stopping connection prior to negotiate.");v&&v.reject(r._.error(f.stoppedWhileLoading));return}if(a.state!==r.connectionState.disconnected)return a.log("Stopping connection."),o(a,a.state,r.connectionState.disconnected),t.clearTimeout(a._.beatHandle),t.clearTimeout(a._.onFailedTimeoutHandle),t.clearInterval(a._.pingIntervalId),a.transport&&(a.transport.stop(a),h!==!1&&a.transport.abort(a,i),l(a)&&r.transports._logic.stopMonitoringKeepAlive(a),a.transport=null),a._.negotiateRequest&&(a._.negotiateRequest.abort(c),delete a._.negotiateRequest),r.transports._logic.tryAbortStartRequest(a),n(a).triggerHandler(u.onDisconnect),delete a._deferral,delete a.messageId,delete a.groupsToken,delete a.id,delete a._.pingIntervalId,delete a._.lastMessageAt,delete a._.lastActiveAt,a._.connectingMessageBuffer.clear(),a},log:function(n){v(n,this.logging)}};r.fn.init.prototype=r.fn;r.noConflict=function(){return n.connection===r&&(n.connection=h),r};n.connection&&(h=n.connection);n.connection=n.signalR=r})(LaJq,window),function(n,t){function o(n){n._.keepAliveData.monitoring&&h(n);r.markActive(n)&&(n._.beatHandle=t.setTimeout(function(){o(n)},n._.beatInterval))}function h(t){var r=t._.keepAliveData,f;t.state===i.connectionState.connected&&(f=(new Date).getTime()-t._.lastMessageAt,f>=r.timeout?(t.log("Keep alive timed out.  Notifying transport that connection has been lost."),t.transport.lostConnection(t)):f>=r.timeoutWarning?r.userNotified||(t.log("Keep alive has been missed, connection may be dead/slow."),n(t).triggerHandler(u.onConnectionSlow),r.userNotified=!0):r.userNotified=!1)}function f(n,t){var i=n.url+t;return n.transport&&(i+="?transport="+n.transport.name),r.prepareQueryString(n,i)}var i=n.signalR,u=n.signalR.events,s=n.signalR.changeState,e="__Start Aborted__",r;i.transports={};r=i.transports._logic={ajax:function(t,i){return n.ajax(n.extend(!0,{},n.signalR.ajaxDefaults,{type:"GET",data:{},xhrFields:{withCredentials:t.withCredentials},contentType:t.contentType,dataType:t.ajaxDataType},i))},pingServer:function(t){var e,f,u=n.Deferred();return t.transport?(e=t.url+"/ping",e=r.addQs(e,t.qs),f=r.ajax(t,{url:e,success:function(n){var r;try{r=t._parseResponse(n)}catch(e){u.reject(i._.transportError(i.resources.pingServerFailedParse,t.transport,e,f));t.stop();return}r.Response==="pong"?u.resolve():u.reject(i._.transportError(i._.format(i.resources.pingServerFailedInvalidResponse,n),t.transport,null,f))},error:function(n){n.status===401||n.status===403?(u.reject(i._.transportError(i._.format(i.resources.pingServerFailedStatusCode,n.status),t.transport,n,f)),t.stop()):u.reject(i._.transportError(i.resources.pingServerFailed,t.transport,n,f))}})):u.reject(i._.transportError(i.resources.noConnectionTransport,t.transport)),u.promise()},prepareQueryString:function(n,i){var u;return u=r.addQs(i,"clientProtocol="+n.clientProtocol),u=r.addQs(u,n.qs),n.token&&(u+="&connectionToken="+t.encodeURIComponent(n.token)),n.data&&(u+="&connectionData="+t.encodeURIComponent(n.data)),u},addQs:function(t,i){var r=t.indexOf("?")!==-1?"&":"?",u;if(!i)return t;if(typeof i=="object")return t+r+n.param(i);if(typeof i=="string")return u=i.charAt(0),(u==="?"||u==="&")&&(r=""),t+r+i;throw new Error("Query string property must be either a string or object.");},getUrl:function(n,i,u,f){var s=i==="webSockets"?"":n.baseUrl,e=s+n.appRelativeUrl,o="transport="+i;return n.groupsToken&&(o+="&groupsToken="+t.encodeURIComponent(n.groupsToken)),u?(e+=f?"/poll":"/reconnect",n.messageId&&(o+="&messageId="+t.encodeURIComponent(n.messageId))):e+="/connect",e+="?"+o,e=r.prepareQueryString(n,e),e+("&tid="+Math.floor(Math.random()*11))},maximizePersistentResponse:function(n){return{MessageId:n.C,Messages:n.M,Initialized:typeof n.S!="undefined"?!0:!1,Disconnect:typeof n.D!="undefined"?!0:!1,ShouldReconnect:typeof n.T!="undefined"?!0:!1,LongPollDelay:n.L,GroupsToken:n.G}},updateGroups:function(n,t){t&&(n.groupsToken=t)},stringifySend:function(n,t){return typeof t=="string"||typeof t=="undefined"||t===null?t:n.json.stringify(t)},ajaxSend:function(t,e){var h=r.stringifySend(t,e),c=f(t,"/send"),o,s=function(t,r){n(r).triggerHandler(u.onError,[i._.transportError(i.resources.sendFailed,r.transport,t,o),e])};return o=r.ajax(t,{url:c,type:t.ajaxDataType==="jsonp"?"GET":"POST",contentType:i._.defaultContentType,data:{data:h},success:function(n){var i;if(n){try{i=t._parseResponse(n)}catch(u){s(u,t);t.stop();return}r.triggerReceived(t,i)}},error:function(n,i){i!=="abort"&&i!=="parsererror"&&s(n,t)}})},ajaxAbort:function(n,t){if(typeof n.transport!="undefined"){t=typeof t=="undefined"?!0:t;var i=f(n,"/abort");r.ajax(n,{url:i,async:t,timeout:1e3,type:"POST"});n.log("Fired ajax abort async = "+t+".")}},ajaxStart:function(t,o){var h=function(n){var i=t._deferral;i&&i.reject(n)},s=function(i){t.log("The start request failed. Stopping the connection.");n(t).triggerHandler(u.onError,[i]);h(i);t.stop()};t._.startRequest=r.ajax(t,{url:f(t,"/start"),success:function(n,r,u){var f;try{f=t._parseResponse(n)}catch(e){s(i._.error(i._.format(i.resources.errorParsingStartResponse,n),e,u));return}f.Response==="started"?o():s(i._.error(i._.format(i.resources.invalidStartResponse,n),null,u))},error:function(n,r,u){r!==e?s(i._.error(i.resources.errorDuringStartRequest,u,n)):(t.log("The start request aborted because connection.stop() was called."),h(i._.error(i.resources.stoppedDuringStartRequest,null,n)))}})},tryAbortStartRequest:function(n){n._.startRequest&&(n._.startRequest.abort(e),delete n._.startRequest)},tryInitialize:function(n,t){n.Initialized&&t()},triggerReceived:function(t,i){t._.connectingMessageBuffer.tryBuffer(i)||n(t).triggerHandler(u.onReceived,[i])},processMessages:function(t,i,u){var f;r.markLastMessage(t);i&&(f=r.maximizePersistentResponse(i),r.updateGroups(t,f.GroupsToken),f.MessageId&&(t.messageId=f.MessageId),f.Messages&&(n.each(f.Messages,function(n,i){r.triggerReceived(t,i)}),r.tryInitialize(f,u)))},monitorKeepAlive:function(t){var i=t._.keepAliveData;i.monitoring?t.log("Tried to monitor keep alive but it's already being monitored."):(i.monitoring=!0,r.markLastMessage(t),t._.keepAliveData.reconnectKeepAliveUpdate=function(){r.markLastMessage(t)},n(t).bind(u.onReconnect,t._.keepAliveData.reconnectKeepAliveUpdate),t.log("Now monitoring keep alive with a warning timeout of "+i.timeoutWarning+" and a connection lost timeout of "+i.timeout+"."))},stopMonitoringKeepAlive:function(t){var i=t._.keepAliveData;i.monitoring&&(i.monitoring=!1,n(t).unbind(u.onReconnect,t._.keepAliveData.reconnectKeepAliveUpdate),t._.keepAliveData={},t.log("Stopping the monitoring of the keep alive."))},startHeartbeat:function(n){n._.lastActiveAt=(new Date).getTime();o(n)},markLastMessage:function(n){n._.lastMessageAt=(new Date).getTime()},markActive:function(n){return r.verifyLastActive(n)?(n._.lastActiveAt=(new Date).getTime(),!0):!1},isConnectedOrReconnecting:function(n){return n.state===i.connectionState.connected||n.state===i.connectionState.reconnecting},ensureReconnectingState:function(t){return s(t,i.connectionState.connected,i.connectionState.reconnecting)===!0&&n(t).triggerHandler(u.onReconnecting),t.state===i.connectionState.reconnecting},clearReconnectTimeout:function(n){n&&n._.reconnectTimeout&&(t.clearTimeout(n._.reconnectTimeout),delete n._.reconnectTimeout)},verifyLastActive:function(t){if((new Date).getTime()-t._.lastActiveAt>=t.reconnectWindow){var r=i._.format(i.resources.reconnectWindowTimeout,new Date(t._.lastActiveAt),t.reconnectWindow);return t.log(r),n(t).triggerHandler(u.onError,[i._.error(r,"TimeoutException")]),t.stop(!1,!1),!1}return!0},reconnect:function(n,u){var f=i.transports[u];if(r.isConnectedOrReconnecting(n)&&!n._.reconnectTimeout){if(!r.verifyLastActive(n))return;n._.reconnectTimeout=t.setTimeout(function(){r.verifyLastActive(n)&&(f.stop(n),r.ensureReconnectingState(n)&&(n.log(u+" reconnecting."),f.start(n)))},n.reconnectDelay)}},handleParseFailure:function(t,r,f,e,o){t.state===i.connectionState.connecting?(t.log("Failed to parse server response while attempting to connect."),e()):(n(t).triggerHandler(u.onError,[i._.transportError(i._.format(i.resources.parseFailed,r),t.transport,f,o)]),t.stop())},foreverFrame:{count:0,connections:{}}}}(LaJq,window),function(n,t){var r=n.signalR,u=n.signalR.events,f=n.signalR.changeState,i=r.transports._logic;r.transports.webSockets={name:"webSockets",supportsKeepAlive:function(){return!0},send:function(t,f){var e=i.stringifySend(t,f);try{t.socket.send(e)}catch(o){n(t).triggerHandler(u.onError,[r._.transportError(r.resources.webSocketsInvalidState,t.transport,o,t.socket),f])}},start:function(e,o,s){var h,c=!1,l=this,a=!o,v=n(e);if(!t.WebSocket){s();return}e.socket||(h=e.webSocketServerUrl?e.webSocketServerUrl:e.wsProtocol+e.host,h+=i.getUrl(e,this.name,a),e.log("Connecting to websocket endpoint '"+h+"'."),e.socket=new t.WebSocket(h),e.socket.onopen=function(){c=!0;e.log("Websocket opened.");i.clearReconnectTimeout(e);f(e,r.connectionState.reconnecting,r.connectionState.connected)===!0&&v.triggerHandler(u.onReconnect)},e.socket.onclose=function(t){if(this===e.socket){if(c)typeof t.wasClean!="undefined"&&t.wasClean===!1?(n(e).triggerHandler(u.onError,[r._.transportError(r.resources.webSocketClosed,e.transport,t)]),e.log("Unclean disconnect from websocket: "+t.reason||"[no reason given].")):e.log("Websocket closed.");else{s?s():a&&l.reconnect(e);return}l.reconnect(e)}},e.socket.onmessage=function(t){var r;try{r=e._parseResponse(t.data)}catch(u){i.handleParseFailure(e,t.data,u,s,t);return}r&&(n.isEmptyObject(r)||r.M?i.processMessages(e,r,o):i.triggerReceived(e,r))})},reconnect:function(n){i.reconnect(n,this.name)},lostConnection:function(n){this.reconnect(n)},stop:function(n){i.clearReconnectTimeout(n);n.socket&&(n.log("Closing the Websocket."),n.socket.close(),n.socket=null)},abort:function(n,t){i.ajaxAbort(n,t)}}}(LaJq,window),function(n,t){var i=n.signalR,u=n.signalR.events,e=n.signalR.changeState,r=i.transports._logic,f=function(n){t.clearTimeout(n._.reconnectAttemptTimeoutHandle);delete n._.reconnectAttemptTimeoutHandle};i.transports.serverSentEvents={name:"serverSentEvents",supportsKeepAlive:function(){return!0},timeOut:3e3,start:function(o,s,h){var c=this,l=!1,a=n(o),v=!s,y;if(o.eventSource&&(o.log("The connection already has an event source. Stopping it."),o.stop()),!t.EventSource){h&&(o.log("This browser doesn't support SSE."),h());return}y=r.getUrl(o,this.name,v);try{o.log("Attempting to connect to SSE endpoint '"+y+"'.");o.eventSource=new t.EventSource(y,{withCredentials:o.withCredentials})}catch(p){o.log("EventSource failed trying to connect with error "+p.Message+".");h?h():(a.triggerHandler(u.onError,[i._.transportError(i.resources.eventSourceFailedToConnect,o.transport,p)]),v&&c.reconnect(o));return}v&&(o._.reconnectAttemptTimeoutHandle=t.setTimeout(function(){l===!1&&o.eventSource.readyState!==t.EventSource.OPEN&&c.reconnect(o)},c.timeOut));o.eventSource.addEventListener("open",function(){o.log("EventSource connected.");f(o);r.clearReconnectTimeout(o);l===!1&&(l=!0,e(o,i.connectionState.reconnecting,i.connectionState.connected)===!0&&a.triggerHandler(u.onReconnect))},!1);o.eventSource.addEventListener("message",function(n){var t;if(n.data!=="initialized"){try{t=o._parseResponse(n.data)}catch(i){r.handleParseFailure(o,n.data,i,h,n);return}r.processMessages(o,t,s)}},!1);o.eventSource.addEventListener("error",function(n){if(this===o.eventSource){if(!l){h&&h();return}o.log("EventSource readyState: "+o.eventSource.readyState+".");n.eventPhase===t.EventSource.CLOSED?(o.log("EventSource reconnecting due to the server connection ending."),c.reconnect(o)):(o.log("EventSource error."),a.triggerHandler(u.onError,[i._.transportError(i.resources.eventSourceError,o.transport,n)]))}},!1)},reconnect:function(n){r.reconnect(n,this.name)},lostConnection:function(n){this.reconnect(n)},send:function(n,t){r.ajaxSend(n,t)},stop:function(n){f(n);r.clearReconnectTimeout(n);n&&n.eventSource&&(n.log("EventSource calling close()."),n.eventSource.close(),n.eventSource=null,delete n.eventSource)},abort:function(n,t){r.ajaxAbort(n,t)}}}(LaJq,window),function(n,t){var r=n.signalR,e=n.signalR.events,o=n.signalR.changeState,i=r.transports._logic,u=function(){var n=t.document.createElement("iframe");return n.setAttribute("style","position:absolute;top:0;left:0;width:0;height:0;visibility:hidden;"),n},f=function(){var i=null,f=1e3,n=0;return{prevent:function(){r._.ieVersion<=8&&(n===0&&(i=t.setInterval(function(){var n=u();t.document.body.appendChild(n);t.document.body.removeChild(n);n=null},f)),n++)},cancel:function(){n===1&&t.clearInterval(i);n>0&&n--}}}();r.transports.foreverFrame={name:"foreverFrame",supportsKeepAlive:function(){return!0},iframeClearThreshold:50,start:function(n,r,e){var l=this,s=i.foreverFrame.count+=1,h,o=u(),c=function(){n.log("Forever frame iframe finished loading and is no longer receiving messages.");l.reconnect(n)};if(t.EventSource){e&&(n.log("This browser supports SSE, skipping Forever Frame."),e());return}o.setAttribute("data-signalr-connection-id",n.id);f.prevent();h=i.getUrl(n,this.name);h+="&frameId="+s;t.document.body.appendChild(o);n.log("Binding to iframe's load event.");o.addEventListener?o.addEventListener("load",c,!1):o.attachEvent&&o.attachEvent("onload",c);o.src=h;i.foreverFrame.connections[s]=n;n.frame=o;n.frameId=s;r&&(n.onSuccess=function(){n.log("Iframe transport started.");r()})},reconnect:function(n){var r=this;i.isConnectedOrReconnecting(n)&&i.verifyLastActive(n)&&t.setTimeout(function(){if(i.verifyLastActive(n)&&n.frame&&i.ensureReconnectingState(n)){var u=n.frame,t=i.getUrl(n,r.name,!0)+"&frameId="+n.frameId;n.log("Updating iframe src to '"+t+"'.");u.src=t}},n.reconnectDelay)},lostConnection:function(n){this.reconnect(n)},send:function(n,t){i.ajaxSend(n,t)},receive:function(t,u){var f,e,o;if(t.json!==t._originalJson&&(u=t._originalJson.stringify(u)),o=t._parseResponse(u),i.processMessages(t,o,t.onSuccess),t.state===n.signalR.connectionState.connected&&(t.frameMessageCount=(t.frameMessageCount||0)+1,t.frameMessageCount>r.transports.foreverFrame.iframeClearThreshold&&(t.frameMessageCount=0,f=t.frame.contentWindow||t.frame.contentDocument,f&&f.document&&f.document.body)))for(e=f.document.body;e.firstChild;)e.removeChild(e.firstChild)},stop:function(n){var r=null;if(f.cancel(),n.frame){if(n.frame.stop)n.frame.stop();else try{r=n.frame.contentWindow||n.frame.contentDocument;r.document&&r.document.execCommand&&r.document.execCommand("Stop")}catch(u){n.log("Error occured when stopping foreverFrame transport. Message = "+u.message+".")}n.frame.parentNode===t.document.body&&t.document.body.removeChild(n.frame);delete i.foreverFrame.connections[n.frameId];n.frame=null;n.frameId=null;delete n.frame;delete n.frameId;delete n.onSuccess;delete n.frameMessageCount;n.log("Stopping forever frame.")}},abort:function(n,t){i.ajaxAbort(n,t)},getConnection:function(n){return i.foreverFrame.connections[n]},started:function(t){o(t,r.connectionState.reconnecting,r.connectionState.connected)===!0&&n(t).triggerHandler(e.onReconnect)}}}(LaJq,window),function(n,t){var r=n.signalR,u=n.signalR.events,e=n.signalR.changeState,f=n.signalR.isDisconnecting,i=r.transports._logic;r.transports.longPolling={name:"longPolling",supportsKeepAlive:function(){return!1},reconnectDelay:3e3,start:function(o,s,h){var a=this,v=function(){v=n.noop;h=null;o.log("LongPolling connected.");s()},y=function(){return h?(h(),h=null,o.log("LongPolling failed to connect."),!0):!1},c=o._,l=0,p=function(i){t.clearTimeout(c.reconnectTimeoutId);c.reconnectTimeoutId=null;e(i,r.connectionState.reconnecting,r.connectionState.connected)===!0&&(i.log("Raising the reconnect event"),n(i).triggerHandler(u.onReconnect))},w=36e5;o.pollXhr&&(o.log("Polling xhr requests already exists, aborting."),o.stop());o.messageId=null;c.reconnectTimeoutId=null;c.pollTimeoutId=t.setTimeout(function(){(function e(s,h){var d=s.messageId,g=d===null,b=!g,nt=!h,k=i.getUrl(s,a.name,b,nt);f(s)!==!0&&(o.log("Opening long polling request to '"+k+"'."),s.pollXhr=i.ajax(o,{xhrFields:{onprogress:function(){i.markLastMessage(o)}},url:k,timeout:o._.pollTimeout,success:function(r){var h,w=0,u,a;o.log("Long poll complete.");l=0;try{h=o._parseResponse(r)}catch(b){i.handleParseFailure(s,r,b,y,s.pollXhr);return}(c.reconnectTimeoutId!==null&&p(s),h&&(u=i.maximizePersistentResponse(h)),i.processMessages(s,h,v),u&&n.type(u.LongPollDelay)==="number"&&(w=u.LongPollDelay),u&&u.Disconnect)||f(s)!==!0&&(a=u&&u.ShouldReconnect,!a||i.ensureReconnectingState(s))&&(w>0?c.pollTimeoutId=t.setTimeout(function(){e(s,a)},w):e(s,a))},error:function(f,h){if(t.clearTimeout(c.reconnectTimeoutId),c.reconnectTimeoutId=null,h==="abort"){o.log("Aborted xhr request.");return}if(!y()){if(l++,o.state!==r.connectionState.reconnecting&&(o.log("An error occurred using longPolling. Status = "+h+".  Response = "+f.responseText+"."),n(s).triggerHandler(u.onError,[r._.transportError(r.resources.longPollFailed,o.transport,f,s.pollXhr)])),(o.state===r.connectionState.connected||o.state===r.connectionState.reconnecting)&&!i.verifyLastActive(o))return;if(!i.ensureReconnectingState(s))return;c.pollTimeoutId=t.setTimeout(function(){e(s,!0)},a.reconnectDelay)}}}),b&&h===!0&&(c.reconnectTimeoutId=t.setTimeout(function(){p(s)},Math.min(1e3*(Math.pow(2,l)-1),w))))})(o)},250)},lostConnection:function(n){n.pollXhr&&n.pollXhr.abort("lostConnection")},send:function(n,t){i.ajaxSend(n,t)},stop:function(n){t.clearTimeout(n._.pollTimeoutId);t.clearTimeout(n._.reconnectTimeoutId);delete n._.pollTimeoutId;delete n._.reconnectTimeoutId;n.pollXhr&&(n.pollXhr.abort(),n.pollXhr=null,delete n.pollXhr)},abort:function(n,t){i.ajaxAbort(n,t)}}}(LaJq,window),function(n){function r(n){return n+e}function s(n,t,i){for(var f=n.length,u=[],r=0;r<f;r+=1)n.hasOwnProperty(r)&&(u[r]=t.call(i,n[r],r,n));return u}function h(t){return n.isFunction(t)?null:n.type(t)==="undefined"?null:t}function u(n){for(var t in n)if(n.hasOwnProperty(t))return!0;return!1}function f(n,t){var i=n._.invocationCallbacks,r,f;u(i)&&n.log("Clearing hub invocation callbacks with error: "+t+".");n._.invocationCallbackId=0;delete n._.invocationCallbacks;n._.invocationCallbacks={};for(f in i)r=i[f],r.method.call(r.scope,{E:t})}function i(n,t){return new i.fn.init(n,t)}function t(i,r){var u={qs:null,logging:!1,useDefaultPath:!0};return n.extend(u,r),(!i||u.useDefaultPath)&&(i=(i||"")+"/signalr"),new t.fn.init(i,u)}var e=".hubProxy",o=n.signalR;i.fn=i.prototype={init:function(n,t){this.state={};this.connection=n;this.hubName=t;this._={callbackMap:{}}},constructor:i,hasSubscriptions:function(){return u(this._.callbackMap)},on:function(t,i){var u=this,f=u._.callbackMap;return t=t.toLowerCase(),f[t]||(f[t]={}),f[t][i]=function(n,t){i.apply(u,t)},n(u).bind(r(t),f[t][i]),u},off:function(t,i){var e=this,o=e._.callbackMap,f;return t=t.toLowerCase(),f=o[t],f&&(f[i]?(n(e).unbind(r(t),f[i]),delete f[i],u(f)||delete o[t]):i||(n(e).unbind(r(t)),delete o[t])),e},invoke:function(t){var i=this,r=i.connection,e=n.makeArray(arguments).slice(1),c=s(e,h),f={H:i.hubName,M:t,A:c,I:r._.invocationCallbackId},u=n.Deferred(),l=function(f){var e=i._maximizeHubResponse(f),h,s;n.extend(i.state,e.State);e.Progress?u.notifyWith?u.notifyWith(i,[e.Progress.Data]):r._.progressjQueryVersionLogged||(r.log("A hub method invocation progress update was received but the version of jQuery in use ("+n.prototype.jquery+") does not support progress updates. Upgrade to jQuery 1.7+ to receive progress notifications."),r._.progressjQueryVersionLogged=!0):e.Error?(e.StackTrace&&r.log(e.Error+"\n"+e.StackTrace+"."),h=e.IsHubException?"HubException":"Exception",s=o._.error(e.Error,h),s.data=e.ErrorData,r.log(i.hubName+"."+t+" failed to execute. Error: "+s.message),u.rejectWith(i,[s])):(r.log("Invoked "+i.hubName+"."+t),u.resolveWith(i,[e.Result]))};return r._.invocationCallbacks[r._.invocationCallbackId.toString()]={scope:i,method:l},r._.invocationCallbackId+=1,n.isEmptyObject(i.state)||(f.S=i.state),r.log("Invoking "+i.hubName+"."+t),r.send(f),u.promise()},_maximizeHubResponse:function(n){return{State:n.S,Result:n.R,Progress:n.P?{Id:n.P.I,Data:n.P.D}:null,Id:n.I,IsHubException:n.H,Error:n.E,StackTrace:n.T,ErrorData:n.D}}};i.fn.init.prototype=i.fn;t.fn=t.prototype=n.connection();t.fn.init=function(t,i){var e={qs:null,logging:!1,useDefaultPath:!0},u=this;n.extend(e,i);n.signalR.fn.init.call(u,t,e.qs,e.logging);u.proxies={};u._.invocationCallbackId=0;u._.invocationCallbacks={};u.received(function(t){var f,o,e,i,s,h;t&&(typeof t.P!="undefined"?(e=t.P.I.toString(),i=u._.invocationCallbacks[e],i&&i.method.call(i.scope,t)):typeof t.I!="undefined"?(e=t.I.toString(),i=u._.invocationCallbacks[e],i&&(u._.invocationCallbacks[e]=null,delete u._.invocationCallbacks[e],i.method.call(i.scope,t))):(f=this._maximizeClientHubInvocation(t),u.log("Triggering client hub event '"+f.Method+"' on hub '"+f.Hub+"'."),s=f.Hub.toLowerCase(),h=f.Method.toLowerCase(),o=this.proxies[s],n.extend(o.state,f.State),n(o).triggerHandler(r(h),[f.Args])))});u.error(function(n,t){var i,r;t&&(i=t.I,r=u._.invocationCallbacks[i],r&&(u._.invocationCallbacks[i]=null,delete u._.invocationCallbacks[i],r.method.call(r.scope,{E:n})))});u.reconnecting(function(){u.transport&&u.transport.name==="webSockets"&&f(u,"Connection started reconnecting before invocation result was received.")});u.disconnected(function(){f(u,"Connection was disconnected before invocation result was received.")})};t.fn._maximizeClientHubInvocation=function(n){return{Hub:n.H,Method:n.M,Args:n.A,State:n.S}};t.fn._registerSubscribedHubs=function(){var t=this;t._subscribedToHubs||(t._subscribedToHubs=!0,t.starting(function(){var i=[];n.each(t.proxies,function(n){this.hasSubscriptions()&&(i.push({name:n}),t.log("Client subscribed to hub '"+n+"'."))});i.length===0&&t.log("No hubs have been subscribed to.  The client will not receive data from hubs.  To fix, declare at least one client side function prior to connection start for each hub you wish to subscribe to.");t.data=t.json.stringify(i)}))};t.fn.createHubProxy=function(n){n=n.toLowerCase();var t=this.proxies[n];return t||(t=i(this,n),this.proxies[n]=t),this._registerSubscribedHubs(),t};t.fn.init.prototype=t.fn;n.hubConnection=t}(LaJq,window),function(n){n.signalR.version="2.1.2"}(LaJq)}();!function(e,r,n){function a(r,n){return function(){n.apply(r,e.makeArray(arguments))}}function t(r,n){var t,u,i,c,o;for(t in r)if(r.hasOwnProperty(t)){if(u=r[t],!u.hubName)continue;o=n?u.on:u.off;for(i in u.client)if(u.client.hasOwnProperty(i)){if(c=u.client[i],!e.isFunction(c))continue;o.call(u,i,a(u,c))}}}if("function"!=typeof e.signalR)throw new Error("SignalR: SignalR is not loaded. Please ensure jquery.signalR-x.js is referenced before ~/signalr/js.");var u=e.signalR;e.hubConnection.prototype.createHubProxies=function(){var r={};return this.starting(function(){t(r,!0);this._registerSubscribedHubs()}).disconnected(function(){t(r,!1)}),r.chatHub=this.createHubProxy("chatHub"),r.chatHub.client={},r.chatHub.server={rasaNlu:function(chatId,message,lang,agent){return r.chatHub.invoke.apply(r.chatHub,e.merge(["RasaNlu"],e.makeArray(arguments)))},rasaNluUpdated:function(msgObj,lang,agent,domainName){return r.chatHub.invoke.apply(r.chatHub,e.merge(["RasaNluUpdated"],e.makeArray(arguments)))},addOnlineUser:function(n,a){return r.chatHub.invoke.apply(r.chatHub,e.merge(["AddOnlineUser"],e.makeArray(arguments)))},assignUsers2Webiste:function(n,a,t,u){return r.chatHub.invoke.apply(r.chatHub,e.merge(["AssignUsers2Webiste"],e.makeArray(arguments)))},broadcastSms:function(n){return r.chatHub.invoke.apply(r.chatHub,e.merge(["BroadcastSms"],e.makeArray(arguments)))},createBtAutoGreeting:function(reqObj){return r.chatHub.invoke.apply(r.chatHub,e.merge(["CreateBtAutoGreeting"],e.makeArray(arguments)))},cSR_Disconnected:function(n){return r.chatHub.invoke.apply(r.chatHub,e.merge(["CSR_Disconnected"],e.makeArray(arguments)))},cSR_DisconnectedMe:function(){return r.chatHub.invoke.apply(r.chatHub,e.merge(["CSR_DisconnectedMe"],e.makeArray(arguments)))},emit:function(n){return r.chatHub.invoke.apply(r.chatHub,e.merge(["Emit"],e.makeArray(arguments)))},getAvailableUser:function(n,a,t,u,i,c,o){return r.chatHub.invoke.apply(r.chatHub,e.merge(["GetAvailableUser"],e.makeArray(arguments)))},getUserIdOrConnId:function(useridorConnId){return r.chatHub.invoke.apply(r.chatHub,e.merge(["getUserIdOrConnId"],e.makeArray(arguments)))},invitationAck:function(n,a){return r.chatHub.invoke.apply(r.chatHub,e.merge(["invitationAck"],e.makeArray(arguments)))},inviteOperator:function(n,a,t,u){return r.chatHub.invoke.apply(r.chatHub,e.merge(["InviteOperator"],e.makeArray(arguments)))},inviteOperatorWithReason:function(n,a,t,u,i,c){return r.chatHub.invoke.apply(r.chatHub,e.merge(["InviteOperatorWithReason"],e.makeArray(arguments)))},invokeChatMessage:function(n,a,t,u){return r.chatHub.invoke.apply(r.chatHub,e.merge(["InvokeChatMessage"],e.makeArray(arguments)))},invokeMessage:function(n,a,t){return r.chatHub.invoke.apply(r.chatHub,e.merge(["InvokeMessage"],e.makeArray(arguments)))},isCSA_Available:function(){return r.chatHub.invoke.apply(r.chatHub,e.merge(["IsCSA_Available"],e.makeArray(arguments)))},registerMe:function(n,a){return r.chatHub.invoke.apply(r.chatHub,e.merge(["RegisterMe"],e.makeArray(arguments)))},quedChatInsert:function(chatid,visitorId,websiteId,userid,langId){return r.chatHub.invoke.apply(r.chatHub,e.merge(["QuedChatInsert"],e.makeArray(arguments)))},getQuedStats:function(websiteId,visitorId,chatId,langId){return r.chatHub.invoke.apply(r.chatHub,e.merge(["GetQuedStats"],e.makeArray(arguments)))},leaveFromQuedChats:function(chatid){return r.chatHub.invoke.apply(r.chatHub,e.merge(["LeaveFromQuedChats"],e.makeArray(arguments)))},registerUser:function(n){return r.chatHub.invoke.apply(r.chatHub,e.merge(["RegisterUser"],e.makeArray(arguments)))},relogged:function(n,a,t){return r.chatHub.invoke.apply(r.chatHub,e.merge(["Relogged"],e.makeArray(arguments)))},removeCSRChat:function(n,a,t){return r.chatHub.invoke.apply(r.chatHub,e.merge(["RemoveCSRChat"],e.makeArray(arguments)))},send:function(n,a,t,u){return r.chatHub.invoke.apply(r.chatHub,e.merge(["Send"],e.makeArray(arguments)))},registerVisitor:function(){return r.chatHub.invoke.apply(r.chatHub,e.merge(["RegisterVisitor"],e.makeArray(arguments)))},sendBT:function(visitorId,data,websiteId){return r.chatHub.invoke.apply(r.chatHub,e.merge(["SendBT"],e.makeArray(arguments)))},sendGreeting:function(n,a,t,u,i){return r.chatHub.invoke.apply(r.chatHub,e.merge(["SendGreeting"],e.makeArray(arguments)))},sendInvitation:function(msg){return r.chatHub.invoke.apply(r.chatHub,e.merge(["SendInvitation"],e.makeArray(arguments)))},sendInvitationForBotChat:function(msg,lang,agent,domainName){return r.chatHub.invoke.apply(r.chatHub,e.merge(["SendInvitationForBotChat"],e.makeArray(arguments)))},transferChatOpenBot:function(msg){return r.chatHub.invoke.apply(r.chatHub,e.merge(["TransferChatOpenBot"],e.makeArray(arguments)))},sendUrl:function(n,a){return r.chatHub.invoke.apply(r.chatHub,e.merge(["SendUrl"],e.makeArray(arguments)))},stopTracking:function(n){return r.chatHub.invoke.apply(r.chatHub,e.merge(["StopTracking"],e.makeArray(arguments)))},subscribeSms:function(){return r.chatHub.invoke.apply(r.chatHub,e.merge(["SubscribeSms"],e.makeArray(arguments)))},sendMessage:function(msgObj){return r.chatHub.invoke.apply(r.chatHub,e.merge(["SendMessage"],e.makeArray(arguments)))},sendMessageForBotChat:function(msgObj,lang,agent,domainName){return r.chatHub.invoke.apply(r.chatHub,e.merge(["SendMessageForBotChat"],e.makeArray(arguments)))},unSubscribeSms:function(){return r.chatHub.invoke.apply(r.chatHub,e.merge(["UnSubscribeSms"],e.makeArray(arguments)))},visitorData:function(){return r.chatHub.invoke.apply(r.chatHub,e.merge(["VisitorData"],e.makeArray(arguments)))},notifyMessageFromClient:function(filePath,chatid){return r.chatHub.invoke.apply(r.chatHub,e.merge(["notifyMessageFromClient"],e.makeArray(arguments)))},getUserIdOrConnIdWithLogs:function(useridorConnId,chatId){return r.chatHub.invoke.apply(r.chatHub,e.merge(["GetUserIdOrConnIdWithLogs"],e.makeArray(arguments)))},updateChatTrfTime:function(visitorId,chatId,userId,toTrfUserId){return r.chatHub.invoke.apply(r.chatHub,e.merge(["UpdateChatTrfTime"],e.makeArray(arguments)))},markingChatAckLogs:function(visitorId,chatId,userId,actionType,connectionStatus){return r.chatHub.invoke.apply(r.chatHub,e.merge(["MarkingChatAckLogs"],e.makeArray(arguments)))},markAttemptDumpsChatLog:function(){return r.chatHub.invoke.apply(r.chatHub,e.merge(["MarkAttemptDumpsChatLog"],e.makeArray(arguments)))},updateAckAttempts:function(websiteid,visitorid,userId){return r.chatHub.invoke.apply(r.chatHub,e.merge(["UpdateAckAttempts"],e.makeArray(arguments)))},registerWebrtcUser:function(userId){return r.chatHub.invoke.apply(r.chatHub,e.merge(["RegisterWebrtcUser"],e.makeArray(arguments)))},routeWebrtcPacket:function(json,type){return r.chatHub.invoke.apply(r.chatHub,e.merge(["RouteWebrtcPacket"],e.makeArray(arguments)))},isVideoChatRunning:function(id){return r.chatHub.invoke.apply(r.chatHub,e.merge(["IsVideoChatRunning"],e.makeArray(arguments)))},stunServers:function(id){return r.chatHub.invoke.apply(r.chatHub,e.merge(["stunServers"],e.makeArray(arguments)))},turnServers:function(id){return r.chatHub.invoke.apply(r.chatHub,e.merge(["turnServers"],e.makeArray(arguments)))},updateChatFillerTime:function(visitorId,chatId){return r.chatHub.invoke.apply(r.chatHub,e.merge(["UpdateChatFillerTime"],e.makeArray(arguments)))},invokeMessageVerbiage:function(message,websiteId,reasonPacket,userId,websiteUrl){return r.chatHub.invoke.apply(r.chatHub,e.merge(["InvokeMessageVerbiage"],e.makeArray(arguments)))},addIronFxState:function(userName,visitorId,userId,num,websiteId,chatId,userids){return r.chatHub.invoke.apply(r.chatHub,e.merge(["AddIronFxState"],e.makeArray(arguments)))},sendIronFxChat:function(websiteid,visitorId,url,connectionId,userId,userName,customMessage){return r.chatHub.invoke.apply(r.chatHub,e.merge(["SendIronFxChat"],e.makeArray(arguments)))},sendTracking:function(WebsiteId,VisitorId,url,ConnectionId){return r.chatHub.invoke.apply(r.chatHub,e.merge(["SendTracking"],e.makeArray(arguments)))},getGreeting:function(websiteId){return r.chatHub.invoke.apply(r.chatHub,e.merge(["GetGreeting"],e.makeArray(arguments)))},getRevampGreeting:function(websiteId){return r.chatHub.invoke.apply(r.chatHub,e.merge(["GetRevampGreeting"],e.makeArray(arguments)))},updateVisitorMind:function(visitorId,websiteId,chatId,visitorMind,chatStarTime,userAgent){return r.chatHub.invoke.apply(r.chatHub,e.merge(["UpdateVisitorMind"],e.makeArray(arguments)))},getBotMessage:function(websiteId,mindFromClient,isClosedBot,currentStage){return r.chatHub.invoke.apply(r.chatHub,e.merge(["GetBotMessage"],e.makeArray(arguments)))},getAllData:function(chatId){return r.chatHub.invoke.apply(r.chatHub,e.merge(["GetAllData"],e.makeArray(arguments)))},getAllDataBotChat:function(chatId){return r.chatHub.invoke.apply(r.chatHub,e.merge(["GetAllDataBotChat"],e.makeArray(arguments)))},extraction:function(botMind,message,currentStage,isClosedBot,selectedOptions,flag,websiteId){return r.chatHub.invoke.apply(r.chatHub,e.merge(["Extraction"],e.makeArray(arguments)))},removeVisitorMind:function(visitorId){return r.chatHub.invoke.apply(r.chatHub,e.merge(["RemoveVisitorMind"],e.makeArray(arguments)))},sendLead:function(visitorId){return r.chatHub.invoke.apply(r.chatHub,e.merge(["SendLead"],e.makeArray(arguments)))},getWebRtcStatus:function(visitorId){return r.chatHub.invoke.apply(r.chatHub,e.merge(["getWebRtcStatus"],e.makeArray(arguments)))},convertChatType:function(visitorId,chatId,chatTypeId,websiteId,vPhoneNumber,isConfirm){return r.chatHub.invoke.apply(r.chatHub,e.merge(["ConvertChatType"],e.makeArray(arguments)))},leaveParticipant:function(ChatId,userId){return r.chatHub.invoke.apply(r.chatHub,e.merge(["LeaveParticipant"],e.makeArray(arguments)))},reqToGetIspyResponse:function(chatId,url,dentity){return r.chatHub.invoke.apply(r.chatHub,e.merge(["ReqToGetIspyResponse"],e.makeArray(arguments)))}},r};u.hub=e.hubConnection("/SignalRServer/signalr",{useDefaultPath:!1});e.extend(u,u.hub.createHubProxies())}(LaJq,window);var FirstMessageByVisitor="",LastMessageBy="",OperatorMessageCounterReply=null,OperatorMessageCounterReply2=null,OperatorMessageCounterReply3=null,OneMinTimer=6e4,pauseOtherTabFiller=!1,pauseOtherTab=!1,OpMessageCounter=0,ChatWindowWidget=function(config){"use strict";function view_MoreClick(){LaJq("#ChatDiv").hasClass("showScrollButton")||LaJq("#ChatDiv").addClass("showScrollButton")}function scrollUpArrowClick(){isScrolling||(isScrolling=!0,LaJq("#txtChatWin").animate({scrollTop:LaJq("#txtChatWin").scrollTop()-scrollValue},500,function(){isScrolling=!1}))}function showWindowAfterClose(){if(!LaJq("#ChatDiv").is(":animated")){if(parent.helperFunctions.readCookie("LC_MINIMIZE")==!1){LaJq("#live_chat_status,.live_chat_status").unbind("click");LaJq("#live_chat_status,.live_chat_status").on("click",toggleChatWin)}LaJq("#live_chat_status").css("display","none")}}function toggleChatWin(){LaJq("#ChatDiv").toggle()}function checkDiv(){var liveChatStatusDIV,liveChatStatus,liveChatImage,iconKey,onlineBtnIcon,imageKey;document.getElementById("live_chat_status")==null?(liveChatStatusDIV=document.createElement("div"),liveChatStatusDIV.id="live_chat_status",document.body.appendChild(liveChatStatusDIV),liveChatStatus=document.createElement("a"),liveChatStatus.id="live_chat_status_anchor",liveChatImage=document.createElement("img"),liveChatImage.alt="Live Chat Button",liveChatImage.id="liveChatImage",config.buttons.type=="icons"?(iconKey="onlineIcon",parent.dBrowser.isMobile()&&(iconKey+="Mobile"),onlineBtnIcon='<div class="button_icon_parent '+iconKey+'Parent"><i class="liveChatIcon lcf '+config.buttons.icons[iconKey]+" "+iconKey+'"><\/i><\/div>',LaJq(liveChatStatusDIV).html(""),LaJq(liveChatStatusDIV).append(onlineBtnIcon)):(imageKey="onlineImage",parent.dBrowser.isMobile()&&(imageKey+="Mobile"),liveChatImage.src=config.buttons.images[imageKey],liveChatStatusDIV.appendChild(liveChatStatus),liveChatStatus.appendChild(liveChatImage))):(liveChatStatus=document.getElementById("live_chat_status"),liveChatImage=document.createElement("img"),liveChatImage.id="liveChatImage",liveChatImage.alt="Live Chat Button",config.buttons.type=="icons"?(iconKey="onlineIcon",parent.dBrowser.isMobile()&&(iconKey+="Mobile"),onlineBtnIcon='<div class="button_icon_parent '+iconKey+'Parent"><i class="liveChatIcon lcf '+config.buttons.icons[iconKey]+" "+iconKey+'"><\/i><\/div>',LaJq("#live_chat_status").html(""),LaJq("#live_chat_status").append(onlineBtnIcon)):(imageKey="onlineImage",parent.dBrowser.isMobile()&&(imageKey+="Mobile"),liveChatImage.src=config.buttons.images[imageKey],liveChatStatus.appendChild(liveChatImage)),document.body.appendChild(liveChatStatus));LaJq(document).off("click","#live_chat_status,.live_chat_status");LaJq(document).on("click","#live_chat_status,.live_chat_status",showWindowAfterClose)}function scrollDownArrowClick(){isScrolling||(isScrolling=!0,LaJq("#txtChatWin").animate({scrollTop:LaJq("#txtChatWin").scrollTop()+scrollValue},500,function(){isScrolling=!1}))}function onTxtMessageWinKeyPress(e){e||(e=window.event);var keyCode=e.keyCode||e.which;if(keyCode=="13")return onSendClick(),!1}function showTypingstatusDiv(){document.getElementById("typingstatus").style.visibility="visible"}function hideTypingstatusDiv(){document.getElementById("typingstatus").style.visibility="hidden"}function onSendClick(){var txtMessageWinVal,tmpMessage,visitorCookieData,websiteCookieData,visitorName;clearTimeout(showTypingDiv);clearTimeout(hideTypingDiv);showTypingDiv=setTimeout(showTypingstatusDiv,1e4);hideTypingDiv=setTimeout(hideTypingstatusDiv,15e3);txtMessageWinVal=LaJq("#txtMessageWin").val();LaJq("#txtMessageWin").val().toString().length>=1e3&&(tmpMessage=LaJq("#txtMessageWin").val().toString(),LaJq("#txtMessageWin").val(tmpMessage.substr(0,1e3)));LaJq("#txtMessageWin").val().trim()!==""&&(visitorCookieData=parent.helperFunctions.readCookieJson("WG_VIC_J"),websiteCookieData=parent.helperFunctions.readCookieJson("WG_WEB"),parent.helperFunctions.createCookie("LC_SENDING",!0,0),visitorName="",visitorName=typeof config.gvars.customVisitorLabel!="undefined"&&config.gvars.customVisitorLabel?config.gvars.customVisitorLabelName:visitorCookieData.V_N,onSettingVisitorMessage(visitorName,LaJq("#txtMessageWin").val().trim(),websiteCookieData.E_I),document.getElementById("live_chat_status").dispatchEvent(onSendClickEvent),LaJq("#txtMessageWin").val(""),LaJq("#txtMessageWin").focus())}function chatUpRating(){document.getElementById("live_chat_status").dispatchEvent(onUpRateChatEvent)}function chatDownRating(){document.getElementById("live_chat_status").dispatchEvent(onDownRateChatEvent)}function loadLangFunc(){document.getElementById("live_chat_status").dispatchEvent(onLangDropDownEvent)}function hideEmoticonsSection(){LaJq("#emoticonContainer").css("display","none")}function showWindow(e){if(typeof parent.helperFunctions.readCookie("WG_CEC")=="undefined"){if(parent.helperFunctions.readCookie("LC_MINIMIZE")=="false"){LaJq("#textUs").css("display","none");LaJq("#social-col li > div, #mobile_menu_expand li > div,#textUs,#cta-popup").fadeOut(200);LaJq("#social-col .showSocial").removeClass("showSocial");document.getElementById("live_chat_status").dispatchEvent(onCancelVbBubbleScenarioEvent);LaJq("#ChatDiv").css("display","block");LaJq("#live_chat_status,.live_chat_status").unbind("click");LaJq("#live_chat_status").css("display","none");LaJq("#live_chat_status,.live_chat_status").on("click",toggleChatWindow)}else if(parent.helperFunctions.readCookie("LC_MINIMIZE")=="true")minimizeWindow();else if(typeof parent.helperFunctions.readCookie("LC_MINIMIZE")=="undefined"){LaJq("#textUs").css("display","none");LaJq("#social-col li > div, #mobile_menu_expand li > div,#textUs,#cta-popup").fadeOut(200);LaJq("#social-col .showSocial").removeClass("showSocial");document.getElementById("live_chat_status").dispatchEvent(onCancelVbBubbleScenarioEvent);LaJq("#live_chat_status,.live_chat_status").unbind("click");LaJq("#live_chat_status").css("display","none");LaJq("#ChatDiv").css("display","block");LaJq("#live_chat_status,.live_chat_status").on("click",toggleChatWindow)}}else if(e.detail!=null&&e.detail.chatstarted)LaJq("#ChatDiv").css("display","block");else if(parent.helperFunctions.readCookie("WG_CEC")=="variablesForChat.endStatus=1"){LaJq("#ChatDiv").css("display","none");LaJq("#live_chat_status,.live_chat_status").on("click",toggleChatWindow)}}function toggleChatWindow(){if(LaJq("#ChatDiv").toggle(),typeof config.gvars.alertSound!="undefined"&&config.gvars.alertSound){var audioElement=document.createElement("audio");audioElement.src=myWindow.configuration.gvars.alertSoundPath;audioElement.load();audioElement.play()}}function minimizeWindow(){LaJq("#ChatDiv").is(":animated")||(LaJq(document).off("click","#live_chat_status,.live_chat_status"),document.getElementById("live_chat_status").dispatchEvent(onChatWindowMinimizeEvent),document.getElementById("live_chat_status").dispatchEvent(onStartVbBubbleScenarioEvent),parent.helperFunctions.createCookie("LC_MINIMIZE",!0,0))}function closeAfterConfirmation(){LaJq("#email-chat, #downloadableLink").css("display","none");LaJq("#dropDownBox").slideUp(250);LaJq("#ChatDiv,#emoticonContainer").fadeOut();LaJq("#ChatDiv #txtChatWin > div").remove();LaJq("#txtMessageWin").val("");onCloseChatWindowEvent.eventPhase!=2&&(document.getElementById("live_chat_status").dispatchEvent(onCloseChatWindowEvent),document.getElementById("live_chat_status").dispatchEvent(onStartVbBubbleScenarioEvent))}function closeChatWindow(){if(config.logicVersion=="3.4.chbo"){LaJq("#txtChatWin").append('<div class="closeConfirmationBox" style="color:red;position: absolute;bottom: 70px;padding: 12px 7px;z-index: 99999;left: 0;cursor:pointer;background-color: #f1f1f1;font-size: 12px;letter-spacing: 1px;text-align: center;border: 1px solid #ccc;line-height: 18px;">Do you want to close the chat.<div id="yesnoOpt"><span id="yesOpt">Yes<\/span><span id="noOpt">No<\/span><\/div><\/div><style>#yesnoOpt span{padding:3px 11px;margin:5px;border:1px solid #9d9898;display:inline-block;border-radius:3px}<\/style>');var setWidth=LaJq("#ChatDiv").css("width");LaJq(".closeConfirmationBox").css("width",setWidth);LaJq("#yesOpt").click(function(){LaJq("#ChatDiv").css("display","none");LaJq(".closeConfirmationBox").remove();closeAfterConfirmation()});LaJq("#noOpt").click(function(){LaJq(".closeConfirmationBox").css("display","none")})}else LaJq("#email-chat, #downloadableLink").css("display","none"),LaJq("#dropDownBox").slideUp(250),LaJq("#ChatDiv,#emoticonContainer").fadeOut(),LaJq("#ChatDiv #txtChatWin > div").remove(),LaJq("#txtMessageWin").val(""),onCloseChatWindowEvent.eventPhase!=2&&(document.getElementById("live_chat_status").dispatchEvent(onCloseChatWindowEvent),document.getElementById("live_chat_status").dispatchEvent(onStartVbBubbleScenarioEvent))}function loadCss(fileLink){var head=document.getElementsByTagName("head")[0],link=document.createElement("link");link.rel="stylesheet";link.type="text/css";link.href=fileLink;link.media="all";head.appendChild(link)}function addCustomCss(styles){var css=document.createElement("style");css.type="text/css";css.styleSheet?css.styleSheet.cssText=styles:css.appendChild(document.createTextNode(styles));document.getElementsByTagName("head")[0].appendChild(css)}function toggleLanguage(){LaJq("#allLanguages").children().length>1&&LaJq("#allLanguages").toggle()}function generateTemplate(templateId){var domainName,operatorPicContainer,operatorPic,ChatDivWrapper;templateId=parseInt(templateId);switch(templateId){case 1:if(parent.configuration.template.isCustomHtml?(parent.ChatWidowObject=parent.configuration.template.customHtml(parent),typeof config.setLinks.powered_by_1!="undefined"&&(config.setLinks.powered_by_1.indexOf("liveadmins")>-1||config.setLinks.powered_by_1.indexOf("LiveAdmins")>-1)&&(domainName=document.domain,config.setLinks.powered_by_1=typeof config.gvars.UTMParm!="undefined"&&config.gvars.UTMParm?config.setLinks.powered_by_1+"?utm_source="+config.gvars.UTMParmLabelName+"&utm_medium=referral&utm_campaign=poweredby":config.setLinks.powered_by_1+"?utm_source="+domainName+"&utm_medium=referral&utm_campaign=poweredby",LaJq(parent.ChatWidowObject).find("#powered_by_1").attr("href",config.setLinks.powered_by_1),LaJq(parent.ChatWidowObject).find("#powered_by_1").attr("target","_blank"))):parent.ChatWidowObject=defaultTemplate(),parent.configuration.emoticon&&emoticons.structure(LaJq(parent.ChatWidowObject).children().children("#msgArea")),parent.configuration.gvars.operatorPic&&(operatorPicContainer=createElement({id:"operatorPicContainer",element:"div",appendTo:parent.ChatWidowObject}),operatorPic=createElement({id:"operatorPic",element:"img",alt:"Operator Picture",appendTo:operatorPicContainer})),parent.configuration.gvars.multiLingual){var languagesContainer=createElement({id:"languagesContainer",element:"div"}),languageText=createElement({id:"languagesText",element:"span",html:"Your current language is: ",appendTo:languagesContainer}),currentLanguage=createElement({id:"currentLanguage",element:"span",click:toggleLanguage,appendTo:languagesContainer}),languageArrow=createElement({id:"languageArrow",element:"span",click:loadLangFunc,className:"lcf lcf-minimize-3",appendTo:languagesContainer}),allLanguages=createElement({id:"allLanguages",element:"ul",appendTo:languagesContainer});LaJq(languagesContainer).insertBefore(LaJq(parent.ChatWidowObject).children("#txtChatWin"))}break;case 3:parent.ChatWidowObject=parent.getCustomTemplate();break}return ChatDivWrapper=document.createDocumentFragment(),ChatDivWrapper.id="ChatDivWrapper",ChatDivWrapper.appendChild(parent.ChatWidowObject),ChatDivWrapper}function checkIsURL(e){var t="",n=/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/,o;return n.test(e)?(o=e.match(n),o[0].toString()):""}function onSettingVisitorMessage(name,msg,emp){var employeeid=emp,resultCookie,filename,d,r,msg,objDiv;FirstMessageByVisitor==""&&employeeid!=""&&employeeid=="01"&&(LastMessageBy="Visitor",clearTimeout(OperatorMessageCounterReply),clearTimeout(OperatorMessageCounterReply2),clearTimeout(OperatorMessageCounterReply3),OperatorMessageCounterReply=setTimeout(function(){document.getElementById("live_chat_status").dispatchEvent(onVisitorMsgAwaiterEvent)},OneMinTimer),FirstMessageByVisitor="Yes",pauseOtherTabFiller=!1);typeof msg=="undefined"&&(msg=name.detail.msg,name=name.detail.name);resultCookie=helperFunctions.readCookieJson("WG_VIC_J");typeof config.gvars.customVisitorLabel!="undefined"&&config.gvars.customVisitorLabel?name=config.gvars.customVisitorLabelName:resultCookie!=""&&(name=resultCookie.V_N);LaJq(".sending").remove();typeof parent.configuration.gvars.fileTransferFeature!="undefined"&&parent.configuration.gvars.fileTransferFeature&&(filename="",msg.indexOf("files.thelivechatsoftware.com")!=-1&&(filename=msg.substring(msg.lastIndexOf("/")+1),msg='<i class="lcf-attach-3"><\/i><a href="'+msg+'" target="_blank" download="file">'+filename+"<\/a>"));var vstrMsgDiv=parent.appendVisitorMessage(name,msg),o=LaJq(vstrMsgDiv).children("#visitorMessage").html(),i=o.indexOf("http"),a="",c;if(i>=0&&msg.indexOf("files.thelivechatsoftware.com")==-1){for(d=o.split(" "),c=0;c<d.length;c++)""==checkIsURL(d[c].toString())?a+=" "+d[c].toString()+" ":(r='<a id="linkChatvstr" target="_blank" position="absolute" href=" '+d[c].toString()+' " style="text-decoration:umderline;color:blue;"   >'+d[c].toString()+"<\/a>",a+=" "+r);LaJq(vstrMsgDiv).children("#visitorMessage").html(a)}parent.configuration.emoticon&&(msg=LaJq(vstrMsgDiv).children("#visitorMessage").html(),msg=emoticons.show(msg),LaJq(vstrMsgDiv).children("#visitorMessage").html(msg));createElement({id:"sendStatus",className:"sending",html:"Sending",element:"div",appendTo:vstrMsgDiv});LaJq("#txtChatWin").append(vstrMsgDiv);LaJq(vstrMsgDiv).addClass("w3-animate-bottom");LaJq(vstrMsgDiv).delay(250).queue(function(){LaJq(vstrMsgDiv).removeClass("w3-animate-bottom")});objDiv=document.getElementById("txtChatWin");objDiv.scrollTop=objDiv.scrollHeight}function onGettingOperatorMessage(name,msg,emp,uid,pagereload){var employeeid=name.detail.emp,getUserID=name.detail.uid,event,holdKeywords,i,audioElement,filename,d,r,msg,objDiv;if(LaJq("#ChatDiv").css("display")!="none"||parent.helperFunctions.readCookie("LC_MINIMIZE")!="true"||typeof name.detail.pagereload=="undefined"||name.detail.pagereload||LaJq("#live_chat_status").hasClass("lc-animate-flicker")||LaJq("#live_chat_status").addClass("lc-animate-flicker"),typeof msg=="undefined"&&(msg=name.detail.msg,name=name.detail.name),LaJq("#opCounter,.minMsgCount").remove(),parent.helperFunctions.readCookie("LC_MINIMIZE")=="true"&&parent.configuration.gvars.minCounter&&(event=new CustomEvent("opmsg",{detail:{message:msg}}),document.getElementById("live_chat_status").dispatchEvent(event),OpMessageCounter++,config.buttons.type=="toolbar"&&LaJq("body").append("<style>div#opCounter{top:0;right:101px;font-size:13px;position:absolute;line-height:24px}<\/style>"),LaJq(".live_chat_status,#live_chat_status").append("<div id='opCounter' class='minMsgCount'>"+OpMessageCounter+"<\/div><style>#opCounter{position:fixed;right:13px;bottom:69px;background:red;border-radius:21px;width:22px;height:22px;text-align:center;font-size:11px;line-height:22px;color:#fff;z-index:99999999999}<\/style>")),config.gvars.pseudoName&&(typeof parent.helperFunctions.readCookie("opName")=="undefined"||config.gvars.claimChat||(name=parent.helperFunctions.readCookie("opName"))),employeeid!=""&&employeeid=="01"&&getUserID!="4886"&&(FirstMessageByVisitor="",LastMessageBy="Operator",OperatorMessageCounter++,clearTimeout(OperatorMessageCounterReply),clearTimeout(OperatorMessageCounterReply2),clearTimeout(OperatorMessageCounterReply3)),typeof parent.configuration.onHold!="undefined"&&parent.configuration.onHold.enabled)for(holdKeywords=parent.configuration.onHold.onHoldKeywords.toLowerCase().split(","),i=0;i<holdKeywords.length;i++)msg.toLowerCase().indexOf(holdKeywords[i].trim())>-1&&(LaJq("#onHoldMusicPlay").length>0?LaJq("#onHoldMusicPlay").attr("src")==""&&LaJq("#onHoldMusicPlay").attr("src",parent.configuration.onHold.onHoldMusic):(audioElement=document.createElement("audio"),audioElement.id="onHoldMusicPlay",audioElement.setAttribute("src",parent.configuration.onHold.onHoldMusic),document.body.appendChild(audioElement)),LaJq("#onHoldMusicPlay").get(0).play());typeof parent.configuration.gvars.fileTransferFeature!="undefined"&&parent.configuration.gvars.fileTransferFeature&&(filename="",msg.indexOf("files.thelivechatsoftware.com")!=-1&&(filename=msg.substring(msg.lastIndexOf("/")+1),msg='<i class="lcf-attach-3"><\/i><a href="'+msg+'" target="_blank" download="file">'+filename+"<\/a>"));msg=msg.replace(":D","<img class='laughterEmoji' style='width: 17px;vertical-align: sub;margin-left: 3px;' src=https://thelivechatsoftware.com/Dashboard/cwgen/skin/Images/grinning.png>");var opDiv=parent.appendOperatorMessage(name,msg),o=LaJq(opDiv).children("#operatorMessage").html(),i=o.indexOf("http"),imgSrcIndex=o.indexOf("<img"),a="",c;if(i>=0&&msg.indexOf("files.thelivechatsoftware.com")==-1&&imgSrcIndex==-1){for(d=o.split(" "),c=0;c<d.length;c++)""==checkIsURL(d[c].toString())?a+=" "+d[c].toString()+" ":(r='<a id="linkChatOperator" target="_blank" position="absolute" href=" '+d[c].toString()+' " style="text-decoration:umderline;color:blue;"   >'+d[c].toString()+"<\/a>",a+=" "+r);LaJq(opDiv).children("#operatorMessage").html(a)}parent.configuration.emoticon&&(msg=LaJq(opDiv).children("#operatorMessage").html(),msg=emoticons.show(msg),LaJq(opDiv).children("#operatorMessage").html(msg));LaJq("#txtChatWin").append(opDiv);LaJq(opDiv).addClass("w3-animate-bottom");LaJq(opDiv).delay(250).queue(function(){LaJq(opDiv).removeClass("w3-animate-bottom")});objDiv=document.getElementById("txtChatWin");objDiv.scrollTop=objDiv.scrollHeight}var scrollValue,isScrolling,onShowWindowAfterCloseEvent,chatMenuToggle,createElement,defaultTemplate,showTypingDiv,hideTypingDiv,emoticons;config.cssFiles.structureCss=config.cssFiles.structureCss.replace(/\\\\/g,"\\");typeof config.emoticon!="undefined"&&config.emoticon&&(config.emoticons={":)":"https://thelivechatsoftware.com/Dashboard/cwgen/emoticons/happy.png",":(":"https://thelivechatsoftware.com/Dashboard/cwgen/emoticons/sademo.gif"});this.configuration=config;this.ChatWidowObject=null;this.serviceResponse=null;this.CustomHTML=null;var parent=this,OperatorMessageCounter=0,onPassiveChatEvent=new CustomEvent("onPassiveChat",{detail:{type:"Passive"}}),onSendClickEvent=new CustomEvent("onSendClickEve",{detail:{msg:function(){return LaJq("#txtMessageWin").val()}},bubbles:!0,cancelable:!0}),onVisitorMsgAwaiterEvent=new CustomEvent("onVisitorMsgAwaiter"),onStartServiceCallsEvent=new CustomEvent("onStartServiceCalls"),onChatWindowMinimizeEvent=new CustomEvent("onChatWindowMinimize"),onCloseChatWindowEvent=new CustomEvent("onCloseChatWindow"),onUpRateChatEvent=new CustomEvent("onUpRateChat"),onDownRateChatEvent=new CustomEvent("onDownRateChat"),onLangDropDownEvent=new CustomEvent("onLangDropDown"),onDownloadTranscriptEvent=new CustomEvent("onDownloadTranscript"),onStartVbBubbleScenarioEvent=new CustomEvent("onStartVbBubbleScenario"),onCancelVbBubbleScenarioEvent=new CustomEvent("onCancelVbBubbleScenario"),screenHeight,chatwindowmaxheight;navigator.userAgent.toLowerCase().indexOf("mobile")>-1?(screenHeight=window.innerHeight,chatwindowmaxheight=Math.floor(screenHeight*40/100-2)):(screenHeight=window.innerHeight,chatwindowmaxheight=Math.floor(screenHeight*60/100-2));scrollValue=75;isScrolling=!1;onShowWindowAfterCloseEvent=new CustomEvent("onShowWindowAfterClose",{detail:{type:"Passive"}});checkDiv();chatMenuToggle=function(){var getSelectedId=LaJq(this).attr("id");getSelectedId=="dropArowStyle"?(LaJq("#dropArowStyle").addClass("toggle-up"),LaJq("#dropDownBox").slideToggle(250,function(){LaJq("#dropArowStyle").removeClass("toggle-up")})):LaJq("#dropDownBox").css("display","none")};parent.chatMenuToggle=chatMenuToggle;createElement=function(obj){var Element=document.createElement(obj.element);return typeof obj.id!="undefined"&&(Element.id=obj.id),typeof obj.className!="undefined"&&(Element.className=obj.className),typeof obj.html!="undefined"&&(obj.html=obj.html.replace(/\"/g,'"'),Element.innerHTML=obj.html),typeof obj.src!="undefined"&&(Element.src=obj.src),typeof obj.href!="undefined"&&(Element.href=obj.href),typeof obj.type!="undefined"&&(Element.type=obj.type),typeof obj.target!="undefined"&&(Element.target=obj.target),typeof obj.click!="undefined"&&(Element.onclick=obj.click),typeof obj.for!="undefined"&&(Element.htmlFor=obj.for),typeof obj.alt!="undefined"&&(Element.alt=obj.alt),typeof obj.keyPress!="undefined"&&(Element.onkeypress=obj.keyPress),typeof obj.placeholder!="undefined"&&(Element.placeholder=obj.placeholder),typeof obj.appendTo=="undefined"?Element:(obj.appendTo.appendChild(Element),Element)};defaultTemplate=function(){var ChatDiv,preFormPanelHead,preFormPanelHeadText,preFormPanelHeadBtn,dropArowStyle,minimizeButton,preFormPanelHeadLink,preFormPanelHeadLinkSpan,dropDownBox,dRightSide,rateSec,upBTN,downBTN,rateText,minCloseSec,minimizeDiv,hideBtnText,txtChatWin,botDiv,typingstatus,msgArea,txtMessageWin,btnSend,btnSendMap,powerdBy,powerdByLink,rateChatThankMsg,currentLanguage,closeBTN,closeIcon,minimizeIcon,dropArowStyleIcon,soundCheck,muteText,newAudioDiv,VideoDivString,txtMessageWinLabel,sendTranscriptCont,fileAttachHtml,invalidFileHtml,domainName,powered_by_1,powerdByText,powered_by_2,sendTranscriptBtn;if(ChatDiv=createElement({id:"ChatDiv",element:"div"}),preFormPanelHead=createElement({id:"preFormPanelHead",element:"div",appendTo:ChatDiv}),preFormPanelHeadText=createElement({id:"preFormPanelHeadText",element:"div",appendTo:preFormPanelHead}),preFormPanelHeadBtn=createElement({id:"preFormPanelHeadBtn",element:"div",appendTo:preFormPanelHeadText}),closeBTN=createElement({id:"closeBTN",element:"div",appendTo:preFormPanelHeadBtn,click:closeChatWindow}),closeIcon=createElement({id:"closeIcon",element:"span",appendTo:closeBTN,className:"lcf "+config.icons.closeIcon}),minimizeButton=createElement({id:"minimizeButton",element:"span",appendTo:preFormPanelHeadBtn,click:minimizeWindow}),minimizeIcon=createElement({id:"minimizeIcon",element:"span",appendTo:minimizeButton,className:"lcf "+config.icons.minimizeIcon}),(config.gvars.chatRate||config.gvars.alertSound)&&(dropArowStyle=createElement({id:"dropArowStyle",element:"div",appendTo:preFormPanelHeadBtn}),dropArowStyleIcon=createElement({id:"dropArowStyleIcon",element:"span",appendTo:dropArowStyle,className:"lcf "+config.icons.dropArowStyleIcon}),dropDownBox=createElement({id:"dropDownBox",element:"div",appendTo:preFormPanelHeadBtn})),config.gvars.chatRate&&(dRightSide=createElement({id:"dRightSide",element:"div",appendTo:dropDownBox}),rateSec=createElement({id:"rateSec",element:"div",appendTo:dRightSide}),upBTN=createElement({id:"upBTN",className:"lcf "+config.icons.upBTN,element:"span",appendTo:rateSec,click:chatUpRating}),downBTN=createElement({id:"downBTN",className:"lcf "+config.icons.downBTN,element:"span",appendTo:rateSec,click:chatDownRating}),rateText=createElement({id:"rateText",element:"p",html:"",appendTo:rateSec}),rateChatThankMsg=createElement({id:"rateChatThankMsg",element:"span",html:"Thanks for giving us your feedback.",appendTo:ChatDiv})),config.gvars.alertSound){var dLeftSide=createElement({id:"dLeftSide",element:"div",appendTo:dropDownBox}),soundCheckDiv=createElement({id:"soundCheckDiv",element:"div",appendTo:dLeftSide}),soundBellClass="lcf-unmute-41",muteText="Unmute";localStorage.getItem("muteSound")=="mute"?(soundBellClass="lcf-mute-41",muteText="Mute"):localStorage.getItem("muteSound")=="unmute"&&(soundBellClass="lcf-unmute-41",muteText="Unmute");soundCheck=createElement({id:"soundCheck",element:"div",className:soundBellClass,appendTo:soundCheckDiv});muteText=createElement({id:"muteText",element:"p",html:muteText,appendTo:soundCheckDiv})}preFormPanelHeadLink=createElement({id:"preFormPanelHeadLink",element:"div",appendTo:preFormPanelHeadBtn});preFormPanelHeadLinkSpan=typeof config.logoImage!="undefined"&&config.logoImage.isEnabled?createElement({id:"logoImage",element:"img",alt:"logo image",src:config.logoImage.src,appendTo:preFormPanelHeadLink}):createElement({id:"preFormPanelHeadLinkSpan",element:"span",html:"",appendTo:preFormPanelHeadLink});hideBtnText=createElement({id:"hideBtnText",element:"p",html:"",appendTo:minimizeDiv});typeof RTCViewModel!="undefined"&&(newAudioDiv=createElement({id:"newAudioDiv",element:"div",appendTo:ChatDiv}),VideoDivString='<div id="remoteVideosContainer"> <\/div><div id="overLayEl" class="overlay" style="display:none"> <div class="overlay-content"> <span id="errDescId"> open<\/span> <\/div> <\/div> <div id="videoControlContainer"><\/div>',newAudioDiv.innerHTML=VideoDivString);txtChatWin=createElement({id:"txtChatWin",element:"div",appendTo:ChatDiv});botDiv=createElement({id:"botDiv",element:"div",appendTo:ChatDiv});var themeToggleBtn=createElement({id:"theme-toggle-main",element:"div",appendTo:botDiv}),themeToggleSpan=createElement({id:"theme-toggle-span",element:"span",html:"Dark mode",appendTo:themeToggleBtn}),themeSwitch=createElement({className:"themeSwitch",element:"label",appendTo:themeToggleBtn}),themeToggleImg=createElement({id:"theme-toggle",element:"input",type:"checkbox",appendTo:themeSwitch}),themeSliderRoundBtn=createElement({id:"themeSliderRoundBtn",element:"span",className:"themeSlider themeRound",appendTo:themeSwitch});return typingstatus=createElement({id:"typingstatus",element:"div",html:"",appendTo:botDiv}),msgArea=createElement({id:"msgArea",element:"div",appendTo:botDiv}),txtMessageWinLabel=createElement({id:"txtMessageWinLabel",element:"label","for":"txtMessageWin",html:"Type here",appendTo:msgArea}),txtMessageWin=createElement({id:"txtMessageWin",element:"textarea",appendTo:msgArea,keyPress:onTxtMessageWinKeyPress,placeholder:"",click:hideEmoticonsSection}),btnSend=createElement({id:"btnSend",element:"div",appendTo:msgArea,click:onSendClick}),config.logicVersion=="2.4.eaglehills"&&(sendTranscriptCont=createElement({id:"sendTranscriptCont",html:"<div id='closeTranscriptDiv'>X<\/div><div id='email-transcript-top'><span id='email-transcript-title'>Send Transcript To The Email<\/span> <input id='transcript-email' placeholder='Enter your email address'><\/div><div id='transcript-success-msg' style='display:none;'>The Email will be sent to <span id='vistrEmail'><\/span> when the chat ends.<\/div><div id='email-transcript-bottom'><div id='send-btn'><span id='send-text'>Send<\/span><\/div><\/div><style>#sendTranscriptCont{display:none;background-color:#d9dbdd;width:92%;position:absolute;bottom:-11px;left:0;font-family:\"Titillium Web\"!important;z-index:99999;right:0;margin:0 auto;border-radius:13px;box-shadow:1px 1px 8px -2px #000}#email-transcript-top{float:left;padding-top:13px;padding-bottom:5px;width:100%;min-height:112px;text-align:center}#email-transcript-title{font-size:14px;text-align:center;width:auto;float:left;padding-left:18px;font-family:'Droid Sans', sans-serif!important;padding-top:14px;color:#5f5f60}#transcript-email{font-size: 12px;border:none;width:85%;font-family:'Droid Sans', sans-serif!important;margin:4px auto;display:inline-block;padding:4px}#email-transcript-bottom span{width:70px;text-align:center;line-height:20px;color:#1f2a44;float:right;font-family:'Droid Sans', sans-serif!important;cursor:pointer;margin-bottom:12px;font-size: 14px;text-transform:uppercase;position:absolute;right:0;bottom:-3px}#email-chat .fa-envelope-o{margin-right:6px}#sendTranscriptCont::before{width:0;height:0;border-style:solid;border-width:15px 15px 0 15px;border-color:#c8c8c8 transparent transparent transparent;content:\"\";position:absolute;bottom:-15px;left:0;right:0;margin:0 auto}#transcript-success-msg{font-family: 'Droid Sans', sans-serif;line-height: 1.6;font-size: 14px;text-align:center;padding:0 5px;margin-top:30px;min-height:99px}#closeTranscriptDiv{font-family: 'Droid Sans', sans-serif;position:absolute;right:11px;cursor:pointer;padding:5px;top:0px;transform:scale(1.3,.9)}#email-chat{display:none}<\/style>",element:"div",appendTo:msgArea})),typeof config.gvars.fileTransferFeature!="undefined"&&config.gvars.fileTransferFeature&&(fileAttachHtml=createElement({id:"fileAttachHtml",html:"<input type='file' id='fileUpload' accept='.xls,.xlsx,.docx,.ppt, .xls, .ppt, .css, .doc, .pdf, .txt, .gif, .png, .jpg' style='display: none;' multiple  />",element:"div",appendTo:btnSend}),invalidFileHtml=createElement({id:"invalidFileHtml",element:"div",html:"<div id='fl-trn-error-msg'><span class='fa fa-exclamation-triangle'><\/span><span class='fl-trn-content'>Invalid file extension<\/span><span id='fl-trn-er-close-btn'><\/span><\/div>",appendTo:botDiv})),btnSendMap=createElement({id:"btnSendMap",className:"lcf "+config.icons.btnSendMap,element:"div",appendTo:msgArea}),config.setText.en.powerdByText!=""&&(powerdBy=createElement({id:"powerdBy",element:"div",appendTo:botDiv}),powerdByText=createElement({id:"powerdByText",element:"span",html:config.setLinks.powerdByText,appendTo:powerdBy}),typeof config.setLinks.powered_by_1!="undefined"&&config.setLinks.powered_by_1.indexOf("liveadmins")>-1&&(domainName=document.domain,config.setLinks.powered_by_1=typeof config.gvars.UTMParm!="undefined"&&config.gvars.UTMParm?config.setLinks.powered_by_1+"?utm_source="+config.gvars.UTMParmLabelName+"&utm_medium=referral&utm_campaign=poweredby":config.setLinks.powered_by_1+"?utm_source="+domainName+"&utm_medium=referral&utm_campaign=poweredby"),typeof config.setLinks.powered_by_1!="undefined"&&(config.setLinks.powered_by_1.indexOf("liveadmins")>-1&&config.gvars.websiteID!="4598"?powered_by_1=createElement({id:"powered_by_1",element:"span",appendTo:powerdBy,html:"Liveadmins"}):(config.setLinks.powered_by_1.indexOf("liveadmins")==-1||config.gvars.websiteID=="4598")&&(powered_by_1=createElement({id:"powered_by_1",element:"a",appendTo:powerdBy,href:config.setLinks.powered_by_1,target:"_blank"}))),typeof config.setLinks.powered_by_2!="undefined"&&(powerdByText=createElement({id:"powerdBySeperator",element:"span",appendTo:powerdBy,html:" & "}),powered_by_2=createElement({id:"powered_by_2",element:"a",appendTo:powerdBy,href:config.setLinks.powered_by_2,target:"_blank"}))),config.logicVersion=="2.4.eaglehills"&&(sendTranscriptBtn=createElement({id:"sendTranscriptBtn",html:"<div id='email-chat' style='left: 0;float: none; cursor: pointer; font-size: 12px; text-align: center; margin: 0px auto; background-color: rgb(31, 42, 68); color: rgb(255, 255, 255); width: 100%; bottom: 0px; display: none;'><i class='fa fa-envelope-o'><\/i>Email Transcript<\/div>",element:"div",appendTo:powerdBy})),ChatDiv};LaJq(document).on("click","#theme-toggle",function(e){LaJq("#ChatDiv").toggleClass("dark-theme");const isDarkTheme=LaJq("#ChatDiv").hasClass("dark-theme");localStorage.setItem("theme",isDarkTheme?"dark":"light")});const userPreference=localStorage.getItem("theme");if(userPreference==="dark"){LaJq("#ChatDiv").addClass("dark-theme");LaJq("#theme-toggle").prop("checked",!0);const existingStyleElement=LaJq("#darkThemeCss");existingStyleElement&&existingStyleElement.remove();const darkThemeCss="input#theme-toggle:checked+.themeSlider:before { content: 'On'; -webkit-transform: translateX(11px); -ms-transform: translateX(11px); transform: translateX(11px); }",style=document.createElement("style");style.id="darkThemeCss";style.textContent=darkThemeCss;document.head.appendChild(style)}parent.onTxtMessageWinKeyPress=onTxtMessageWinKeyPress;showTypingDiv="";hideTypingDiv="";parent.onSendClick=onSendClick;typeof config.gvars.fileTransferFeature!="undefined"&&config.gvars.fileTransferFeature&&(document.getElementById("live_chat_status").addEventListener("onSendFile",onSendClick,!1),document.getElementById("live_chat_status").addEventListener("onSendFileData",onSendClick,!1));parent.chatUpRating=chatUpRating;parent.chatDownRating=chatDownRating;parent.loadLangFunc=loadLangFunc;parent.hideEmoticonsSection=hideEmoticonsSection;var clickedEvent=0,LinkText="",getAnchor="";LaJq(document).on("click","#live-chat,#closeBTN,#minimizeButton,.la-phone-chat-icon",function(e){var id=LaJq(this).attr("id"),getClass=LaJq(this).attr("class"),event;id=="live-chat"&&(clickedEvent=1,LinkText="");id=="closeBTN"&&(clickedEvent=10,LinkText="");id=="minimizeButton"&&(clickedEvent=11,LinkText="");getClass=="la-phone-chat-icon"&&(clickedEvent=18,LinkText="");event=new CustomEvent("depallchatevents",{detail:{clickevent:clickedEvent,linkonevent:LinkText}});document.getElementById("live_chat_status").dispatchEvent(event)});LaJq(document.body).click(function(evt){var clickedElement=evt.target,getCurrentID=clickedElement.id||"No ID!";getCurrentID=="dropArowStyle"||getCurrentID=="dropArowStyleIcon"?(LaJq("#dropArowStyle").addClass("toggle-up"),LaJq("#dropDownBox").slideToggle(250,function(){LaJq("#dropArowStyle").removeClass("toggle-up")})):getCurrentID=="languageArrow"?LaJq("#allLanguages").toggle():(LaJq("#dropDownBox").css("display","none"),LaJq("#allLanguages").css("display","none"))});document.getElementById("live_chat_status").addEventListener("onShowWindow",showWindow,!1);document.getElementById("live_chat_status").addEventListener("ShowWindowOnClick",toggleChatWindow,!1);parent.minimizeWindow=minimizeWindow;document.getElementById("live_chat_status").addEventListener("onMinimizeWindow",minimizeWindow,!1);document.getElementById("live_chat_status").addEventListener("onMinimizeChatToolbar",minimizeWindow,!1);parent.closeChatWindow=closeChatWindow;document.getElementById("live_chat_status").addEventListener("onEndChat",closeChatWindow,!1);parent.toggleLanguage=toggleLanguage;this.createWindow=function(){var key,onLoadRateChatFeatureEvent;if(!parent.configuration.gvars.blockChat||!(LaJq.inArray(window.location.href.split("?")[0],parent.configuration.gvars.blockPages)>-1)){document.body.appendChild(generateTemplate(parent.configuration.template.templateId));document.getElementById("live_chat_status").dispatchEvent(onStartServiceCallsEvent);for(key in parent.configuration.cssFiles)parent.configuration.cssFiles[key]!=""&&addCustomCss(parent.configuration.cssFiles[key]);parent.configuration.customCss.length>0&&addCustomCss(parent.configuration.customCss);parent.configuration.customInlineCss.length>0&&addCustomCss(parent.configuration.customInlineCss);onLoadRateChatFeatureEvent=new CustomEvent("onLoadRateChatFeature");document.getElementById("live_chat_status").dispatchEvent(onLoadRateChatFeatureEvent);parent.serviceResponse=chatFunctionality.serviceResponse}};document.getElementById("live_chat_status").addEventListener("onGettingVisitorMessages",onSettingVisitorMessage,!1);document.getElementById("live_chat_status").addEventListener("onGettingOperatorMessage",onGettingOperatorMessage,!1);this.appendOperatorMessage=function(name,msg){var operatorBG=document.createElement("div"),operatorImage,operatorName,operatorMessage;return operatorBG.className="operatorBG",name!=""&&(location.host.indexOf("polaronsolar")>-1&&(operatorImage=document.createElement("img"),operatorImage.id="operatorImage",operatorImage.src="//cdn1.thelivechatsoftware.com/assets/pictures/opimage.png",operatorBG.appendChild(operatorImage)),operatorName=document.createElement("span"),operatorName.id="operatorName",operatorName.innerHTML=name+": ",operatorBG.appendChild(operatorName)),parent.configuration.template.templateId==2?(LaJq(operatorBG).delay(250).queue(function(){LaJq(operatorBG).addClass("grow")}),LaJq("#txtChatWin").height()>=chatwindowmaxheight&&LaJq("#view_More").css("display","block"),operatorMessage=document.createElement("span")):operatorMessage=document.createElement("p"),operatorMessage.id="operatorMessage",operatorMessage.innerHTML=msg,operatorBG.appendChild(operatorMessage),operatorBG};this.appendVisitorMessage=function(name,msg,emp){var tagBlockingRegex=/<\/?[^>]+>/gi,usePreName=helperFunctions.readCookieJson("LaPreSurvey"),visitorBG,visitorName,visitorMessage;return typeof usePreName!="undefined"&&usePreName!=""&&(name=usePreName.PreSurveyName),visitorBG=document.createElement("div"),visitorBG.className="visitorBG",visitorName=document.createElement("span"),visitorName.id="visitorName",visitorName.innerHTML=name+": ",visitorBG.appendChild(visitorName),LaJq(".visitorBG,.operatorBG").each(function(){LaJq(this).html()==""&&LaJq(this).remove()}),parent.configuration.template.templateId==2?(LaJq(visitorBG).delay(250).queue(function(){LaJq(visitorBG).addClass("grow")}),LaJq("#txtChatWin").height()>=chatwindowmaxheight&&LaJq("#view_More").css("display","block"),visitorMessage=document.createElement("span")):visitorMessage=document.createElement("p"),visitorMessage.id="visitorMessage",parent.configuration.gvars.preChatSurveyVar||tagBlockingRegex.test(msg)&&(msg=msg.replace(tagBlockingRegex,"")),visitorMessage.innerHTML=msg,visitorBG.appendChild(visitorMessage),visitorBG};emoticons=function(){function appendEmoticon(e){LaJq("#txtMessageWin").val(LaJq("#txtMessageWin").val()+" "+e.target.id+" ");LaJq("#txtMessageWin").focus()}function emoticonToggle(){LaJq("#emoticonContainer").fadeToggle("fast");LaJq("#emitconParent").toggleClass("color")}var show=function(msg){var key,arr,i;for(key in parent.configuration.emoticons)if(parent.configuration.emoticons[key]!="")for(arr=msg.split(key),i=0;i<arr.length;i++)msg=msg.replace(key," <img src='"+parent.configuration.emoticons[key]+"' /> ");return msg},structure=function(msgArea){var emoticonParent=document.createElement("div"),emoticonContainer,key,emoticon;emoticonParent.id="emitconParent";emoticonParent.onclick=emoticonToggle;emoticonParent.className="lcf lcf-emoticon-1";LaJq(msgArea).append(emoticonParent);emoticonContainer=document.createElement("div");emoticonContainer.id="emoticonContainer";emoticonContainer.className="bubble";LaJq(msgArea).append(emoticonContainer);for(key in parent.configuration.emoticons)parent.configuration.emoticons[key]!=""&&(emoticon=document.createElement("img"),emoticon.id=key,emoticon.title=key,emoticon.src=parent.configuration.emoticons[key],emoticon.onclick=appendEmoticon,emoticonContainer.appendChild(emoticon))};return{show:show,structure:structure}}()},helperFunctions={timedOut:function(a){var b=new Date(a);return""!=a?6e5<=(new Date).getTime()-b.getTime()?!0:!1:!0},createCookie:function(cookieName,value,hours){var host=location.hostname.toString(),host=host.match(/^www\./)?host.substring(4):location.hostname.toString(),expires="",date=new Date;hours&&(date.setTime(date.getTime()+hours*36e5),expires="; expires="+date.toGMTString());document.cookie=cookieName+"="+encodeURIComponent(value)+expires+"; path=/; domain="+host+";"},readCookie:function(name){for(var nameEQ=name+"=",ca=document.cookie.split(";"),c,i=0;i<ca.length;i++){for(c=ca[i];c.charAt(0)==" ";)c=c.substring(1,c.length);if(c.indexOf(nameEQ)==0)return decodeURIComponent(c.substring(nameEQ.length,c.length))}},readCookieJson:function(name){for(var returnData="",nameEQ=name+"=",ca=document.cookie.split(";"),c,newData,i=0;i<ca.length;i++){for(c=ca[i];c.charAt(0)==" ";)c=c.substring(1,c.length);c.indexOf(nameEQ)==0&&(returnData=decodeURIComponent(c.substring(nameEQ.length,c.length)))}return returnData!=""?(newData=returnData.replace(/'/g,'"'),JSON.parse(newData)):""},deleteCookie:function(name){document.cookie=name+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;"},parseURL:function(url){var remaining_url=url.substr(0,url.length),domain_i=remaining_url.indexOf("/");return domain_i=domain_i==-1?remaining_url.length:domain_i,remaining_url.substr(0,domain_i)},createElement:function(obj){var Element=document.createElement(obj.element);return typeof obj.id!="undefined"&&(Element.id=obj.id),typeof obj.name!="undefined"&&(Element.name=obj.name),typeof obj.className!="undefined"&&(Element.className=obj.className),typeof obj.type!="undefined"&&(Element.type=obj.type),typeof obj.html!="undefined"&&(Element.innerHTML=obj.html),typeof obj.href!="undefined"&&(Element.href=obj.href),typeof obj.value!="undefined"&&(Element.value=obj.value),typeof obj.BackgroundColor!="undefined"&&(Element.style.backgroundColor=obj.BackgroundColor),typeof obj.BackgroundImage!="undefined"&&(Element.style.backgroundImage="url('"+obj.BackgroundImage+"')"),typeof obj.src!="undefined"&&(Element.src=obj.src),typeof obj.color!="undefined"&&(Element.style.color=obj.color),typeof obj.target!="undefined"&&(Element.target=obj.target),typeof obj.click!="undefined"&&(Element.onclick=obj.click),typeof obj.for!="undefined"&&(Element.htmlFor=obj.for),typeof obj.alt!="undefined"&&(Element.alt=obj.alt),typeof obj.keyPress!="undefined"&&(Element.onkeypress=obj.keyPress),typeof obj.placeholder!="undefined"&&(Element.placeholder=obj.placeholder),typeof obj.appendTo=="undefined"?Element:(obj.appendTo.appendChild(Element),Element)}},dBrowser={ua:navigator.userAgent.toLowerCase(),width:window.innerWidth>0?window.innerWidth:screen.width,height:window.innerHeight>0?window.innerHeight:screen.height,tablets:["nexus 7","nexus 10"],tabletName:"",isMobile:function(){return dBrowser.ua.indexOf("mobile")!=-1?!0:!1},isAndroid:function(){return dBrowser.ua.indexOf("android")!=-1?!0:!1},isAndroidTablet:function(){var length=dBrowser.tablets.length,isTablet=!1,i;if(dBrowser.ua.indexOf("tablet")!=-1)isTablet=!0;else if(dBrowser.ua.indexOf("android")&&!dBrowser.isMobile())isTablet=!0;else for(i=0;i<length;i++)dBrowser.ua.indexOf(dBrowser.tablets[i])!=-1&&(isTablet=!0,dBrowser.tabletName=dBrowser.tablets[i]);return dBrowser.ua.indexOf("android")!=-1&&isTablet?!0:!1},isIpad:function(){return dBrowser.ua.indexOf("ipad")!=-1?!0:!1},isIphone:function(){return dBrowser.ua.indexOf("iphone")!=-1?!0:!1},isWindows:function(){return dBrowser.ua.indexOf("windows")!=-1?!0:!1},isMac:function(){return dBrowser.ua.indexOf("macintosh")!=-1?!0:!1},isFF:function(){return dBrowser.ua.indexOf("firefox")!=-1||dBrowser.ua.indexOf("fxios")!=-1?!0:!1},isChrome:function(){return dBrowser.ua.indexOf("chrome")!=-1||dBrowser.ua.indexOf("crios")!=-1?dBrowser.isEdge()||dBrowser.isOpera()?!1:!0:!1},isEdge:function(){return dBrowser.ua.indexOf("edge")!=-1?!0:!1},isOpera:function(){return dBrowser.ua.indexOf("opr")!=-1||dBrowser.ua.indexOf("opios")!=-1?!0:!1},isSafari:function(){return dBrowser.ua.indexOf("safari")!=-1?dBrowser.isChrome()||dBrowser.isEdge()||dBrowser.isOpera()||dBrowser.isFF()?!1:!0:!1},isIE:function(){return dBrowser.ua.indexOf("msie")!=-1||dBrowser.ua.indexOf("trident")!=-1?!0:!1},isIE11:function(){return dBrowser.ua.indexOf("rv:11")!=-1&&dBrowser.ua.indexOf("trident")!=-1?!0:!1},isIE10:function(){return dBrowser.ua.indexOf("msie 10")!=-1?!0:!1},isIE9:function(){return dBrowser.ua.indexOf("msie 9")!=-1?!0:!1},isIE8:function(){return dBrowser.ua.indexOf("msie 8")!=-1?!0:!1},isIE7:function(){return dBrowser.ua.indexOf("msie 7")!=-1?!0:!1},isIE6:function(){return dBrowser.ua.indexOf("msie 6")!=-1?!0:!1},is64:function(){if(dBrowser.ua.indexOf("wow64")!=-1||dBrowser.ua.indexOf("win64")!=-1)return!0}};ChatWindowWidget.prototype.helperFunctions=helperFunctions;ChatWindowWidget.prototype.dBrowser=dBrowser;liveChatStatusButton=function(imageLinks){function showLiveBTN(){LaJq("#toolbar-main,#live_chat_status").css("display","block")}function showWindowAfterClick(){setTimeout(function(){LaJq("#live_chat_status,.live_chat_status").off();LaJq("#live_chat_status,.live_chat_status").on("click",toggleWinAfterClicked)},300)}function toggleWinAfterClicked(){LaJq("#ChatDiv").css("display")=="block"?LaJq("#ChatDiv").css("display","none"):document.getElementById("live_chat_status").dispatchEvent(onShowWindowEvent)}function showLiveChatButton(){var iconKey,onlineBtnIcon,imageKey;LaJq("#live_chat_status").css("display","block");LaJq("#live_chat_status,.live_chat_status").unbind("click");LaJq("#live_chat_status,.live_chat_status").on("click",showWindowAfterClose);imageLinks.type=="icons"?(iconKey="onlineIcon",parent.dBrowser.isMobile()&&(iconKey+="Mobile"),onlineBtnIcon='<div class="button_icon_parent '+iconKey+'Parent"><i class="liveChatIcon lcf '+imageLinks.icons[iconKey]+" "+iconKey+'"><\/i><\/div>',LaJq("#live_chat_status").html(""),LaJq("#live_chat_status").append(onlineBtnIcon)):(imageKey="onlineImage",parent.dBrowser.isMobile()&&(imageKey+="Mobile"),LaJq("#liveChatImage").attr("src",imageLinks.images[imageKey]))}function showPassiveButton(){var iconKey,onlineBtnIcon,imageKey;LaJq("#live_chat_status").css("display","block");LaJq("#live_chat_status,.live_chat_status").unbind("click");LaJq("#live_chat_status,.live_chat_status").on("click",showWindowAfterClose);imageLinks.type=="icons"?(iconKey="onlineIcon",parent.dBrowser.isMobile()&&(iconKey+="Mobile"),onlineBtnIcon='<div class="button_icon_parent '+iconKey+'Parent"><i class="liveChatIcon lcf '+imageLinks.icons[iconKey]+" "+iconKey+'"><\/i><\/div>',LaJq("#live_chat_status").html(""),LaJq("#live_chat_status").append(onlineBtnIcon)):(imageKey="onlineImage",parent.dBrowser.isMobile()&&(imageKey+="Mobile"),LaJq("#liveChatImage").attr("src",imageLinks.images[imageKey]))}function showOfflineButton(){var iconKey,offlineBtnIcon,imageKey;LaJq("#toolbar-main,#live_chat_status").css("display","block");LaJq("#live_chat_status,.live_chat_status").unbind("click");LaJq("#live_chat_status,.live_chat_status").on("click",showOfflineForm);imageLinks.type=="icons"?(iconKey="offlineIcon",parent.dBrowser.isMobile()&&(iconKey+="Mobile"),offlineBtnIcon='<div class="button_icon_parent '+iconKey+'Parent"><i class="liveChatIcon lcf '+imageLinks.icons[iconKey]+" "+iconKey+'"><\/i><\/div>',LaJq("#live_chat_status").html(""),LaJq("#live_chat_status").append(offlineBtnIcon)):(imageKey="offlineImage",parent.dBrowser.isMobile()&&(imageKey+="Mobile"),LaJq("#liveChatImage").attr("src",imageLinks.images[imageKey]))}function showOfflineForm(){LaJq("#toolbar-main").css("display","block");LaJq("#live_chat_status,.live_chat_status").unbind("click");LaJq("#live_chat_status,#textUs").css("display","none");LaJq("#social-col li > div, #mobile_menu_expand li > div").fadeOut(200);LaJq("#social-col .showSocial").removeClass("showSocial");LaJq("#toolbar-main *").removeClass("activeIcon");LaJq("#toolbar-main .live_chat_status").addClass("activeIcon");document.getElementById("live_chat_status").dispatchEvent(onStartServiceCallsEvent);var clickedEvent=22,LinkText="",getAnchor="",resultViCookie=helperFunctions.readCookieJson("WG_VIC_J"),resultWiNew=helperFunctions.readCookieJson("WG_WEB"),allClickedEvents={VisitorId:resultViCookie.V_I,WebsiteId:resultWiNew.W_I,BannerLink:LinkText,Duration:"0",EventId:clickedEvent};resultViCookie!=null&&resultViCookie.V_I!==undefined&&resultWiNew!=null&&resultWiNew.W_I!==undefined&&serviceCall("InsertBanner","",allClickedEvents)}function onChatWindowClose(){var iconKey,onlineBtnIcon,imageKey;LaJq("#live_chat_status").css("display","block");LaJq("#live_chat_status,.live_chat_status").unbind("click");LaJq("#live_chat_status,.live_chat_status").on("click",showWindowAfterClose);imageLinks.type=="icons"?(iconKey="offlineIcon",parent.dBrowser.isMobile()&&(iconKey+="Mobile"),onlineBtnIcon='<div class="button_icon_parent '+iconKey+'Parent"><i class="liveChatIcon lcf '+imageLinks.icons[iconKey]+" "+iconKey+'"><\/i><\/div>',LaJq("#live_chat_status").html(""),LaJq("#live_chat_status").append(onlineBtnIcon)):(imageKey="onlineImage",parent.dBrowser.isMobile()&&(imageKey+="Mobile"),LaJq("#liveChatImage").attr("src",imageLinks.images[imageKey]))}function showWindowAfterClose(){LaJq("#ChatDiv").is(":animated")||(LaJq("#live_chat_status,.live_chat_status").unbind("click"),LaJq("#live_chat_status").css("display","none"),document.getElementById("live_chat_status").dispatchEvent(onShowWindowAfterCloseEvent))}function showMinimizeButton(e){var iconKey,maximizeBtnIcon,imageKey;LaJq("#live_chat_status").css("display","block");LaJq("#live_chat_status,.live_chat_status").unbind("click");LaJq("#live_chat_status,.live_chat_status").on("click",showWindowAfterMinimize);LaJq("#ChatDiv").css("display","none");imageLinks.type=="icons"?(iconKey="maximizeIcon",parent.dBrowser.isMobile()&&(iconKey+="Mobile"),maximizeBtnIcon='<div class="button_icon_parent '+iconKey+'Parent"><i class="liveChatIcon lcf '+imageLinks.icons[iconKey]+" "+iconKey+'"><\/i><\/div>',LaJq("#live_chat_status").html(""),LaJq("#live_chat_status").append(maximizeBtnIcon)):(imageKey="maximizeImage",parent.dBrowser.isMobile()&&(imageKey+="Mobile"),LaJq("#liveChatImage").attr("src",imageLinks.images[imageKey]))}function showWindowAfterMinimize(){if(setTimeout(function(){LaJq("#ChatDiv").toggle()},100),OpMessageCounter=0,LaJq("#opCounter").remove(""),LaJq(".newIspyVehicles").css("display","none"),LaJq("#textUs").css("display","none"),LaJq("#social-col li > div, #mobile_menu_expand li > div").fadeOut(200),LaJq("#social-col .showSocial").removeClass("showSocial"),LaJq("#toolbar-main *").removeClass("activeIcon"),LaJq("#toolbar-main .live_chat_status").addClass("activeIcon"),!LaJq("#ChatDiv").is(":animated")){LaJq("#live_chat_status").removeClass("lc-animate-flicker");parent.helperFunctions.createCookie("LC_MINIMIZE",!1,0);LaJq("#live_chat_status").css("display","none");var objDiv=document.getElementById("txtChatWin");objDiv.scrollTop=objDiv.scrollHeight;document.getElementById("live_chat_status").dispatchEvent(onStopVbBubbleOnMinimizeEvent)}}function showPresurvey(){LaJq("#live_chat_status").css("display","none");document.getElementById("live_chat_status").dispatchEvent(onShowPreSurveyEvent)}function showPreSurveyButton(){var iconKey,onlineBtnIcon,imageKey;LaJq("#live_chat_status").css("display","block");LaJq("#live_chat_status,.live_chat_status").unbind("click");LaJq("#live_chat_status,.live_chat_status").on("click",showPresurvey);imageLinks.type=="icons"?(iconKey="onlineIcon",parent.dBrowser.isMobile()&&(iconKey+="Mobile"),onlineBtnIcon='<div class="button_icon_parent '+iconKey+'Parent"><i class="liveChatIcon lcf '+imageLinks.icons[iconKey]+" "+iconKey+'"><\/i><\/div>',LaJq("#live_chat_status").html(""),LaJq("#live_chat_status").append(onlineBtnIcon)):(imageKey="onlineImage",parent.dBrowser.isMobile()&&(imageKey+="Mobile"),LaJq("#liveChatImage").attr("src",imageLinks.images[imageKey]))}function addAnimationClass(){LaJq("#ChatDiv").css("display")=="none"&&(LaJq("#live_chat_status").hasClass("lc-animate-flicker")||LaJq("#live_chat_status").addClass("lc-animate-flicker"))}function onPreSurveyClose(){LaJq("#live_chat_status,.live_chat_status").unbind("click");LaJq("#live_chat_status,.live_chat_status").on("click",showWindowAfterClose)}var onShowWindowAfterCloseEvent=new CustomEvent("onShowWindowAfterClose",{detail:{type:"Passive"}}),onShowPreSurveyEvent=new CustomEvent("onShowPreSurvey"),onShowOfflineFormEvent=new CustomEvent("onShowOfflineForm"),preRequisiteWidgetEvent=new CustomEvent("preRequisiteWidget"),onStartServiceCallsEvent=new CustomEvent("onStartServiceCalls"),onStopVbBubbleOnMinimizeEvent=new CustomEvent("onStopVbBubbleOnMinimize"),onShowWindowEvent=new CustomEvent("onShowWindow"),parent=this;document.getElementById("live_chat_status").addEventListener("showChatBtn",showLiveBTN,!1);document.getElementById("live_chat_status").addEventListener("showWindowAfterClicked",showWindowAfterClick,!1);document.getElementById("live_chat_status").addEventListener("onEndChat",showLiveBTN,!1);document.getElementById("live_chat_status").addEventListener("onPassiveChat",showPassiveButton,!1);document.getElementById("live_chat_status").addEventListener("onOfflineChat",showOfflineButton,!1);document.getElementById("live_chat_status").addEventListener("onCloseOfflineForm",showOfflineButton,!1);document.getElementById("live_chat_status").addEventListener("onCloseChatWindow",onChatWindowClose,!1);document.getElementById("live_chat_status").addEventListener("onChatWindowMinimize",showMinimizeButton,!1);document.getElementById("live_chat_status").addEventListener("onOpenPresurveyForm",showPreSurveyButton,!1);document.getElementById("live_chat_status").addEventListener("onPreChatStartChatProcess",onPreSurveyClose,!1)};liveChatStatusButton.prototype.helperFunctions=helperFunctions;liveChatStatusButton.prototype.dBrowser=dBrowser;httpConnected=!1;opTime="";chatLogic=function(chatConfig,templateId){function reconResponse(result){result!=""?(variablesForChat.presenceHandler!=null&&variablesForChat.connection.deleteHandler(variablesForChat.presenceHandler),variablesForChat.messageHandler!=null&&variablesForChat.connection.deleteHandler(variablesForChat.messageHandler),variablesForChat.presenceHandler=null,variablesForChat.messageHandler=null,connectRoom(chatConfig.XMPP_SERVER,"123")):closeXmppChat()}function autoTxtFocusing(callback){variablesForChat.firstKey||(variablesForChat.presenceHandler!=null&&variablesForChat.connection.deleteHandler(variablesForChat.presenceHandler),variablesForChat.messageHandler!=null&&variablesForChat.connection.deleteHandler(variablesForChat.messageHandler),variablesForChat.presenceHandler=null,variablesForChat.messageHandler=null,connect(chatConfig.XMPP_SERVER,"123"),variablesForChat.firstKey=!0);variablesForChat.XMPPConnected?callback():window.setTimeout(callback,3e3)}function SendChatVehicle(msg){if(variablesForChat.firstMessage?(variablesForChat.first_message_text=msg,window.clearTimeout(variablesForChat.CloseGreet),variablesForChat.firstMessage=!1,variablesForChat.isOnlyGreeted=!1,insertChat()):variablesForChat.XMPPConnected&&variablesForChat.ArrayDataToThrow.length==0&&sendXmppMessage(msg),!variablesForChat.XMPPConnected||variablesForChat.ArrayDataToThrow.length!=0){variablesForChat.ArrayDataToThrow[variablesForChat.dataThrow]=msg;variablesForChat.dataThrow++;return}var onGettingVisitorMessagesEvent=new CustomEvent("onGettingVisitorMessages",{detail:{name:variablesForChat.visitorName,msg:msg,emp:variablesForChat.EMP},bubbles:!0,cancelable:!0});document.getElementById("live_chat_status").dispatchEvent(onGettingVisitorMessagesEvent);sendSignalRMethod("invokeMessage",variablesForChat.chatId," ","visitor")}function getDataFromServer(){var getLangAttr,resultCookie,url,subDomain,createDate,createDateCookie,allData;if(typeof chatConfig.isPageBased!="undefined"&&chatConfig.isPageBased&&(variablesForChat.websiteId=chatConfig.websiteID,variablesForChat.host=chatConfig.host),getLangAttr=LaJq("html").attr("lang"),typeof getLangAttr!="undefined"){var engDomain=getLangAttr.indexOf("en")>-1,frDomain=getLangAttr.indexOf("fr")>-1,deDomain=getLangAttr.indexOf("de")>-1,arDomain=getLangAttr.indexOf("ar")>-1,esDomain=getLangAttr.indexOf("es")>-1;engDomain&&(variablesForChat.websiteLang="(en)");frDomain&&(variablesForChat.websiteLang="(fr)");deDomain&&(variablesForChat.websiteLang="(de)");arDomain&&(variablesForChat.websiteLang="(ar)");esDomain&&(variablesForChat.websiteLang="(es)")}if(resultCookie=helperFunctions.readCookieJson("WG_VIC_J"),resultCookie!=""&&(variablesForChat.visitorId=resultCookie.V_I),chatConfig.pseudoName&&(variablesForChat.sudoNames="T"),chatConfig.operatorPic&&(variablesForChat.sudoPics="T"),url=location.host,url=url.replace(new RegExp(/^\s+/),""),url=url.replace(new RegExp(/\s+$/),""),url=url.replace(new RegExp(/\\/g),"/"),url=url.replace(new RegExp(/^http\:\/\/|^https\:\/\/|^ftp\:\/\//i),""),url=url.replace(new RegExp(/^www\./i),""),url=url.replace(new RegExp(/\/(.*)/),""),url.match(new RegExp(/\.[a-z]{2,3}\.[a-z]{2}$/i))?url=url.replace(new RegExp(/\.[a-z]{2,3}\.[a-z]{2}$/i),""):url.match(new RegExp(/\.[a-z]{2,4}$/i))&&(url=url.replace(new RegExp(/\.[a-z]{2,4}$/i),"")),subDomain=url.match(new RegExp(/\./g))?!0:!1,typeof chatConfig.subDomain!="undefined"&&chatConfig.subDomain&&subDomain){var full=window.location.host,parts=full.split("."),sub=parts[0],domain=parts[1],type=parts[2];variablesForChat.host=domain+".com"}typeof chatConfig.IsCustomGreet!="undefined"&&chatConfig.IsCustomGreet&&(variablesForChat.customGreeting=!0);typeof chatConfig.banner=="undefined"&&(chatConfig.banner=!1);createDate="";createDateCookie=helperFunctions.readCookie("CD");createDateCookie!=""&&(createDate=createDateCookie);(createDateCookie==""||typeof createDateCookie=="undefined")&&(variablesForChat.visitorId="");variablesForChat.useLoaderApi=!1;variablesForChat.useLoaderKey="";allData={DomainName:variablesForChat.host,RefUrl:helperFunctions.ReplaceSpecialCharacters(document.referrer),WebsiteUrl:helperFunctions.ReplaceSpecialCharacters(window.location.toString()),VisitorId:variablesForChat.visitorId,Lang:variablesForChat.websiteLang,SudoName:variablesForChat.sudoNames+"|"+variablesForChat.sudoPics,UseLoader:variablesForChat.useLoaderApi,IsCustomGreet:variablesForChat.customGreeting,LoaderKey:variablesForChat.useLoaderKey,BannerFlag:chatConfig.banner,CreatedDate:createDate};typeof chatConfig.claimChat!="undefined"&&chatConfig.claimChat?serviceCall("PreReqPeramClaim",serviceResponse.completeResponse,allData):serviceCall("PreReqPeram",serviceResponse.completeResponse,allData)}function changeGreetingByVb(){if(sessionStorage.getItem("lastActivity")!=null){var greet=sessionStorage.getItem("lastActivity");greet.indexOf("undefined")==-1&&variablesForChat.isAlreadyInChatValue=="-1"&&(variablesForChat.autoGreetMessage=greet,LaJq("#operatorMessage").html(greet))}}function chatUpRateCall(){var rateInsert,e,currentTime;variablesForChat.isAlreadyInChat&&(LaJq("#rateChatThankMsg").show().delay(1500).fadeOut(),rateInsert={ChatId:variablesForChat.chatId,RatingId:"5",Comments:"Up Rating",parR:helperFunctions.getRandomValue()},serviceCall("InPostSurvey",rateCallResponse,rateInsert),e=variablesForChat.visitorName+" liked this conversation",currentTime=new Date,setTimeout(function(){variablesForChat.connection.send($msg({to:variablesForChat.room,chat_id:variablesForChat.chatId,custom_packet:!0,user_id:-1*variablesForChat.actualUserId,manager_id:1128,time_stamp:myUTCDateString(currentTime),website_id:variablesForChat.websiteId,visitor_name:variablesForChat.visitorName,type:"groupchat"}).c("body").t(e))},500))}function chatDownRateCall(){var rateInsert,e,currentTime;variablesForChat.isAlreadyInChat&&(LaJq("#rateChatThankMsg").show().delay(1e3).fadeOut(),rateInsert={ChatId:variablesForChat.chatId,RatingId:"1",Comments:"Down Rating",parR:helperFunctions.getRandomValue()},serviceCall("InPostSurvey",rateCallResponse,rateInsert),e=variablesForChat.visitorName+" disliked this conversation",currentTime=new Date,setTimeout(function(){variablesForChat.connection.send($msg({to:variablesForChat.room,chat_id:variablesForChat.chatId,custom_packet:!0,user_id:-1*variablesForChat.actualUserId,manager_id:1128,time_stamp:myUTCDateString(currentTime),website_id:variablesForChat.websiteId,visitor_name:variablesForChat.visitorName,type:"groupchat"}).c("body").t(e))},500))}function rateCallResponse(){}function insertChat(){var preSurveyCookie=helperFunctions.readCookieJson("LaPreSurvey"),event,resultCookie,insertChatData,methodToCall;typeof helperFunctions.readCookie("opName")=="undefined"&&helperFunctions.createCookie("opName",variablesForChat.userName,720);chatConfig.minCounter&&(event=new CustomEvent("usernameEvent",{detail:{username:variablesForChat.userName}}),document.getElementById("live_chat_status").dispatchEvent(event));resultCookie=helperFunctions.readCookieJson("WG_VIC_J");typeof preSurveyCookie!="undefined"&&preSurveyCookie!=""?variablesForChat.visitorName=preSurveyCookie.PreSurveyName:resultCookie!=""&&(variablesForChat.visitorName=resultCookie.V_N);resultCookie=helperFunctions.readCookieJson("WG_VIC_J");resultCookie!=""&&(variablesForChat.visitorName=resultCookie.V_N);insertChatData={Userid:variablesForChat.actualUserId,VisitorId:variablesForChat.visitorId,VisitorName:variablesForChat.visitorName,WebsiteId:variablesForChat.websiteId,RStatus:"false",GreetId:variablesForChat.greetId,GreetMessage:helperFunctions.ReplaceSpecialCharacters(variablesForChat.autoGreetMessage),ChatMessage:variablesForChat.IsConnecting+" AND "+variablesForChat.XMPPConnected+" CONNECTING: "+variablesForChat.CONNECTING+" CONNFAIL: "+variablesForChat.CONNFAIL+" DISCONNECTING: "+variablesForChat.DISCONNECTING+" DISCONNECTED: "+variablesForChat.DISCONNECTED+" AUTHENTICATING: "+variablesForChat.AUTHENTICATING+" AUTHFAIL: "+variablesForChat.AUTHFAIL+" ERROR: "+variablesForChat.ERROR,DomainName:variablesForChat.host,Lang:variablesForChat.priorityLanguage,OperatorName:variablesForChat.userName,Url:helperFunctions.ReplaceSpecialCharacters(window.location.toString())};methodToCall="InsChatInfoAuto";chatConfig.preChatSurveyVar==!0&&(insertChatData.Name=preSurveyCookie.PreSurveyName,insertChatData.Email=preSurveyCookie.PreSurveyEmail,insertChatData.Phone=preSurveyCookie.preSurveyPhone,insertChatData.Reason="",methodToCall="InsChatInfoSurvey");serviceCall(methodToCall,serviceResponse.onInsertChatInfoResponse,insertChatData);typeof chatConfig.GA4!="undefined"&&chatConfig.GA4&&typeof gtag!="undefined"&&gtag("event","_isStarted",{method:"_isStarted"});typeof chatConfig.ga_Analytics!="undefined"&&chatConfig.ga_Analytics&&(typeof chatConfig.ga_Analyticsjs!="undefined"&&chatConfig.ga_Analyticsjs?(ga("create",chatConfig.ga_AnalyticsAC),ga("send","event","LiveChat","_isStarted",{nonInteraction:1})):(_gaq.push(["_setAccount",chatConfig.ga_AnalyticsAC]),_gaq.push(["_trackEvent","LiveChat","_isStarted"],!0)));typeof chatConfig.ga_TagManager!="undefined"&&chatConfig.ga_TagManager&&typeof dataLayer!="undefined"&&dataLayer.push({event:"GAEvent",eventCategory:"LiveAdmins Live Chat",eventAction:"Chat Initiated",eventLabel:"LiveAdmins Chat was initiated",eventValue:1})}function on_presence(presence){var from=presence.getAttribute("from"),room=Strophe.getBareJidFromJid(from),nick,i;if(room===variablesForChat.room){if(nick=Strophe.getResourceFromJid(from),nick!=null&&presence.getAttribute("type")==="error")variablesForChat.connection.disconnect();else if(variablesForChat.participants[nick]||presence.getAttribute("type")==="unavailable"){if(variablesForChat.participants[nick]&&presence.getAttribute("type")==="unavailable")for(i in variablesForChat.ArrayUsers)if(variablesForChat.ArrayUsers[i]==nick){variablesForChat.ArrayUsers.splice(i,1);break}}else variablesForChat.participants[nick]=nick||!0,variablesForChat.ArrayUsers[variablesForChat.dataAddUsers]=nick,variablesForChat.dataAddUsers++;presence.getAttribute("type")!=="error"&&presence.getElementsByTagName("status[code='210']").length>0&&(variablesForChat.nickname=Strophe.getResourceFromJid(from))}return!0}function closeXmppChat(e){var chat_event_data,resultCookie,setWidth,n,o,endCall;typeof window.depChatEvents!="undefined"&&(chat_event_data={position:"floating",agent_initiated:!1},window.depChatEvents.chatComplete(chat_event_data),console.log("chat complete event when actual chat ends"));typeof window.depChatEvents!="undefined"&&(chat_event_data={lead_id:variablesForChat.chatId},window.depChatEvents.chatLead(chat_event_data),console.log("chat lead event when actual chat ends"));variablesForChat.greetInserted=!1;helperFunctions.createCookie("opName",null,-24);helperFunctions.createCookie("LC_SN",null,-24);variablesForChat.presenceHandler=null;variablesForChat.messageHandler=null;LaJq("#recont-loader").remove();LaJq("#txtMessageWin").prop("disabled",!0);resultCookie=helperFunctions.readCookieJson("WG_VIC_J");resultCookie!=""&&(resultCookie.C_I="",helperFunctions.createCookie("WG_VIC_J",JSON.stringify(resultCookie),720));LaJq(".sessionOutMsg").length<1&&(LaJq("#txtChatWin").append('<span class="sessionOutMsg" style="color:red;position: absolute;bottom: 70px;padding: 12px 7px;z-index: 99999;left: 0;cursor:pointer;background-color: #f1f1f1;font-size: 12px;letter-spacing: 1px;text-align: center;border: 1px solid #ccc;line-height: 18px;">Chat sessioned out. Click here to start new chat.<\/span>'),setWidth=LaJq("#ChatDiv").css("width"),LaJq(".sessionOutMsg").css("width",setWidth),LaJq(".sessionOutMsg").click(function(){LaJq("#txtMessageWin").prop("disabled",!1);LaJq("#ChatDiv,#live_chat_status").css("display","none");LaJq(".sessionOutMsg").remove();document.getElementById("live_chat_status").dispatchEvent(onChatSessionOutEvent)}));variablesForChat.XMPPConnectedRetry=!0;variablesForChat.firstKey=!1;variablesForChat.windowDisplayed=!1;n=variablesForChat.connection;n.sync=!0;o=$pres({to:variablesForChat.room,type:"unavailable"});n.send(o.tree());n.flush();n.disconnect();variablesForChat.room=null;e=="[Ignore]"?helperFunctions.createCookie("wg_Ign","wg_Ign=1",24):e=="[DND]"&&helperFunctions.createCookie("WG_DND","WG_DND=1",8064);endCall={Chatid:variablesForChat.chatId};serviceCall("EndChat",serviceResponse.onEndChatResponse,endCall);LaJq("#live_chat_status").removeClass("lc-animate-flicker")}function getValueFromVariablesForChat(key){return variablesForChat[key]}function on_public_message(message){var from,end_time,jidNew,stringValue,test,vstArrayOfObjects,resultCookie,usePreName,onGettingOperatorMessageEvent,onGettingVisitorMessagesEvent;LaJq("#opCounter").remove("");LaJq(".newIspyVehicles").css("display","none");var jsdate=new Date,jshours=jsdate.getHours(),jsminutes=jsdate.getMinutes(),jsampm=jshours>=12?"pm":"am";jshours=jshours%12;jshours=jshours?jshours:12;jsminutes=jsminutes<10?"0"+jsminutes:jsminutes;opTime=jshours+":"+jsminutes+" "+jsampm;from="";message.getAttribute("from")!=undefined&&(from=message.getAttribute("from"));end_time="false";message.getAttribute("end_time")!=undefined&&(end_time=message.getAttribute("end_time").toLowerCase());var room=Strophe.getBareJidFromJid(from),nick=Strophe.getResourceFromJid(from),item=0,user_id=0,body="";if(body=message.textContent==undefined?message.text:message.textContent,end_time=="true"&&variablesForChat.room!=null)return closeXmppChat(body),!0;if(message.getAttribute("user_id")!=undefined&&(user_id=message.getAttribute("user_id")),body.indexOf("TRANSFERCHAT")>0&&(variablesForChat.actualUserId=message.getAttribute("manager_id"),variablesForChat.actualUserIdCustom=variablesForChat.actualUserId,variablesForChat.userName=message.getAttribute("visitor_name"),variablesForChat.UserNameCustom=message.getAttribute("visitor_name"),variablesForChat.EMP!=""&&variablesForChat.EMP=="01"&&(LaJq.connection.hub&&LaJq.connection.hub.state===LaJq.signalR.connectionState.connected,clearTimeout(OperatorMessageCounterReply),clearTimeout(OperatorMessageCounterReply2),clearTimeout(OperatorMessageCounterReply3),OperatorMessageCounterReply=setTimeout(function(){MessageAwaiter1()},OneMinTimer))),jidNew=message.getAttribute("from").split("/")[message.getAttribute("from").split("/").length-1],variablesForChat.nickname!=jidNew&&user_id!=""&&user_id.indexOf("-")!=-1&&variablesForChat.EMP!=""&&variablesForChat.EMP=="01"&&(body.indexOf("_Transferred Message Delay")>0?(FirstMessageByVisitor="",pauseOtherTab=!0,clearTimeout(OperatorMessageCounterReply),clearTimeout(OperatorMessageCounterReply2),clearTimeout(OperatorMessageCounterReply3)):body.indexOf("_Transferred Acknowledge Delay")>0&&(FirstMessageByVisitor="",pauseOtherTab=!0,clearTimeout(variablesForChat.OperatorAckCounterReply),clearTimeout(variablesForChat.OperatorAckCounterReply2))),body!=""&&room!=null&&variablesForChat.room!=null&&room.toLowerCase()===variablesForChat.room.toLowerCase()&&nick!=null)if(stringValue="",message.getElementsByTagName("delay").length>0){OpMessageCounter=0;item=item+1;var stamp=message.getElementsByTagName("delay"),timeStamp=stamp[0].getAttribute("stamp"),date=new Date(timeStamp),hours=date.getHours(),minutes=date.getMinutes(),ampm=hours>=12?"pm":"am";hours=hours%12;hours=hours?hours:12;minutes=minutes<10?"0"+minutes:minutes;opTime=hours+":"+minutes+" "+ampm;user_id=="0"?(stringValue=body,test=message.getAttribute("from").split("/")[message.getAttribute("from").split("/").length-1],document.getElementById("live_chat_status").dispatchEvent(onShowWindowEvent),nick==test&&(onGettingVisitorMessagesEvent=new CustomEvent("onGettingVisitorMessages",{detail:{name:variablesForChat.visitorName,msg:body,emp:variablesForChat.EMP,pagereload:!0},bubbles:!0,cancelable:!0}),document.getElementById("live_chat_status").dispatchEvent(onGettingVisitorMessagesEvent))):(user_id=="-4886"||user_id.indexOf("-")!=0)&&body!="[destroy room]"&&body!="[DND]"&&body!="[Ignore]"&&body!="[NICKCHANGE]"&&(user_id!=message.getAttribute("manager_id")||chatConfig.pseudoName||(variablesForChat.userName=message.getAttribute("visitor_name")),body!="[destroy room]"&&body!="[DND]"&&body!="[Ignore]"&&body!="[NICKCHANGE]"&&body!="[UnLockChat]"&&body!="[LockChat]"&&(variablesForChat.actualUserIdCustom=message.getAttribute("user_id"),body=="Your patience is much appreciated. I'll be with you in a moment."&&(pauseOtherTabFiller=!0),alertSound.playAlertSound(),variablesForChat.optrCount==1&&(clearTimeout(variablesForChat.OperatorAckCounterReply),clearTimeout(variablesForChat.OperatorAckCounterReply2)),variablesForChat.userName!="System"&&variablesForChat.optrCount++,onGettingOperatorMessageEvent=new CustomEvent("onGettingOperatorMessage",{detail:{name:variablesForChat.userName,msg:body,emp:variablesForChat.EMP,uid:variablesForChat.actualUserIdCustom,time:opTime,pagereload:!0},bubbles:!0,cancelable:!0}),document.getElementById("live_chat_status").dispatchEvent(onGettingOperatorMessageEvent)))}else user_id>0||user_id=="-4886"?body=="[NICKCHANGE]"?(variablesForChat.visitorName=message.getAttribute("visitor_name"),vstArrayOfObjects="{'V_N':'"+variablesForChat.visitorName+"','V_I':'"+variablesForChat.visitorId+"','Session':'"+variablesForChat.SessionCookie+"'}",resultCookie=helperFunctions.readCookieJson("WG_VIC_J"),resultCookie!=null&&resultCookie.V_N!==undefined&&resultCookie.V_I==variablesForChat.visitorId&&(usePreName=helperFunctions.readCookieJson("LaPreSurvey"),resultCookie.V_N=typeof usePreName!="undefined"&&usePreName!=""?usePreName.PreSurveyName:variablesForChat.visitorName,helperFunctions.createCookie("WG_VIC_J",null,-24),helperFunctions.createCookie("WG_VIC_J",JSON.stringify(resultCookie),720))):(message.getAttribute("manager_id")!=user_id||chatConfig.pseudoName||(variablesForChat.userName=message.getAttribute("visitor_name")),body!="[destroy room]"&&body!="[DND]"&&body!="[Ignore]"&&body!="[NICKCHANGE]"&&body!="[UnLockChat]"&&body!="[LockChat]"&&(variablesForChat.actualUserIdCustom=message.getAttribute("user_id"),body=="Your patience is much appreciated. I'll be with you in a moment."&&(pauseOtherTabFiller=!0),alertSound.playAlertSound(),variablesForChat.optrCount==1&&(clearTimeout(variablesForChat.OperatorAckCounterReply),clearTimeout(variablesForChat.OperatorAckCounterReply2)),variablesForChat.userName!="System"&&variablesForChat.optrCount++,onGettingOperatorMessageEvent=new CustomEvent("onGettingOperatorMessage",{detail:{name:variablesForChat.userName,msg:body,emp:variablesForChat.EMP,uid:variablesForChat.actualUserIdCustom,time:opTime,pagereload:!1},bubbles:!0,cancelable:!0}),document.getElementById("live_chat_status").dispatchEvent(onGettingOperatorMessageEvent))):user_id=="0"&&body!=""&&variablesForChat.nickname!=message.getAttribute("from").split("/")[message.getAttribute("from").split("/").length-1]&&body!=""&&(onGettingVisitorMessagesEvent=new CustomEvent("onGettingVisitorMessages",{detail:{name:variablesForChat.visitorName,msg:body,emp:variablesForChat.EMP},bubbles:!0,cancelable:!0}),document.getElementById("live_chat_status").dispatchEvent(onGettingVisitorMessagesEvent));return!0}function eventConnected(name){variablesForChat.name=name;variablesForChat.joined=!1;variablesForChat.participants={};variablesForChat.connection.send($pres().c("priority").t("0"));variablesForChat.presenceHandler==null&&(variablesForChat.presenceHandler=variablesForChat.connection.addHandler(on_presence,null,"presence"));variablesForChat.messageHandler==null&&(variablesForChat.messageHandler=variablesForChat.connection.addHandler(on_public_message,null,"message","groupchat"))}function initiateChatRoom(){variablesForChat.room="room"+variablesForChat.chatId+chatConfig.chatRoom;variablesForChat.nickname="Visitor"+Math.floor(Math.random()*1e4+1);variablesForChat.connection.send($pres({to:variablesForChat.room+"/"+variablesForChat.nickname}).c("x",{xmlns:"muc#roomconfig_changesubject"}));variablesForChat.connection.send($pres({to:variablesForChat.room+"/"+variablesForChat.nickname}).c("x",{xmlns:variablesForChat.NS_MUC}));variablesForChat.VisitorJID=variablesForChat.connection.getJID();sendFirstXmppMessage()}function sendFirstXmppMessage(){var preSurveyCookie=helperFunctions.readCookieJson("LaPreSurvey"),e,t;typeof preSurveyCookie!="undefined"&&preSurveyCookie!=""&&(variablesForChat.visitorName=preSurveyCookie.PreSurveyName);try{if(variablesForChat.ArrayDataToThrow.length>0)for(e=0;e<variablesForChat.ArrayDataToThrow.length;e++)t=variablesForChat.ArrayDataToThrow[e].toString(),sendXmppMessage(t);else sendXmppMessage(variablesForChat.first_message_text)}catch(n){}finally{for(;variablesForChat.ArrayDataToThrow.length;)variablesForChat.ArrayDataToThrow.pop();variablesForChat.dataThrow=0}inviteOperator(!0)}function CallSignalR(){document.getElementById("txtMessageWin").onkeyup=function(e){e.keyCode==32&&variablesForChat.isAlreadyInChat&&sendSignalRMethod("invokeMessage",variablesForChat.chatId,LaJq("#txtMessageWin").val(),"visitor");e.keyCode==13&&variablesForChat.isAlreadyInChat&&sendSignalRMethod("invokeMessage",variablesForChat.chatId," ","visitor");e.keyCode==8&&variablesForChat.isAlreadyInChat&&sendSignalRMethod("invokeMessage",variablesForChat.chatId," ","visitor")}}function onInsertClaimResponse(result){if(result!=""){var reason_packet=variablesForChat.chatId+"|"+variablesForChat.websiteId+"|"+variablesForChat.visitorId+"|"+variablesForChat.visitorName+"|"+variablesForChat.VisitorJID+"|"+variablesForChat.autoGreetMessage+"|"+variablesForChat.userName;variablesForChat.connection.send($msg({to:variablesForChat.room}).c("x",{xmlns:variablesForChat.NS_MUC+"#user"}).c("invite",{to:result+"@"+chatConfig.XMPP_SERVER}).c("reason").t(reason_packet))}}function inviteOperator(bool,chatId,websiteId,visitorId,visitorName,VisitorJID,WebsiteGreet,userSName,actualUserId){var isFound,userIdsArray,allData,usePreName,reason_packet;if(typeof chatConfig.claimChat!="undefined"&&chatConfig.claimChat){if(variablesForChat.isAlreadyInChat=!0,variablesForChat.xmpp_invite==!1){for(isFound=!1,userIdsArray=variablesForChat.actualUserIds.split("*"),count=0;count<userIdsArray.length-1;count++)userIdsArray[count]==variablesForChat.actualUserId&&(isFound=!0);if(isFound)for(count=0;count<userIdsArray.length-1;count++)allData={UserId:userIdsArray[count],ChatId:variablesForChat.chatId},serviceCall("InsertCInfoMc",onInsertClaimResponse,allData);else allData={UserId:variablesForChat.actualUserId,ChatId:variablesForChat.chatId},serviceCall("InsertCInfoMc",onInsertClaimResponse,allData);variablesForChat.xmpp_invite=!0;CallSignalR()}}else usePreName=helperFunctions.readCookieJson("LaPreSurvey"),typeof usePreName!="undefined"&&usePreName!=""&&(variablesForChat.visitorName=usePreName.PreSurveyName),reason_packet=variablesForChat.chatId+"|"+variablesForChat.websiteId+"|"+variablesForChat.visitorId+"|"+variablesForChat.visitorName+"|"+variablesForChat.VisitorJID+"|"+variablesForChat.autoGreetMessage+"|"+variablesForChat.userName,variablesForChat.connection.send($msg({to:variablesForChat.room}).c("x",{xmlns:variablesForChat.NS_MUC+"#user"}).c("invite",{to:variablesForChat.actualUserId+"@"+chatConfig.XMPP_SERVER}).c("reason").t(reason_packet)),variablesForChat.xmpp_invite=!0,CallSignalR(),bool&&variablesForChat.EMP!=""&&variablesForChat.EMP=="01"&&(clearTimeout(variablesForChat.OperatorAckCounterReply),clearTimeout(variablesForChat.OperatorAckCounterReply2),clearTimeout(OperatorMessageCounterReply),clearTimeout(OperatorMessageCounterReply2),clearTimeout(OperatorMessageCounterReply3),variablesForChat.OperatorAckCounterReply=setTimeout(function(){AckAwaiter()},3e4)),variablesForChat.EMP!=""&&variablesForChat.EMP=="01"&&(clearTimeout(OperatorMessageCounterReply),clearTimeout(OperatorMessageCounterReply2),clearTimeout(OperatorMessageCounterReply3),OperatorMessageCounterReply=setTimeout(function(){MessageAwaiter1()},OneMinTimer))}function AckAwaiter(){!variablesForChat.invitationAck&&variablesForChat.optrCount<=1&&(variablesForChat.awaiterCount++,LastMessageBy=="Visitor"&&LaJq.connection.hub&&LaJq.connection.hub.state===LaJq.signalR.connectionState.connected&&chat.server.getUserIdOrConnId(variablesForChat.actualUserId).done(function(e){e!=""?(variablesForChat.invitationAck=!1,inviteOperator(!1,variablesForChat.chatId,variablesForChat.websiteId,variablesForChat.visitorId,variablesForChat.visitorName,variablesForChat.VisitorJID,variablesForChat.WebsiteGreet,variablesForChat.userSName,variablesForChat.actualUserId)):variablesForChat.isAlreadyInChat&&acknowledgeChat("1")}).fail(function(){}),clearTimeout(variablesForChat.OperatorAckCounterReply),clearTimeout(variablesForChat.OperatorAckCounterReply2),variablesForChat.awaiterCount<2&&(variablesForChat.OperatorAckCounterReply2=setTimeout(function(){AckAwaiter()},15e3)))}function acknowledgeChat(a){var ackChatObj={DomainName:variablesForChat.host,VisitorId:variablesForChat.visitorId,Lang:variablesForChat.userLanguage,UserId:variablesForChat.actualUserId,UserName:variablesForChat.userName};a=="1"&&serviceCall("ChatPreByLanAutoTrf",serviceResponse.onGetChatPrerequisiteAckResponse,ackChatObj);a=="2"&&serviceCall("ChatPreByLanAutoTrf",serviceResponse.onGetChatPrerequisiteMessageAckDisconnectResponse,ackChatObj);a=="3"&&serviceCall("ChatPreByLanAutoTrf",serviceResponse.onGetChatPrerequisiteMessageAckResponse,ackChatObj);a=="4"&&serviceCall("ChatPreByLanAutoTrf",serviceResponse.onGetChatPrerequisiteMessageAckForceblyResponse,ackChatObj)}function transferChatToOtherUser(msgs,t){var dateTime=new Date;variablesForChat.connection.send($msg({to:variablesForChat.room,chat_id:variablesForChat.chatId,custom_packet:!0,user_id:"-"+t,manager_id:variablesForChat.actualUserId,time_stamp:helperFunctions.myUTCDateString(dateTime),website_id:variablesForChat.websiteId,visitor_name:"System",type:"groupchat"}).c("body").t(msgs))}function removeChatFromThisUser(){variablesForChat.connection.send($msg({to:variablesForChat.room,chat_id:variablesForChat.chatId,custom_packet:!1,user_id:variablesForChat.actualUserId,manager_id:0,time_stamp:"",website_id:variablesForChat.websiteId,visitor_name:"System",type:"groupchat"}).c("gone",{xmlns:"http://jabber.org/protocol/chatstates"}))}function firstUserParamAssignment(t){variablesForChat.WebsiteGreet=t.AG_M;variablesForChat.userName=t.U_N;variablesForChat.UserNameCustom=t.U_N;variablesForChat.userSName=t.U_N;variablesForChat.actualUserId=t.U_I;variablesForChat.autoGreetTime=t.AG_T;variablesForChat.autoGreetMessage=t.AG_M;variablesForChat.WebsiteGreet=variablesForChat.autoGreetMessage;variablesForChat.lc_servicestatus=t.S_ST;variablesForChat.userLanguage=t.U_L;var allData={UserId:variablesForChat.actualUserId,ChatId:variablesForChat.chatId};serviceCall("UUserByLan",serviceResponse.UpdateChatAckResponse,allData)}function MessageAwaiter1(){LastMessageBy=="Visitor"&&(LaJq.connection.hub&&LaJq.connection.hub.state===LaJq.signalR.connectionState.connected&&chat.server.getUserIdOrConnId(variablesForChat.actualUserId).done(function(e){e==""&&acknowledgeChat("2")}),clearTimeout(OperatorMessageCounterReply2),clearTimeout(OperatorMessageCounterReply3),OperatorMessageCounterReply2=setTimeout(function(){MessageAwaiter2()},OneMinTimer))}function MessageAwaiter2(){LastMessageBy=="Visitor"&&variablesForChat.isAlreadyInChat&&LaJq.connection.hub&&LaJq.connection.hub.state===LaJq.signalR.connectionState.connected&&acknowledgeChat("3")}function MessageAwaiter3(){LastMessageBy=="Visitor"&&LaJq.connection.hub&&LaJq.connection.hub.state===LaJq.signalR.connectionState.connected&&acknowledgeChat("4")}function onKeyPressFunc(){var txtMessageWinVal=LaJq("#txtMessageWin").val(),tmpMessage;LaJq("#txtMessageWin").val().toString().length>=1e3&&(tmpMessage=LaJq("#txtMessageWin").val().toString(),LaJq("#txtMessageWin").val(tmpMessage.substr(0,1e3)));variablesForChat.unblock&&(variablesForChat.unblock=!1,BlockKey())}function SendChatMessage(msg){if(typeof msg.detail.msg!="undefined"&&(msg=msg.detail.msg()),variablesForChat.firstMessage?(variablesForChat.first_message_text=msg,window.clearTimeout(variablesForChat.CloseGreet),variablesForChat.firstMessage=!1,variablesForChat.isOnlyGreeted=!1,insertChat()):variablesForChat.XMPPConnected&&variablesForChat.ArrayDataToThrow.length==0&&sendXmppMessage(msg),!variablesForChat.XMPPConnected||variablesForChat.ArrayDataToThrow.length!=0){variablesForChat.ArrayDataToThrow[variablesForChat.dataThrow]=msg;variablesForChat.dataThrow++;return}sendSignalRMethod("invokeMessage",variablesForChat.chatId," ","visitor")}function unBlockKey(){var d=new Date;variablesForChat.unblock=!0}function BlockKey(){var d=new Date;document.getElementById("txtMessageWin").value="";setTimeout(function(){unBlockKey()},500)}function myUTCDateString(e){return e.getUTCFullYear()+"-"+(e.getUTCMonth()+1)+"-"+e.getUTCDate()+" "+e.getUTCHours()+":"+e.getUTCMinutes()+":"+e.getUTCSeconds()}function sendXmppMessage(e){var currentTime,phoneNumber,phoneNumberString;if(variablesForChat.XMPPConnected==!0&&httpConnected){typeof chatConfig.showIspyMessages!="undefined"&&chatConfig.showIspyMessages&&LaJq(".ispyMsg").length!=0&&(LaJq(".ispyMsg").each(function(index){var msg=LaJq(this).find("span#Newopconv").text(),t=new Date;msg=msg.replace(/^\s+|\s+$/g,"");setTimeout(function(){variablesForChat.connection.send($msg({to:variablesForChat.room,chat_id:variablesForChat.chatId,custom_packet:!0,user_id:-1*variablesForChat.actualUserId,manager_id:variablesForChat.actualUserId,time_stamp:myUTCDateString(t),website_id:variablesForChat.websiteId,visitor_name:variablesForChat.username,type:"groupchat"}).c("body").t(msg))},500)}),LaJq(".ispyMsg").removeClass("ispyMsg"));helperFunctions.createCookie("LC_SENDING",!1,0);LaJq(".sending").html("Sent");var resultCookie=helperFunctions.readCookieJson("WG_VIC_J"),usePreName=helperFunctions.readCookieJson("LaPreSurvey"),resultCookie=helperFunctions.readCookieJson("WG_VIC_J");if(typeof usePreName!="undefined"&&usePreName!=""?variablesForChat.visitorName=usePreName.PreSurveyName:resultCookie!=""&&(variablesForChat.visitorName=resultCookie.V_N),currentTime=new Date,typeof chatConfig.hasLead!="undefined"&&chatConfig.hasLead){var leadDetected=!1,depLead=!1,currentEmail=e.match(/[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,3}/);e.match(/[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,3}/)!=null&&(leadDetected=!0,depLead=!0);phoneNumber=e.match(/(?=.*?[1-9])[0-9()-]{7}/);phoneNumber!=null&&(phoneNumberString=e.match(/(?=.*?[1-9])[0-9()-]{7}/).toString().replace(/,/g,""),leadDetected=!0,depLead=!0);leadDetected&&typeof helperFunctions.readCookie("leadDetected")=="undefined"&&(helperFunctions.createCookie("leadDetected","1",720),typeof chatConfig.GA4!="undefined"&&chatConfig.GA4&&typeof gtag!="undefined"&&gtag("event","_hasLead",{method:"_hasLead"}),typeof ga!="undefined"&&ga("send","event","LiveChat","_hasLead",{nonInteraction:1}))}setTimeout(function(){variablesForChat.connection.send($msg({to:variablesForChat.room,chat_id:variablesForChat.chatId,custom_packet:!0,user_id:0,manager_id:0,time_stamp:myUTCDateString(currentTime),website_id:variablesForChat.websiteId,visitor_name:variablesForChat.visitorName,type:"groupchat"}).c("body").t(e))},500)}else sendXmppMessage(e)}function startChatProcess(){if(chatConfig.preChatSurveyVar&&helperFunctions.readCookie("preSurveyForm")!="setthis")(chatConfig.preChatSurveyVar=!0||helperFunctions.readCookie("preSurveyForm")!="setthis")&&document.getElementById("live_chat_status").dispatchEvent(onOpenPresurveyFormEvent);else if(!variablesForChat.isAlreadyInChat&&variablesForChat.GUID!=null)var resultOfCookie=helperFunctions.readCookieJson("WG_WEB"),parIsNew=variablesForChat!=null&&variablesForChat.visitorId!=""&&variablesForChat.GUID==""?"true":"false"}function listnerRoomConnection(name,conn){variablesForChat.joined=!1;variablesForChat.participants={};variablesForChat.room="room"+variablesForChat.chatId+chatConfig.chatRoom;variablesForChat.nickname="Visitor"+Math.floor(Math.random()*1e4+1);variablesForChat.connection.send($pres({to:variablesForChat.room+"/"+variablesForChat.nickname}).c("x",{xmlns:variablesForChat.NS_MUC}));variablesForChat.VisitorJID=variablesForChat.connection.getJID()}function connectRoom(jid,pws){variablesForChat.connection=new Strophe.Connection(chatConfig.XMPP_SERVICE);variablesForChat.IsConnecting=!0;variablesForChat.connection.connect(jid,null,function(status){var triggerDisconnected,_listnerDisconnection;if(variablesForChat.connectionRoomStatus=status,status===Strophe.Status.CONNECTED){httpConnected=!0;LaJq("#txtChatWin * :not(#opDiv,#opname,#opconv,#vstrDiv,#vstrname,#vstrconv)").remove();LaJq("#recont-loader").remove();variablesForChat.XMPPConnected=!0;var triggerRoomConnection=new eventConnected("connected"),_listnerConnection=new listnerRoomConnection("connectedGuest",triggerRoomConnection),isFire=triggerRoomConnection.connected.fire();document.getElementById("live_chat_img").style.display="block"}else status===Strophe.Status.DISCONNECTED&&(triggerDisconnected=new eventDisconnected("disconnected"),_listnerDisconnection=new listnerDisconnection("disconnectedGuest",triggerDisconnected));status==Strophe.Status.CONNECTING?variablesForChat.CONNECTING=!0:status==Strophe.Status.CONNFAIL?variablesForChat.CONNFAIL=!0:status==Strophe.Status.DISCONNECTING?variablesForChat.DISCONNECTING=!0:status==Strophe.Status.DISCONNECTED?variablesForChat.DISCONNECTED=!0:status==Strophe.Status.AUTHENTICATING?variablesForChat.AUTHENTICATING=!0:status==Strophe.Status.AUTHFAIL?variablesForChat.AUTHFAIL=!0:status==Strophe.Status.ERROR&&(variablesForChat.ERROR=!0)});sendSignalRMethod("registerMe",variablesForChat.visitorName,variablesForChat.visitorId);CallSignalR()}function chatLogicSignalRClientMethods(){chat.client.InvitationAckRes=function(visitorId,chatId){variablesForChat.invitationAck=!0;FirstMessageByVisitor="Yes";clearTimeout(OperatorAckCounterReply);clearTimeout(OperatorAckCounterReply2)}}function connect(jid,pws){variablesForChat.connection=new Strophe.Connection(chatConfig.XMPP_SERVICE);variablesForChat.connection.connect(jid,null,function(status){var triggerDisconnected,_listnerDisconnection;if(variablesForChat.connectionStatus=status,IsConnecting=!0,status===Strophe.Status.CONNECTED){httpConnected=!0;variablesForChat.XMPPConnected=!0;var triggerConnection=new eventConnected("connected"),_listnerConnection=new listnerConnection("connectedGuest",triggerConnection),isFire=triggerConnection.connected.fire()}else status===Strophe.Status.DISCONNECTED&&(triggerDisconnected=new eventDisconnected("disconnected"),_listnerDisconnection=new listnerDisconnection("disconnectedGuest",triggerDisconnected));status==Strophe.Status.CONNECTING?variablesForChat.CONNECTING=!0:status==Strophe.Status.CONNFAIL?variablesForChat.CONNFAIL=!0:status==Strophe.Status.DISCONNECTING?variablesForChat.DISCONNECTING=!0:status==Strophe.Status.DISCONNECTED?(variablesForChat.DISCONNECTED=!0,variablesForChat.XMPPConnectedRetry||(variablesForChat.retryCount++,variablesForChat.retryCount<=5&&connect(chatConfig.XMPP_SERVER,"123"))):status==Strophe.Status.AUTHENTICATING?variablesForChat.AUTHENTICATING=!0:status==Strophe.Status.AUTHFAIL?variablesForChat.AUTHFAIL=!0:status==Strophe.Status.ERROR&&(variablesForChat.ERROR=!0)})}function checkConnection(){if(variablesForChat.XMPPConnected)initiateChatRoom(),variablesForChat.isAlreadyInChat=!0;else{setTimeout(function(){checkConnection()},1e3);return}}function CloseOnlyGreet(){if(document.getElementById("live_chat_status").dispatchEvent(onEndChatEvent),variablesForChat.XMPPConnectedRetry=!0,variablesForChat.firstKey=!1,helperFunctions.createCookie("WG_CEC","variablesForChat.endStatus=1",1),variablesForChat.windowDisplayed=!1,variablesForChat.isAlreadyInChat=!1,variablesForChat.firstMessage=!0,variablesForChat.IsConnecting){var n=variablesForChat.connection;n.sync=!0;n.flush();n.disconnect()}variablesForChat.IsConnecting=!1}function showTypingstatusDiv(){null!=document.getElementById("typingstatus")&&"undefined"!=document.getElementById("typingstatus")&&(this.statusDIV=document.getElementById("typingstatus"),this.statusDIV.style.visibility="visible")}function hideTypingstatusDiv(){null!=document.getElementById("typingstatus")&&"undefined"!=document.getElementById("typingstatus")&&(this.statusDIV=document.getElementById("typingstatus"),this.statusDIV.style.visibility="hidden")}function CloseChatWindow(e){var chat_event_data,i,endCall;variablesForChat.greetInserted=!1;helperFunctions.createCookie("opName",null,-24);helperFunctions.createCookie("LC_SN",null,-24);variablesForChat.presenceHandler=null;variablesForChat.messageHandler=null;helperFunctions.createCookie("leadDetected",null,-24);LaJq("#recont-loader").remove();LaJq("#ChatDiv").css("display","none");LaJq("#live_chat_status").css("display","block");onEndChatEvent.eventPhase!=2&&document.getElementById("live_chat_status").dispatchEvent(onEndChatEvent);helperFunctions.deleteCookie("LC_MINIMIZE");variablesForChat.isAlreadyInChat=!1;variablesForChat.XMPPConnected=!1;variablesForChat.firstKey=!1;variablesForChat.windowDisplayed=!1;variablesForChat.firstMessage=!0;variablesForChat.xmpp_invite=!1;e||typeof window.depChatEvents!="undefined"&&(chat_event_data={position:"floating",agent_initiated:!1},window.depChatEvents.chatComplete(chat_event_data),console.log("firing chatcomplete on chat close without chat started"));!variablesForChat.isOnlyGreeted&&e?(variablesForChat.XMPPConnectedRetry=!0,i=new Date,endCall={Chatid:variablesForChat.chatId},serviceCall("EndChat",serviceResponse.onEndChatResponse,endCall)):helperFunctions.createCookie("WG_CEC","variablesForChat.endStatus=1",1)}function closeChat(a,e){a&&CloseChatWindow(e)}function InsertVisitorIdOnly(){var obj={parVI:"visitorId",parWI:variablesForChat.websiteId,method:helperFunctions.ReplaceSpecialCharacters(window.location.toString()),parRef:helperFunctions.ReplaceSpecialCharacters(document.referrer),parWU:helperFunctions.ReplaceSpecialCharacters(window.location.toString()),method:"serviceResponse.InsertVisitorIdOnlyResponse"};serviceCall("InVsIn",serviceResponse.InsertVisitorIdOnlyResponse,obj)}function insertGreetingAndAppend(operatorName,greetingMessage){var isVb,onGettingOperatorMessageEvent,datas,chat_event_data;variablesForChat.greetInserted=!0;typeof helperFunctions.readCookie("WG_CEC")=="undefined"&&(clearTimeout(variablesForChat.GreetingTimer),isVb=!1,sessionStorage.getItem("lastActivity")!=null&&(isVb=!0),onGettingOperatorMessageEvent=new CustomEvent("onGettingOperatorMessage",{detail:{name:operatorName,msg:greetingMessage,emp:variablesForChat.EMP,uid:variablesForChat.actualUserId},bubbles:!0,cancelable:!0}),document.getElementById("live_chat_status").dispatchEvent(onGettingOperatorMessageEvent),datas={Userid:variablesForChat.actualUserId,VisitorId:variablesForChat.visitorId,WebsiteId:variablesForChat.websiteId,Url:helperFunctions.ReplaceSpecialCharacters(window.location.toString()),GreetType:variablesForChat.gType,IsVb:isVb},serviceCall("InsGrtInfo",serviceResponse.onInsertGreetInfoResponse,datas));typeof window.depChatEvents!="undefined"&&(chat_event_data={message:greetingMessage},window.depChatEvents.chatGreeting(chat_event_data),console.log("chat greet"))}function getLanguages(){var t=new Date,datas={DomainName:variablesForChat.host};serviceCall("GetLan",serviceResponse.loadLanguages,datas)}function liveChatGreet(myGreetType){if(variablesForChat.optrCount=0,LaJq("#toolbar-main *").removeClass("activeIcon"),LaJq("#toolbar-main .live_chat_status").addClass("activeIcon"),LaJq("#ChatDiv #txtChatWin > div").remove(),LaJq("#txtMessageWin").prop("disabled",!1),LaJq(".sessionOutMsg").length>0&&LaJq(".sessionOutMsg").remove(),variablesForChat.gType=myGreetType,typeof myGreetType.detail!="undefined"&&(myGreetType=myGreetType.detail.type),!variablesForChat.windowDisplayed){helperFunctions.createCookie("WG_CEC",null,-24);variablesForChat.windowDisplayed=!0;variablesForChat.WithoutGreet=!0;variablesForChat.firstMessage=!0;variablesForChat.room=null;var DNDCookie=helperFunctions.readCookie("WG_DND");(DNDCookie!=undefined||DNDCookie=="WG_DND=1")&&helperFunctions.createCookie("WG_DND","WG_DND=2",8064);getDataFromServer()}}function downloadTrascript(){function autoClicked(){document.getElementById("downloadableLink").click()}function convertFileResponse(e){var fullLink="https://blue.thelivechatsoftware.com/webapi/ClientsFiles/"+e+"?v="+helperFunctions.getRandomValue();LaJq("#downloadableLink").attr("href",fullLink);LaJq("#downloadableLink").attr("download",fullLink);setTimeout(function(){autoClicked()},1e3)}var convertData={ChatId:variablesForChat.chatId};serviceCall("ConvertFile",convertFileResponse,convertData)}function sendXmppChatDestroy(){var now,utc,msg,conn;for(variablesForChat.XMPPConnectedRetry=!0,now=new Date,utc=now.toUTCString().replace("UTC","GMT"),variablesForChat.room!=null?(closeChat(!0,!0),variablesForChat.connection.send($msg({to:variablesForChat.room,chat_id:variablesForChat.chatId,custom_packet:"true",user_id:0,manager_id:0,time_stamp:helperFunctions.myUTCDateString(now),website_id:variablesForChat.websiteId,visitor_name:variablesForChat.visitorName,end_time:"true",type:"groupchat"}).c("body").t("[destroy room]")),conn=variablesForChat.connection,conn.sync=!0,msg=$pres({to:variablesForChat.room,type:"unavailable"}),conn.send(msg.tree()),conn.flush(),conn.disconnect()):(variablesForChat.IsConnecting&&(conn=variablesForChat.connection,conn.sync=!0,conn.flush(),conn.disconnect()),closeChat(!0,!1));variablesForChat.ArrayUsers.length;)variablesForChat.ArrayUsers.pop();variablesForChat.dataAddUsers=0;variablesForChat.hide=!1}function changeLanguage(e){if(helperFunctions.createCookie("opName",null,-24),e==5?LaJq("#txtMessageWin").css("direction","rtl"):LaJq("#txtMessageWin").css("direction","ltr"),variablesForChat.currentLanguageId!==e){variablesForChat.currentLanguageId=e;var languageObj={Domain:variablesForChat.host,Language:e};serviceCall("GetUOnMiChatsByLan",serviceResponse.languageChanged,languageObj)}}var parent=this,variablesForChat={actualUserIds:null,firstKey:!1,body:"",lc_servicestatus:"",isAlreadyInChat:!1,isAlreadyInChatValue:"",SessionCookie:null,referrer:null,refDomain:null,websiteId:null,host:null,priorityLanguage:"",webLang:"",timeZone:"",GUID:null,visitorId:"",visitorName:"",IPBlocked:"",statusErased:"",XMPPConnected:!1,room:null,chatId:null,nickname:null,VisitorJID:0,joined:null,participants:null,connectionStatus:null,connectionRoomStatus:null,WebsiteGreet:null,actualUserId:null,actualUserIdCustom:null,UserNameCustom:"",greetId:null,autoGreetMessage:"",userName:"",connectionStatus:!1,connection:null,connection:null,IsConnecting:!1,XMPPConnected:!1,XMPPConnectedRetry:!1,retryCount:0,ERROR:!1,CONNFAIL:!1,AUTHENTICATING:!1,AUTHFAIL:!1,DISCONNECTED:!1,DISCONNECTING:!1,ATTACHED:!1,xmpp_invite:!1,NS_MUC:"http://jabber.org/protocol/muc",ArrayDataToThrow:[],dataThrow:0,unblock:!0,firstMessage:!0,CloseGreet:"",dataAddUsers:0,ArrayUsers:[],gType:"Active",WithoutGreet:!1,greetInserted:!1,showTypingDiv:"",hideTypingDiv:"",autoGreetTime:"",signalRConnected:!1,chat:null,LastMessageBy:"",FirstMessageByVisitor:"",OperatorMessageCounterReply:null,OperatorMessageCounterReply2:null,OperatorMessageCounterReply3:null,OneMinTimer:6e4,ThirtySec:3e4,OperatorAckCounterReply:null,OperatorAckCounterReply2:null,OperatorAckCounterReply3:null,invitationAck:!1,pauseOtherTab:!1,pauseOtherTabFiller:!1,EMP:"",awaiterCount:0,zeroVisitorCount:0,websiteLang:"0",sudoNames:"F",sudoPics:"F",useLoaderApi:!0,customGreeting:!1,useLoaderKey:"",presenceHandler:null,messageHandler:null,opPic:"",optrCount:0},serviceResponse,alertSound;window.addEventListener("load",function(){function updateOnlineStatus(event){var resultCookie=helperFunctions.readCookieJson("WG_VIC_J"),condition=navigator.onLine?"online":"offline",recon;variablesForChat.isAlreadyInChat&&condition=="online"?(recon={ChatId:resultCookie.C_I},serviceCall("IsR",reconResponse,recon)):variablesForChat.isAlreadyInChat&&condition=="offline"&&(LaJq("#recont-loader").remove(),LaJq("#ChatDiv").append('<div id="recont-loader" style="background-color: rgba(0, 0, 0, 0.6);height: 100%;width: 100%;position: absolute;top: 0;"><span class="loader-txt" style="position: absolute;top: 60%;text-align: center;left: 0;right: 0;color: #fff;font-family: &quot;Titillium Web&quot; !important;cursor: context-menu;">Reconnecting<\/span><\/div>'))}window.addEventListener("online",updateOnlineStatus);window.addEventListener("offline",updateOnlineStatus)});LaJq(document).on("click",".chatadvancesend",function(){var par=LaJq(this).parent().parent().clone(),total=LaJq(this).parent().parent().clone().html(),link=par.children(".chatadvancecarright").children("a")[1],remove=par.children(".chatadvancecarright").remove().html();autoTxtFocusing(function(){LaJq("#chatSidebarButton").trigger("click");SendChatVehicle('[VL1NK]<div class="chatadvancecar">'+total.replace(remove,"")+"<\/div>");SendChatVehicle("[CL1NK]"+link)})});variablesForChat.host=location.hostname.toString();variablesForChat.host=variablesForChat.host.match(/^www\./)?variablesForChat.host.substring(4):location.hostname.toString();var chatServiceLink=window.location.protocol+"//blue.thelivechatsoftware.com/VisitorServiceXMPPSSL/ChatService.svc/",onShowWindowEvent=new CustomEvent("onShowWindow"),showWindowAfterClickedEvent=new CustomEvent("showWindowAfterClicked"),showChatBtnEvent=new CustomEvent("showChatBtn"),preRequisiteWidgetEvent=new CustomEvent("preRequisiteWidget"),onStartServiceCallsEvent=new CustomEvent("onStartServiceCalls"),onShowOfflineFormEvent=new CustomEvent("onShowOfflineForm"),onEndChatEvent=new CustomEvent("onEndChat"),onPassiveChatEvent=new CustomEvent("onPassiveChat",{detail:{type:"Passive"}}),onOpenPresurveyFormEvent=new CustomEvent("onOpenPresurveyForm"),onOfflineChatEvent=new CustomEvent("onOfflineChat"),onChatSessionOutEvent=new CustomEvent("onChatSessionOut",{detail:{type:"Passive"}}),helperFunctions={getRandomValue:function(){var dt=new Date;return dt.getTime().toString()},getDomainName:function(referrer){return variablesForChat.referrer?variablesForChat.referrer.split(/\/+/g)[1]:""},ReplaceSpecialCharacters:function(stringValue){var updatedString="";return updatedString=stringValue.replace(/#/g,"%23"),updatedString.replace(/&/g,"%26")},getReferrer:function(){var ref="";return document.referrer&&document.referrer!=""&&(ref=helperFunctions.ReplaceSpecialCharacters(document.referrer.toString())),ref},createCookie:function(cookieName,value,hours){var host=location.hostname.toString(),host=host.match(/^www\./)?host.substring(4):location.hostname.toString(),expires="",date=new Date;hours&&(date.setTime(date.getTime()+hours*36e5),expires="; expires="+date.toGMTString());document.cookie=cookieName+"="+encodeURIComponent(value)+expires+"; path=/; domain="+host+";"},readCookie:function(name){for(var nameEQ=name+"=",ca=document.cookie.split(";"),c,i=0;i<ca.length;i++){for(c=ca[i];c.charAt(0)==" ";)c=c.substring(1,c.length);if(c.indexOf(nameEQ)==0)return decodeURIComponent(c.substring(nameEQ.length,c.length))}},readCookieJson:function(name){for(var returnData="",nameEQ=name+"=",ca=document.cookie.split(";"),c,newData,i=0;i<ca.length;i++){for(c=ca[i];c.charAt(0)==" ";)c=c.substring(1,c.length);c.indexOf(nameEQ)==0&&(returnData=decodeURIComponent(c.substring(nameEQ.length,c.length)))}return returnData!=""?(newData=returnData.replace(/'/g,'"'),JSON.parse(newData)):""},deleteCookie:function(name){document.cookie=name+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT; path=/; domain="+helperFunctions.parseURL(variablesForChat.host)+";"},myUTCDateString:function(e){return e.getUTCFullYear()+"-"+(e.getUTCMonth()+1)+"-"+e.getUTCDate()+" "+e.getUTCHours()+":"+e.getUTCMinutes()+":"+e.getUTCSeconds()},parseURL:function(url){var remaining_url=url.substr(0,url.length),domain_i=remaining_url.indexOf("/");return domain_i=domain_i==-1?remaining_url.length:domain_i,remaining_url.substr(0,domain_i)},createElement:function(obj){var Element=document.createElement(obj.element);return typeof obj.id!="undefined"&&(Element.id=obj.id),typeof obj.className!="undefined"&&(Element.className=obj.className),typeof obj.type!="undefined"&&(Element.type=obj.type),typeof obj.html!="undefined"&&(Element.innerHTML=obj.html),typeof obj.href!="undefined"&&(Element.href=obj.href),typeof obj.value!="undefined"&&(Element.value=obj.value),typeof obj.BackgroundColor!="undefined"&&(Element.style.backgroundColor=obj.BackgroundColor),typeof obj.BackgroundImage!="undefined"&&(Element.style.backgroundImage="url('"+obj.BackgroundImage+"')"),typeof obj.color!="undefined"&&(Element.style.color=obj.color),typeof obj.target!="undefined"&&(Element.target=obj.target),typeof obj.click!="undefined"&&(Element.onclick=obj.click),typeof obj.keyPress!="undefined"&&(Element.onkeypress=obj.keyPress),typeof obj.placeholder!="undefined"&&(Element.placeholder=obj.placeholder),typeof obj.appendTo=="undefined"?Element:(obj.appendTo.appendChild(Element),Element)}};document.getElementById("live_chat_status").addEventListener("onStartServiceCalls",getDataFromServer,!1);document.getElementById("live_chat_status").addEventListener("onVBGreetChange",changeGreetingByVb,!1);document.getElementById("live_chat_status").addEventListener("onUpRateChat",chatUpRateCall,!1);document.getElementById("live_chat_status").addEventListener("onDownRateChat",chatDownRateCall,!1);document.getElementById("live_chat_status").addEventListener("onSendClickEve",SendChatMessage,!1);document.getElementById("live_chat_status").addEventListener("offlineServiceCall",serviceCall,!1);document.getElementById("live_chat_status").addEventListener("offlineServiceCallPre",serviceCall,!1);document.getElementById("live_chat_status").addEventListener("onPreChatStartChatProcess",getDataFromServer,!1);document.getElementById("live_chat_status").addEventListener("onMakingSignalRConnection",chatLogicSignalRClientMethods,!1);document.getElementById("live_chat_status").addEventListener("onShowWindowAfterClose",function(){liveChatGreet("Passive")},!1);document.getElementById("live_chat_status").addEventListener("onChatSessionOut",function(){liveChatGreet("Passive")},!1);document.getElementById("live_chat_status").addEventListener("onLangDropDown",getLanguages,!1);document.getElementById("live_chat_status").addEventListener("onDownloadTranscript",downloadTrascript,!1);document.getElementById("live_chat_status").addEventListener("onCloseChatWindow",sendXmppChatDestroy,!1);serviceResponse={onGetChatPrerequisiteAckResponse:function(e){serviceResponse.logicAcknowledgeDelay(e)},logicAcknowledgeDelay:function(e){var t=LaJq.parseJSON(e),chatStatus=t.S_ST,msgs,dt;null!=e?variablesForChat.optrCount<=1&&"1"==t.I_AIC&&t.U_N!=""&&variablesForChat.UserNameCustom.toLowerCase()!=t.U_N.toLowerCase()?(variablesForChat.chatId=t.C_I,variablesForChat.room="room"+variablesForChat.chatId+chatConfig.chatRoom,msgs="[AUTOTRFCHAT]_Transferred Acknowledge Delay By "+variablesForChat.UserNameCustom+" to "+t.U_N,dt=new Date,msgs=msgs.replace(/^\s+|\s+$/g,""),transferChatToOtherUser(msgs,t.U_I),removeChatFromThisUser(),firstUserParamAssignment(t),variablesForChat.invitationAck=!1,inviteOperator(!0,variablesForChat.chatId,variablesForChat.websiteId,variablesForChat.visitorId,variablesForChat.visitorName,variablesForChat.VisitorJID,t.AG_M,t.U_N,t.U_I)):variablesForChat.optrCount<=1&&"1"==t.I_AIC&&t.U_N!=""&&variablesForChat.UserNameCustom.toLowerCase()==t.U_N.toLowerCase()&&(chat.server.markingChatAckLogs(variablesForChat.visitorId,variablesForChat.chatId,variablesForChat.actualUserId,"logs","Same Greeter "+variablesForChat.userName+" Available So there is No Transfer ").done(function(bool){}).fail(function(){}),OperatorMessageCounterReply=setTimeout(function(){MessageAwaiter1()},OneMinTimer)):(clearTimeout(OperatorMessageCounterReply),OperatorMessageCounterReply=setTimeout(function(){MessageAwaiter1()},OneMinTimer))},onGetChatPrerequisiteMessageAckDisconnectResponse:function(e){serviceResponse.logicMessageAckDisconnect(e)},logicMessageAckDisconnect:function(e){var t=LaJq.parseJSON(e),chatStatus=t.S_ST;null==e||pauseOtherTab||chatStatus=="-1"?(clearTimeout(OperatorMessageCounterReply),OperatorMessageCounterReply=setTimeout(function(){MessageAwaiter1()},OneMinTimer)):"1"==t.I_AIC&&t.U_N!=""&&variablesForChat.UserNameCustom.toLowerCase()!=t.U_N.toLowerCase()?LaJq.connection.hub&&LaJq.connection.hub.state===LaJq.signalR.connectionState.connected&&chat.server.updateChatTrfTime(variablesForChat.visitorId,variablesForChat.chatId,variablesForChat.actualUserId,t.U_I).done(function(goingToTrf){if(goingToTrf){variablesForChat.chatId=t.C_I;variablesForChat.room="room"+variablesForChat.chatId+chatConfig.chatRoom;var msgs="[AUTOTRFCHAT]_Transferred Message Delay By "+variablesForChat.UserNameCustom+" to "+t.U_N,dt=new Date;msgs=msgs.replace(/^\s+|\s+$/g,"");transferChatToOtherUser(msgs,t.U_I);removeChatFromThisUser();firstUserParamAssignment(t);variablesForChat.invitationAck=!1;inviteOperator(!0,variablesForChat.chatId,variablesForChat.websiteId,variablesForChat.visitorId,variablesForChat.visitorName,variablesForChat.VisitorJID,t.AG_M,t.U_N,t.U_I)}}).fail(function(e){}):"1"==t.I_AIC&&t.U_N!=""&&variablesForChat.UserNameCustom.toLowerCase()==t.U_N.toLowerCase()&&(clearTimeout(OperatorMessageCounterReply),clearTimeout(OperatorMessageCounterReply2),clearTimeout(OperatorMessageCounterReply3),OperatorMessageCounterReply=setTimeout(function(){MessageAwaiter1()},OneMinTimer))},onGetChatPrerequisiteMessageAckResponse:function(e){serviceResponse.logicMessageDelay(e,!0)},logicMessageDelay:function(e,filler){chat.server.updateChatFillerTime(variablesForChat.visitorId,variablesForChat.chatId).done(function(statusOfFiller){if(statusOfFiller&&variablesForChat.priorityLanguage=="1"&&!pauseOtherTabFiller&&filler&&LastMessageBy=="Visitor"){variablesForChat.room="room"+variablesForChat.chatId+chatConfig.chatRoom;var msgs="Your patience is much appreciated. I'll be with you in a moment.";msgs=msgs.replace(/^\s+|\s+$/g,"");variablesForChat.connection.send($msg({to:variablesForChat.room,chat_id:variablesForChat.chatId,custom_packet:!0,user_id:"-4886",manager_id:"4886",time_stamp:helperFunctions.myUTCDateString(new Date),website_id:variablesForChat.websiteId,visitor_name:variablesForChat.userName,type:"groupchat"}).c("body").t(msgs))}}).fail(function(){});var t=LaJq.parseJSON(e),chatStatus=t.S_ST;null==e||pauseOtherTab||chatStatus=="-1"||t.C_T?null!=e&&!pauseOtherTab&&chatStatus!="-1"&&t.C_T?"1"==t.I_AIC&&LaJq.connection.hub&&LaJq.connection.hub.state===LaJq.signalR.connectionState.connected&&LastMessageBy=="Visitor"&&LaJq.connection.hub&&LaJq.connection.hub.state===LaJq.signalR.connectionState.connected&&chat.server.getUserIdOrConnId(variablesForChat.actualUserId).done(function(connectionId){connectionId==""?acknowledgeChat("2"):(clearTimeout(OperatorMessageCounterReply3),OperatorMessageCounterReply3=setTimeout(function(){MessageAwaiter3()},OneMinTimer))}):(clearTimeout(OperatorMessageCounterReply),OperatorMessageCounterReply=setTimeout(function(){MessageAwaiter1()},OneMinTimer)):LastMessageBy=="Visitor"&&LaJq.connection.hub&&LaJq.connection.hub.state===LaJq.signalR.connectionState.connected&&chat.server.getUserIdOrConnId(variablesForChat.actualUserId).done(function(connectionId){connectionId==""&&acknowledgeChat("2")})},onGetChatPrerequisiteMessageAckForceblyResponse:function(e){serviceResponse.logicMessageAckForcebly(e)},logicMessageAckForcebly:function(e){var t=LaJq.parseJSON(e),chatStatus=t.S_ST;null==e||pauseOtherTab||chatStatus=="-1"||"1"==t.I_AIC&&t.U_N!=""&&variablesForChat.UserNameCustom.toLowerCase()!=t.U_N.toLowerCase()&&t.C_T&&LaJq.connection.hub&&LaJq.connection.hub.state===LaJq.signalR.connectionState.connected&&chat.server.updateChatTrfTime(variablesForChat.visitorId,variablesForChat.chatId,variablesForChat.actualUserId,t.U_I).done(function(goingToTrf){if(goingToTrf){variablesForChat.chatId=t.C_I;variablesForChat.room="room"+variablesForChat.chatId+chatConfig.chatRoom;var msgs="[AUTOTRFCHAT]_Transferred Message Delay By "+variablesForChat.UserNameCustom+" to "+t.U_N,dt=new Date;msgs=msgs.replace(/^\s+|\s+$/g,"");transferChatToOtherUser(msgs,t.U_I);removeChatFromThisUser();firstUserParamAssignment(t);variablesForChat.invitationAck=!1;inviteOperator(!0,variablesForChat.chatId,variablesForChat.websiteId,variablesForChat.visitorId,variablesForChat.visitorName,variablesForChat.VisitorJID,t.AG_M,t.U_N,t.U_I);clearTimeout(OperatorMessageCounterReply);clearTimeout(OperatorMessageCounterReply2);clearTimeout(OperatorMessageCounterReply3)}}).fail(function(e){})},UpdateChatAckResponse:function(e){},offlineEmailSentResponse:function(){},languageChanged:function(result){var oldUserId,newName,pathImage,name,onGettingOperatorMessageEvent,selectedLang,i,textToShow,datas;if(variablesForChat.IsAlreadyGreeted=!0,oldUserId=variablesForChat.actualUserId,variablesForChat.actualUserId=result[0],variablesForChat.userName=result[1],chatConfig.pseudoName&&helperFunctions.readCookie("LC_SN")!=null){var fakeNamesArray=chatConfig.customPseudoName.split(","),currentFakeName=helperFunctions.readCookie("LC_SN"),indexOfName=fakeNamesArray.indexOf(currentFakeName);fakeNamesArray.splice(indexOfName,1);newName=fakeNamesArray[Math.floor(Math.random()*fakeNamesArray.length)];variablesForChat.userName=newName;pathImage=LaJq("#operatorPic").attr("src");name=pathImage.split("/").pop();LaJq("#operatorPic").attr("src",pathImage.replace(name,variablesForChat.userName+".png"));helperFunctions.createCookie("LC_SN",variablesForChat.userName,12)}LaJq(".cwin_username").html(variablesForChat.userName);variablesForChat.actualUserIdCustom=variablesForChat.actualUserId;onGettingOperatorMessageEvent=new CustomEvent("onGettingOperatorMessage",{detail:{name:"",msg:"Your language is now :"+LaJq("#allLanguages #"+variablesForChat.currentLanguageId).html()},bubbles:!0,cancelable:!0});document.getElementById("live_chat_status").dispatchEvent(onGettingOperatorMessageEvent);selectedLang=LaJq("#allLanguages #"+variablesForChat.currentLanguageId).html();LaJq("#currentLanguage").html(selectedLang);selectedLang=="(ar)"?(LaJq("#ChatDiv").css("direction","rtl"),LaJq("#allLanguages").css("right","215px")):(LaJq("#ChatDiv").css("direction","ltr"),LaJq("#allLanguages").css("right","31px"));var langArrayChange=["","English (en)","","fr","de","(ar)","es"],langArray=["","en","","fr","de","ar","es"],getLangFromResp=langArrayChange.toString().indexOf(selectedLang)>-1;for(i in config.setText[variablesForChat.webLang])i=="txtMessageWin"||i=="offlineName"||i=="offlineEmail"||i=="offlinePhone"||i=="offlineCommentBox"?(LaJq("#offlineForm #"+i).attr("placeholder",config.setText[variablesForChat.webLang][i]),LaJq("#ChatDiv #"+i).attr("placeholder",config.setText[variablesForChat.webLang][i])):i=="setOfflineButton"?LaJq("#"+i).val(config.setText[variablesForChat.webLang][i]):(textToShow=config.setText[langArray[variablesForChat.priorityLanguage]][i],textToShow.indexOf("<a")>-1?(LaJq("#ChatDiv #"+i).html(config.setText[variablesForChat.webLang][i]),LaJq("#offlineForm #"+i).html(config.setText[variablesForChat.webLang][i])):(LaJq("#ChatDiv #"+i).text(config.setText[variablesForChat.webLang][i]),LaJq("#offlineForm #"+i).text(config.setText[variablesForChat.webLang][i])));variablesForChat.blockLanguage=!0;setTimeout(function(){variablesForChat.blockLanguage=!1},1e4);variablesForChat.isAlreadyInChat&&variablesForChat.chatId!==null&&(variablesForChat.connection.send($msg({to:variablesForChat.room,chat_id:variablesForChat.chatId,custom_packet:!1,user_id:oldUserId,manager_id:0,time_stamp:"",website_id:variablesForChat.websiteId,visitor_name:variablesForChat.visitorName,type:"groupchat"}).c("gone",{xmlns:"http://jabber.org/protocol/chatstates"})),datas={UserId:variablesForChat.actualUserId,ChatId:encodeURIComponent(variablesForChat.chatId)},serviceCall("UUserByLan",serviceResponse.onInsertGreetInfoResponse,datas),variablesForChat.xmpp_invite=!1,inviteOperator(!0))},loadLanguages:function(result){var allLanguagesId=result[0].split(","),allLanguages=result[1].substring(0,result[1].length-1),languageObj,i,language,getLangAttr,langArray,getLangFromResp;if(allLanguages=allLanguages.split(","),languageObj={},variablesForChat.priorityLanguageId=result[2],LaJq("#allLanguages").html(""),allLanguagesId.length>2){for(i=0;i<allLanguages.length;i++)languageObj[allLanguagesId[i]]=allLanguages[i],language=helperFunctions.createElement({"class":"language",element:"li",id:allLanguagesId[i],html:allLanguages[i],appendTo:document.getElementById("allLanguages")});LaJq("#allLanguages li").click(function(){changeLanguage(LaJq(this).attr("id"));LaJq("#allLanguages").css("display","none")})}if(getLangAttr=LaJq("html").attr("lang"),langArray=["","en","","fr","de","ar","es"],typeof getLangAttr!="undefined"){var engDomain=getLangAttr.indexOf("en")>-1,frDomain=getLangAttr.indexOf("fr")>-1,deDomain=getLangAttr.indexOf("de")>-1,arDomain=getLangAttr.indexOf("ar")>-1,esDomain=getLangAttr.indexOf("es")>-1;engDomain&&(variablesForChat.websiteLang="en");frDomain&&(variablesForChat.websiteLang="fr");deDomain&&(variablesForChat.websiteLang="de");arDomain&&(variablesForChat.websiteLang="ar");esDomain&&(variablesForChat.websiteLang="es")}getLangFromResp=result.toString().indexOf(variablesForChat.websiteLang)>-1},onEndChatResponse:function(e){null!=e&&(e||""==e)&&(helperFunctions.createCookie("WG_CEC","variablesForChat.endStatus=1",1),variablesForChat.isAlreadyInChat=!1)},onInsertChatInfoResponse:function(result){var chat_event_data,resultCookie,date,chatStartTime,ref;if(typeof window.depChatEvents!="undefined"&&(chat_event_data={position:"floating",agent_initiated:!1},window.depChatEvents.chatStart(chat_event_data),console.log("chat start event when chat starts")),LaJq("#email-chat").css("display","block"),pauseOtherTabFiller=!1,pauseOtherTab=!1,variablesForChat.isAlreadyInChat=!0,variablesForChat.invitationAck=!1,variablesForChat.chatId=result[0],result[1]!=""&&variablesForChat.actualUserId!=result[1]&&(typeof chatConfig.claimChat!="undefined"&&chatConfig.claimChat?(variablesForChat.actualUserId=variablesForChat.actualUserId,variablesForChat.actualUserIdCustom=variablesForChat.actualUserId):(variablesForChat.actualUserId=result[1],variablesForChat.actualUserIdCustom=variablesForChat.actualUserId)),variablesForChat.UserNameCustom=result[2],resultCookie=helperFunctions.readCookieJson("WG_VIC_J"),resultCookie!=""&&(resultCookie.C_I=variablesForChat.chatId,helperFunctions.createCookie("WG_VIC_J",JSON.stringify(resultCookie),720)),checkConnection(),date=new Date,chatStartTime={},chatStartTime.startTime=date,chatStartTime.endTime="",chatStartTime.visitorid=variablesForChat.visitorId,chatStartTime.postType="Chat",ref="None",document.referrer!=""&&(ref=document.referrer),sendSignalRMethod("send",variablesForChat.visitorId.toString(),JSON.stringify(chatStartTime),ref,variablesForChat.websiteId.toString()),sessionStorage.getItem("lastActivity")!=null&&sendSignalRMethod("sendGreeting",variablesForChat.visitorId.toString(),variablesForChat.websiteId.toString(),variablesForChat.chatId,sessionStorage.getItem("lastActivity"),!0),typeof chatConfig.UTMParm!="undefined"&&chatConfig.UTMParm){var formatDate=function(date){var monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"],day=date.getDate(),monthIndex=date.getMonth(),year=date.getFullYear();return day+" "+monthNames[monthIndex]+" "+year},utmXml="<CustomFields><UTM_Term>"+ga_utm_term+"<\/UTM_Term><UTM_Source>"+ga_utm_source+"<\/UTM_Source><UTM_Medium>"+ga_utm_medium+"<\/UTM_Medium><UTM_Content>"+ga_utm_content+"<\/UTM_Content><UTM_Campaign>"+ga_utm_campaign+"<\/UTM_Campaign><GA_Session_Count>"+ga_session_count+"<\/GA_Session_Count><GA_Pageview_Count>"+ga_pageview_count+"<\/GA_Pageview_Count><GA_GCLID>"+ga_gclid+"<\/GA_GCLID><GA_ClientId>"+ga_client_id+"<\/GA_ClientId><\/CustomFields>",utmVar={ChatId:variablesForChat.chatId,WebsiteId:variablesForChat.websiteId,CustomFieldsData:utmXml,VisitorId:variablesForChat.visitorId,ChatStartTime:formatDate(new Date)};serviceCall("InsertChatInfoExtData","",utmVar)}},onGetChatPrerequisiteResponse:function(){var operatorName=variablesForChat.userName,greetingMessage=variablesForChat.autoGreetMessage,dtime=new Date,reTime=0,resultOPN;if(variablesForChat.isAlreadyInChatValue=="-1"?variablesForChat.userName!=null&&variablesForChat.userName!=""?variablesForChat.isAlreadyInChat||(document.getElementById("live_chat_status").dispatchEvent(showChatBtnEvent),variablesForChat.WithoutGreet?(document.getElementById("live_chat_status").dispatchEvent(onShowWindowEvent),variablesForChat.greetInserted||insertGreetingAndAppend(operatorName,greetingMessage)):variablesForChat.greetInserted?parent.dBrowser.isMobile()&&typeof chatConfig.isMobilePassive!="undefined"&&chatConfig.isMobilePassive?document.getElementById("live_chat_status").dispatchEvent(onPassiveChatEvent):variablesForChat.GreetingTimer=setTimeout(function(){document.getElementById("live_chat_status").dispatchEvent(onShowWindowEvent)},variablesForChat.autoGreetTime*1e3):variablesForChat.lc_servicestatus=="1"?helperFunctions.readCookie("LC_TIME")!=null?variablesForChat.GreetingTimer=setTimeout(function(){document.getElementById("live_chat_status").dispatchEvent(onShowWindowEvent);insertGreetingAndAppend(operatorName,greetingMessage)},variablesForChat.autoGreetTime*1e3):(helperFunctions.createCookie("LC_TIME",dtime.getTime().toString(),1),variablesForChat.GreetingTimer=setTimeout(function(){document.getElementById("live_chat_status").dispatchEvent(onShowWindowEvent);insertGreetingAndAppend(operatorName,greetingMessage)},variablesForChat.autoGreetTime*1e3)):variablesForChat.lc_servicestatus=="2"&&(document.getElementById("live_chat_status").dispatchEvent(onPassiveChatEvent),chatConfig.preChatSurveyVar==!0&&helperFunctions.readCookie("preSurveyForm")=="setthis"&&(LaJq("#live_chat_status").css("display","none"),document.getElementById("live_chat_status").dispatchEvent(onShowWindowEvent),insertGreetingAndAppend(operatorName,greetingMessage)))):document.getElementById("live_chat_status").dispatchEvent(onOfflineChatEvent):variablesForChat.isAlreadyInChatValue=="1"&&(LaJq("#toolbar-main").css("display","block"),LaJq("#email-chat").css("display","block"),variablesForChat.invitationAck=!0,FirstMessageByVisitor=="",variablesForChat.actualUserIdCustom=variablesForChat.actualUserId,variablesForChat.UserNameCustom=variablesForChat.userName,variablesForChat.isAlreadyInChat=!0,variablesForChat.firstKey=!0,resultOPN=helperFunctions.readCookieJson("OP_N").OP_N,chatConfig.pseudoName&&helperFunctions.readCookie("LC_SN")!=null&&(variablesForChat.userName=helperFunctions.readCookie("LC_SN")),connectRoom(chatConfig.XMPP_SERVER,"123"),variablesForChat.firstMessage=!1),parent.dBrowser.isIpad()||parent.dBrowser.isIphone()||parent.dBrowser.isAndroid()||parent.dBrowser.isAndroidTablet()){var visibleTime=0,hiddenTime=0,isVisible=!1;LaJq(document).off("visibilitychange");LaJq(document).on("visibilitychange",function(){function reconResp(result){result!=""?(variablesForChat.presenceHandler!=null&&variablesForChat.connection.deleteHandler(variablesForChat.presenceHandler),variablesForChat.messageHandler!=null&&variablesForChat.connection.deleteHandler(variablesForChat.messageHandler),variablesForChat.presenceHandler=null,variablesForChat.messageHandler=null,connectRoom(chatConfig.XMPP_SERVER,"123")):closeXmppChat()}var secDiff,recon;if(variablesForChat.isAlreadyInChat){if(document.visibilityState=="visible"){if(variablesForChat.connection.send($msg({to:variablesForChat.room,chat_id:variablesForChat.chatId,custom_packet:!0,user_id:"-"+variablesForChat.actualUserId,manager_id:variablesForChat.actualUserId,time_stamp:helperFunctions.myUTCDateString(new Date),website_id:variablesForChat.websiteId,visitor_name:"System",type:"groupchat"}).c("body").t("[NAVIGATEURL] Visitor browsing : "+helperFunctions.ReplaceSpecialCharacters(window.location.toString()))),isVisible)return;visibleTime=new Date;secDiff=0;hiddenTime>0&&(secDiff=parseInt((visibleTime-hiddenTime)/1e3));secDiff>=60&&(LaJq("#recont-loader").remove(),LaJq("#ChatDiv").append('<div id="recont-loader" style="background-color: rgba(0, 0, 0, 0.6);height: 100%;width: 100%;position: absolute;top: 0;"><img class="loaderimg" src="https://www.thelivechatsoftware.com/Dashboard/cwgen/skin/waiter/sloader1.gif" style="display: block;max-height: 100%;margin: 0 auto;position: relative;top: 40% !important;max-width: 100%;"><span class="loader-txt" style="position: absolute;top: 60%;text-align: center;left: 0;right: 0;color: #fff;font-family: &quot;Titillium Web&quot; !important;cursor: context-menu;">Reconnecting<\/span><\/div>'),visibleTime=0,hiddenTime=0,secDiff=0,recon={ChatId:variablesForChat.chatId},serviceCall("IsR",reconResp,recon),isVisible=!0)}document.visibilityState=="hidden"&&(hiddenTime=new Date,isVisible=!1)}})}else window.addEventListener("focus",serviceResponse.wgFocus,!0),window.addEventListener("blur",serviceResponse.wgBlur,!0);!chatConfig.pseudoName&&chatConfig.operatorPic&&LaJq("#operatorPic").attr("src",chatConfig.operatorPicPath+variablesForChat.userName+".png")},wgBlur:function(e){if(variablesForChat.isAlreadyInChat&&e.srcElement.id==undefined&&e.srcElement.id!="txtMessageWin"){if(!variablesForChat.isVisible)return;variablesForChat.isVisible=!1}},wgFocus:function(e){if(variablesForChat.isAlreadyInChat&&e.srcElement.id==undefined&&e.srcElement.id!="txtMessageWin"){if(variablesForChat.isVisible)return;variablesForChat.connection.send($msg({to:variablesForChat.room,chat_id:variablesForChat.chatId,custom_packet:!0,user_id:"-"+variablesForChat.actualUserId,manager_id:variablesForChat.actualUserId,time_stamp:helperFunctions.myUTCDateString(new Date),website_id:variablesForChat.websiteId,visitor_name:"System",type:"groupchat"}).c("body").t("[NAVIGATEURL] Visitor browsing : "+helperFunctions.ReplaceSpecialCharacters(window.location.toString())));variablesForChat.isVisible=!0}},onInsertGreetInfoResponse:function(result){null!=result&&(variablesForChat.greetId=result,variablesForChat.isOnlyGreeted=!0,clearTimeout(variablesForChat.CloseGreet),variablesForChat.IsAlreadyGreeted||(variablesForChat.CloseGreet=setTimeout(function(){closeChat(!1,"")},12e4)));variablesForChat.greetInserted=!0;typeof chatConfig.GA4!="undefined"&&chatConfig.GA4&&typeof gtag!="undefined"&&gtag("event","_IsGreeted",{method:"_IsGreeted"});typeof chatConfig.ga_Analytics!="undefined"&&chatConfig.ga_Analytics&&(typeof chatConfig.ga_Analyticsjs!="undefined"&&chatConfig.ga_Analyticsjs?(ga("create",chatConfig.ga_AnalyticsAC),ga("send","event","LiveChat","_IsGreeted",{nonInteraction:1})):(_gaq.push(["_setAccount",chatConfig.ga_AnalyticsAC]),_gaq.push(["_trackEvent","LiveChat","_IsGreeted"],!0)));typeof chatConfig.ga_TagManager!="undefined"&&chatConfig.ga_TagManager&&typeof dataLayer!="undefined"&&dataLayer.push({event:"GAEvent",eventCategory:"LiveAdmins Live Chat",eventAction:"Chat Greeting Served",eventLabel:"LiveAdmins Chat Greeting was served",eventValue:1});var onGreetInsertionEvent=new CustomEvent("onGreetInsertion");document.getElementById("live_chat_status").dispatchEvent(onGreetInsertionEvent)},InsertTrackingInformation:function(visitorID){function trackingResponse(){}var datas={VisitorId:variablesForChat.visitorId,WebsiteId:variablesForChat.websiteId,Url:helperFunctions.ReplaceSpecialCharacters(window.location.toString())};serviceCall("InTrIn",trackingResponse,datas);setTimeout(function(){variablesForChat.isAlreadyInChat&&variablesForChat.connection.send($msg({to:variablesForChat.room,chat_id:variablesForChat.chatId,custom_packet:!0,user_id:"-"+variablesForChat.actualUserId,manager_id:variablesForChat.actualUserId,time_stamp:helperFunctions.myUTCDateString(new Date),website_id:variablesForChat.websiteId,visitor_name:"System",type:"groupchat"}).c("body").t("[NAVIGATEURL] Visitor browsing : "+helperFunctions.ReplaceSpecialCharacters(window.location.toString())))},3e3)},completeResponse:function(result){var t=LaJq.parseJSON(result),IgnCook=helperFunctions.readCookie("wg_Ign"),verData,slideshowContainer,$jscomp$loop$2,indexBannerCheck,count,k,mySlides,mySlidestext,slideIndex,currentDate,cdArrayOfObjects,resultC,webArrayOfObjects,resultCookie,usePreName,vstrArrayOfObjects,visitorIdVal,chatURL,greet,event,randomNumber,langArray,i,textToShow,setWebLang;if(t.V_I!=0&&t.V_I!="0"&&t.V_I!=""&&typeof t.V_I!="undefined"&&t.V_I!=null||t.V_B!=1)if(t.V_I==0&&t.V_B==1)document.getElementById("live_chat_status").dispatchEvent(onPassiveChatEvent),verData={Domain:"Got VId Zero:- Params: DN:"+variablesForChat.host+" ,RefU:"+helperFunctions.ReplaceSpecialCharacters(document.referrer)+" ,WebU:"+helperFunctions.ReplaceSpecialCharacters(window.location.toString())+" ,VID:"+variablesForChat.visitorId+" ,Lang:"+variablesForChat.websiteLang+" ,SN:"+variablesForChat.sudoNames+"|"+variablesForChat.sudoPics+" ,UL:"+variablesForChat.useLoaderApi+" ,ICG:"+variablesForChat.customGreeting+" ,BF:"+chatConfig.banner+" -Call Response:- "+result,Version:variablesForChat.host},serviceCall("IVInfo",serviceResponse.resp,verData);else if(t.W_I!=0&&typeof IgnCook=="undefined"){if((typeof helperFunctions.readCookie("WG_LOADER")=="undefined"||helperFunctions.readCookie("WG_LOADER")=="")&&helperFunctions.createCookie("WG_LOADER","OK",24),LaJq("#txtMessageWin").focus(function(){variablesForChat.firstKey||(variablesForChat.presenceHandler!=null&&variablesForChat.connection.deleteHandler(variablesForChat.presenceHandler),variablesForChat.messageHandler!=null&&variablesForChat.connection.deleteHandler(variablesForChat.messageHandler),variablesForChat.presenceHandler=null,variablesForChat.messageHandler=null,connect(chatConfig.XMPP_SERVER,"123"),variablesForChat.firstKey=!0)}),typeof chatConfig.banner!="undefined"&&chatConfig.banner&&t.W_B.Result.Banner.length>0){LaJq("#slideshow-container").remove();var allbanners="",bannerstext="",bannerColor="",bannerAnchor="",bannerBackgroundColor="",bannerBackgroundImage="",slideType="";if(t.W_B.Result.Position=="footer")for(var slideshowContainer=helperFunctions.createElement({className:"slideshow-container",id:"slideshow-container",element:"div",appendTo:document.getElementById("ChatDiv")}),$jscomp$loop$1={},i=0;i<t.W_B.Result.Banner.length;$jscomp$loop$1={randomUnqiue:$jscomp$loop$1.randomUnqiue},i++){if(t.W_B.Result.Shuffle==!0){for($jscomp$loop$1.randomUnqiue=function($jscomp$loop$1){return function(limit){var x=Math.floor(Math.random()*limit+0);indexBannerCheck.indexOf(x)!=-1?$jscomp$loop$1.randomUnqiue(limit):indexBannerCheck.push(x)}}($jscomp$loop$1),indexBannerCheck=[],count=t.W_B.Result.Banner.length,k=0;k<count;k++)$jscomp$loop$1.randomUnqiue(count);bannerstext=t.W_B.Result.Banner[indexBannerCheck[i]].SlideText;bannerColor=t.W_B.Result.Banner[indexBannerCheck[i]].SlideTextColor;slideType=t.W_B.Result.Banner[indexBannerCheck[i]].SlideType;slideType=="color"?bannerBackgroundColor=t.W_B.Result.Banner[indexBannerCheck[i]].BackgroundColor:bannerBackgroundImage=t.W_B.Result.Banner[indexBannerCheck[i]].SourcePath;bannerAnchor=t.W_B.Result.Banner[indexBannerCheck[i]].Link}t.W_B.Result.Shuffle==!1&&(allbanners+=t.W_B.Result.Banner[i],bannerstext=t.W_B.Result.Banner[i].SlideText,bannerColor=t.W_B.Result.Banner[i].SlideTextColor,slideType=t.W_B.Result.Banner[i].SlideType,slideType=="color"?bannerBackgroundColor=t.W_B.Result.Banner[i].BackgroundColor:bannerBackgroundImage=t.W_B.Result.Banner[i].SourcePath,bannerAnchor=t.W_B.Result.Banner[i].Link);mySlides=slideType=="color"?helperFunctions.createElement({className:"mySlides fade bgOne",element:"div",appendTo:document.getElementById("slideshow-container"),BackgroundColor:bannerBackgroundColor}):helperFunctions.createElement({className:"mySlides fade bgOne",element:"div",appendTo:document.getElementById("slideshow-container"),BackgroundImage:bannerBackgroundImage});mySlidestext=helperFunctions.createElement({className:"mySlidestext",element:"a",appendTo:mySlides,html:bannerstext,color:bannerColor,href:bannerAnchor,target:"_blank"})}if(t.W_B.Result.Position=="header")for(slideshowContainer=helperFunctions.createElement({className:"slideshow-container",id:"slideshow-container",element:"div"}),LaJq("#preFormPanelHead").after(slideshowContainer),$jscomp$loop$2={},i=0;i<t.W_B.Result.Banner.length;$jscomp$loop$2={randomUnqiue$0:$jscomp$loop$2.randomUnqiue$0},i++){if(t.W_B.Result.Shuffle==!0){for($jscomp$loop$2.randomUnqiue$0=function($jscomp$loop$2){return function(limit){var x=Math.floor(Math.random()*limit+0);indexBannerCheck.indexOf(x)!=-1?$jscomp$loop$2.randomUnqiue$0(limit):indexBannerCheck.push(x)}}($jscomp$loop$2),indexBannerCheck=[],count=t.W_B.Result.Banner.length,k=0;k<count;k++)$jscomp$loop$2.randomUnqiue$0(count);bannerstext=t.W_B.Result.Banner[indexBannerCheck[i]].SlideText;bannerColor=t.W_B.Result.Banner[indexBannerCheck[i]].SlideTextColor;slideType=t.W_B.Result.Banner[indexBannerCheck[i]].SlideType;slideType=="color"?bannerBackgroundColor=t.W_B.Result.Banner[indexBannerCheck[i]].BackgroundColor:bannerBackgroundImage=t.W_B.Result.Banner[indexBannerCheck[i]].SourcePath;bannerAnchor=t.W_B.Result.Banner[indexBannerCheck[i]].Link}t.W_B.Result.Shuffle==!1&&(allbanners+=t.W_B.Result.Banner[i],bannerstext=t.W_B.Result.Banner[i].SlideText,bannerColor=t.W_B.Result.Banner[i].SlideTextColor,slideType=t.W_B.Result.Banner[i].SlideType,slideType=="color"?bannerBackgroundColor=t.W_B.Result.Banner[i].BackgroundColor:bannerBackgroundImage=t.W_B.Result.Banner[i].SourcePath,bannerAnchor=t.W_B.Result.Banner[i].Link);mySlides=slideType=="color"?helperFunctions.createElement({className:"mySlides fade bgOne",element:"div",appendTo:document.getElementById("slideshow-container"),BackgroundColor:bannerBackgroundColor}):helperFunctions.createElement({className:"mySlides fade bgOne",element:"div",appendTo:document.getElementById("slideshow-container"),BackgroundImage:bannerBackgroundImage});mySlidestext=helperFunctions.createElement({className:"mySlidestext",element:"a",appendTo:mySlides,html:bannerstext,color:bannerColor,href:bannerAnchor,target:"_blank"})}slideIndex=0;function showSlides(){for(var slides=document.getElementsByClassName("mySlides"),i=0;i<slides.length;i++)slides[i].style.display="none",slides[i].style.display="none";slideIndex++;slideIndex>slides.length&&(slideIndex=1);slides[slideIndex-1].style.display="block";setTimeout(showSlides,4e3)}showSlides()}if(currentDate=t.CD,currentDate!=null&&currentDate!=""&&(resultCookie=helperFunctions.readCookie("CD"),resultCookie==null||typeof resultCookie=="undefined"?(variablesForChat.SessionCookie=null,variablesForChat.SessionCookie="",cdArrayOfObjects=currentDate,helperFunctions.createCookie("CD",cdArrayOfObjects,720)):currentDate!=resultCookie&&(variablesForChat.SessionCookie="",helperFunctions.createCookie("CD",null,-24),cdArrayOfObjects=currentDate,helperFunctions.createCookie("CD",cdArrayOfObjects,720))),variablesForChat.visitorId=t.V_I,variablesForChat.visitorName=t.V_N,variablesForChat.GUID=t.S_I,variablesForChat.websiteId=t.W_I,variablesForChat.priorityLanguage=t.W_L,variablesForChat.userLanguage=t.U_L,resultCookie=helperFunctions.readCookieJson("WG_VIC_J"),variablesForChat.visitorId!=null&&typeof resultCookie.Session!="undefined"&&(variablesForChat.SessionCookie=variablesForChat.GUID,variablesForChat.referrer=helperFunctions.getReferrer(),variablesForChat.refDomain=helperFunctions.getDomainName(variablesForChat.referrer),variablesForChat.refDomain!=location.hostname||variablesForChat.refDomain==""||helperFunctions.readCookie(variablesForChat.LC_CEC)==null,(variablesForChat.refDomain!=location.hostname||variablesForChat.refDomain==""||helperFunctions.readCookie(variablesForChat.LC_CEC)==null)&&(typeof chatConfig.LC_Subdomain!="undefined"&&chatConfig.LC_Subdomain?(variablesForChat.refDomain==""||chatConfig.subPages.indexOf(variablesForChat.refDomain)<-1||helperFunctions.readCookie(variablesForChat.LC_CEC)==null)&&(variablesForChat.statusErased=!0):variablesForChat.statusErased=!0),variablesForChat.GUID!=""&&typeof chatConfig.isPageBased!="undefined"&&chatConfig.isPageBased&&(variablesForChat.websiteId=chatConfig.websiteID,variablesForChat.host=chatConfig.host)),variablesForChat.GUID!=null||variablesForChat.GUID!=""){if(typeof chatConfig.isPageBased!="undefined"&&chatConfig.isPageBased&&(variablesForChat.host=chatConfig.host,variablesForChat.websiteId=chatConfig.websiteID),resultC=variablesForChat.websiteId,variablesForChat.EMP=t.EMP,resultC!=null&&resultC!=""&&(variablesForChat.websiteId=resultC,variablesForChat.priorityLanguage=variablesForChat.priorityLanguage,variablesForChat.GUID=variablesForChat.GUID,webArrayOfObjects={E_I:variablesForChat.EMP,W_I:variablesForChat.websiteId,P_L:variablesForChat.priorityLanguage},helperFunctions.createCookie("WG_WEB",JSON.stringify(webArrayOfObjects),720),variablesForChat.websiteId!=0)){variablesForChat.visitorId=variablesForChat.visitorId;variablesForChat.visitorName=variablesForChat.visitorName;variablesForChat.GUID=variablesForChat.GUID;resultCookie=helperFunctions.readCookieJson("WG_VIC_J");usePreName=helperFunctions.readCookieJson("LaPreSurvey");resultCookie!=""&&resultCookie.V_I!=t.V_I&&(typeof usePreName!="undefined"&&usePreName!=""?vstrArrayOfObjects={V_N:usePreName.PreSurveyName,V_I:t.V_I,Session:t.S_I}:(vstrArrayOfObjects={V_N:t.V_N,V_I:t.V_I,Session:t.S_I},helperFunctions.createCookie("WG_VIC_J",JSON.stringify(vstrArrayOfObjects),720)));resultCookie==""?typeof usePreName!="undefined"&&usePreName!=""?vstrArrayOfObjects={V_N:usePreName.PreSurveyName,V_I:t.V_I,Session:t.S_I}:(vstrArrayOfObjects={V_N:t.V_N,V_I:t.V_I,Session:t.S_I},helperFunctions.createCookie("WG_VIC_J",JSON.stringify(vstrArrayOfObjects),720)):(variablesForChat.visitorName=resultCookie.V_N,variablesForChat.visitorId=resultCookie.V_I);resultCookie.Session!=undefined&&document.referrer!=""&&window.location!=document.referrer&&serviceResponse.InsertTrackingInformation(variablesForChat.visitorId);visitorIdVal="";visitorIdVal=resultCookie==""?t.V_I:resultCookie.V_I;chatURL="https://blue.thelivechatsoftware.com/VisitorServiceXMPPSSL/ChatService.svc/";getJsonServiceResponseNew=function(WGSFunc,CBFunc,obj){LaJq.ajax({type:"GET",url:chatURL+WGSFunc+"?callback=?",data:obj,jsonp:CBFunc,dataType:"jsonp",crossDomain:!0,success:CBFunc,cache:!1,error:function(e){}})};function getRandomValue(){var dt=new Date;return dt.getTime().toString()}var todayDate=new Date,surveyFilledDate=todayDate.getFullYear()+"-"+(todayDate.getMonth()+1)+"-"+todayDate.getDate(),surveyFilledTime=todayDate.getHours()+":"+todayDate.getMinutes()+":"+todayDate.getSeconds(),getStats={parD:"(REVAMPCODES) This is a revamp solution. Website id is:"+variablesForChat.websiteId+", Domain is: "+location.host+", Date and time: "+surveyFilledDate+" "+surveyFilledTime,parV:visitorIdVal,parR:getRandomValue()};getJsonServiceResponseNew("IVInfo","",getStats)}variablesForChat.visitorId!=null&&variablesForChat.websiteId!=null&&(variablesForChat.visitorName=variablesForChat.visitorName,variablesForChat.visitorId=variablesForChat.visitorId)}variablesForChat.isAlreadyInChatValue=t.I_AIC;variablesForChat.autoGreetTime=t.AG_T;location.pathname=="/"&&(console.log("1"),variablesForChat.autoGreetTime="120");console.log("variablesForChat.autoGreetTime:",variablesForChat.autoGreetTime);variablesForChat.lc_servicestatus=t.S_ST;typeof chatConfig.passivePages!="undefined"&&chatConfig.passivePages&&typeof chatConfig.passivePagesUrl!="undefined"&&chatConfig.passivePagesUrl.indexOf(location.href)>-1&&(variablesForChat.lc_servicestatus="2");typeof chatConfig.activePages!="undefined"&&chatConfig.activePages&&typeof chatConfig.activePagesUrl!="undefined"&&chatConfig.activePagesUrl.indexOf(location.href)>-1&&(variablesForChat.lc_servicestatus="1");console.log("location path:",location.pathname);sessionStorage.getItem("lastActivity")!=null?(greet=sessionStorage.getItem("lastActivity"),location.pathname=="/apply-twu"&&(console.log("12"),variablesForChat.autoGreetMessage="Hey there, welcome to our apply page. Can I answer any questions you have about your application?"),console.log("variablesForChat.autoGreetMessage..:",variablesForChat.autoGreetMessage),greet.indexOf("undefined")==-1&&variablesForChat.isAlreadyInChatValue=="-1"&&(variablesForChat.autoGreetMessage=greet,LaJq("#operatorMessage").html(greet))):(variablesForChat.autoGreetMessage=t.AG_M,location.pathname=="/apply-twu"&&(console.log("apply page"),variablesForChat.autoGreetMessage="Hey there, welcome to our apply page. Can I answer any questions you have about your application?"),console.log("variablesForChat.autoGreetMessage1:",variablesForChat.autoGreetMessage));t.AG_M!=undefined&&(location.pathname=="/apply-twu"&&(console.log("apply page 1"),t.AG_M="Hey there, welcome to our apply page. Can I answer any questions you have about your application?"),event=new CustomEvent("greetmsg",{detail:{greet:t.AG_M,username:t.U_N}}),document.getElementById("live_chat_status").dispatchEvent(event));variablesForChat.userName=t.U_N;variablesForChat.UserNameCustom=t.U_N;typeof chatConfig.claimChat!="undefined"&&chatConfig.claimChat?(t.U_I!=undefined&&(variablesForChat.actualUserId=t.U_I.split("*")[0]),variablesForChat.actualUserIds=t.U_I,variablesForChat.actualUserIdCustom=variablesForChat.actualUserId):(variablesForChat.actualUserId=t.U_I,variablesForChat.actualUserIdCustom=variablesForChat.actualUserId);variablesForChat.actualUserIdCustom=variablesForChat.actualUserId;variablesForChat.lc_servicestatus=="1"&&parseInt(variablesForChat.autoGreetTime)>1&&!chatConfig.preChatSurveyVar&&(location.pathname=="/apply-twu"&&(console.log("apply page 1"),t.AG_M="Hey there, welcome to our apply page. Can I answer any questions you have about your application?"),insertGreetingAndAppend(t.U_N,t.AG_M),document.getElementById("live_chat_status").dispatchEvent(showWindowAfterClickedEvent));typeof helperFunctions.readCookie("opName")!="undefined"?LaJq(".cwin_username").html(helperFunctions.readCookie("opName")):LaJq(".cwin_username").html(variablesForChat.userName);variablesForChat.lc_servicestatus=="1"&&(variablesForChat.optrCount=0);variablesForChat.opPic=t.IMG_P;variablesForChat.lc_servicestatus!="-1"&&(parent.dBrowser.isMobile()&&(typeof chatConfig.isMobilePassive!="undefined"&&chatConfig.isMobilePassive?variablesForChat.lc_servicestatus="2":typeof chatConfig.isMobilePassive=="undefined"||chatConfig.isMobilePassive||(variablesForChat.lc_servicestatus="1")),chatConfig.pseudoName?(helperFunctions.readCookie("opName")!=null&&typeof helperFunctions.readCookie("opName")!="undefined"?(variablesForChat.userName=helperFunctions.readCookie("opName"),chatConfig.operatorPic&&LaJq("#operatorPic").attr("src",chatConfig.operatorPicPath+variablesForChat.userName+".png")):(randomNumber=Math.floor(Math.random()*11),chatConfig.operatorPic&&LaJq("#operatorPic").attr("src",chatConfig.operatorPicPath+variablesForChat.userName+".png"),helperFunctions.createCookie("opName",variablesForChat.userName,12)),typeof helperFunctions.readCookie("opName")!="undefined"?LaJq(".cwin_username").html(helperFunctions.readCookie("opName")):LaJq(".cwin_username").html(variablesForChat.userName)):typeof chatConfig.opPic=="undefined"||variablesForChat.opPic==null||variablesForChat.opPic==""||!chatConfig.opPic||chatConfig.pseudoName||chatConfig.operatorPic?LaJq("#botPic").removeClass("originalPic"):(LaJq("#operatorPic,#botPic").attr("src",variablesForChat.opPic),LaJq("#botPic").addClass("originalPic")));t.C_I!="undefined"&&(variablesForChat.chatId=t.C_I);result!=null&&result!=""&&(chatConfig.preChatSurveyVar&&helperFunctions.readCookie("preSurveyForm")!="setthis"||variablesForChat.lc_servicestatus=="-1"?chatConfig.preChatSurveyVar&&helperFunctions.readCookie("preSurveyForm")=="setthis"&&variablesForChat.lc_servicestatus!="-1"?serviceResponse.onGetChatPrerequisiteResponse():chatConfig.preChatSurveyVar&&typeof helperFunctions.readCookie("preSurveyForm")=="undefined"?document.getElementById("live_chat_status").dispatchEvent(onOpenPresurveyFormEvent):chatConfig.preChatSurveyVar||typeof helperFunctions.readCookie("preSurveyForm")!="undefined"||variablesForChat.lc_servicestatus!="-1"?chatConfig.preChatSurveyVar&&helperFunctions.readCookie("preSurveyForm")=="setthis"&&variablesForChat.lc_servicestatus=="-1"&&document.getElementById("live_chat_status").dispatchEvent(onShowOfflineFormEvent):document.getElementById("live_chat_status").dispatchEvent(onShowOfflineFormEvent):serviceResponse.onGetChatPrerequisiteResponse(),variablesForChat.lc_servicestatus=="-1");langArray=["","en","","fr","de","ar","es"];variablesForChat.webLang=t.L_N;for(i in config.setText[variablesForChat.webLang])i=="txtMessageWin"||i=="offlineName"||i=="offlineEmail"||i=="offlinePhone"||i=="offlineCommentBox"?(LaJq("#offlineForm #"+i).attr("placeholder",config.setText[variablesForChat.webLang][i]),LaJq("#ChatDiv #"+i).attr("placeholder",config.setText[variablesForChat.webLang][i])):i=="setOfflineButton"?LaJq("#"+i).val(config.setText[variablesForChat.webLang][i]):(textToShow=config.setText[variablesForChat.webLang][i],textToShow.indexOf("<a")>-1?(LaJq("#ChatDiv #"+i).html(config.setText[variablesForChat.webLang][i]),LaJq("#offlineForm #"+i).html(config.setText[variablesForChat.webLang][i])):(LaJq("#ChatDiv #"+i).text(config.setText[variablesForChat.webLang][i]),LaJq("#offlineForm #"+i).text(config.setText[variablesForChat.webLang][i])));setWebLang="";variablesForChat.userLanguage=="1"&&(setWebLang="English(en)");variablesForChat.userLanguage=="3"&&(setWebLang="French(fr)");variablesForChat.userLanguage=="4"&&(setWebLang="German(de)");variablesForChat.userLanguage=="5"&&(setWebLang="(ar)",LaJq("#ChatDiv").css("direction","rtl"),LaJq("#allLanguages").css("right","215px"));variablesForChat.userLanguage=="6"&&(setWebLang="Spanish(es)");chatConfig.multiLingual&&(LaJq("#currentLanguage").html(setWebLang),LaJq("#languagesContainer").css("display","block"),LaJq("#languageArrow").css("display","inline-block"))}},onGetWebsiteIDResponse:function(result){var newresult,webArrayOfObjects;result!=null&&(newresult=LaJq.parseJSON(result),variablesForChat.websiteId=newresult.W_I,variablesForChat.priorityLanguage=newresult.P_L,variablesForChat.timeZone=newresult.T_Z,webArrayOfObjects="{'W_I':'"+newresult.W_I+"','P_L':'"+newresult.P_L+"','T_Z':'"+newresult.T_Z+"'}",helperFunctions.createCookie("WG_WEB",webArrayOfObjects,720),newresult.W_I!=0&&InsertVisitorIdOnly())},onGetWebsiteIDResponsePageBased:function(result){var resultC,webArrayOfObjects;result!=null&&(resultC="",variablesForChat.websiteId=resultC.W_I,variablesForChat.priorityLanguage=resultC.P_L,variablesForChat.timeZone=resultC.T_Z,webArrayOfObjects="{'W_I':'"+resultC.W_I+"','P_L':'"+resultC.P_L+"','T_Z':'"+resultC.T_Z+"'}",helperFunctions.createCookie("WG_WEB",webArrayOfObjects,720),InsertVisitorIdOnly())},onGetWebsiteBlockedIPAddressResponse:function(result){var DNDCookie,IgnCook,getUsernameServiceURL;parseInt(result)>0&&(variablesForChat.IPBlocked=!0,helperFunctions.createCookie("wg_Ign",1,3600));DNDCookie=helperFunctions.readCookie("WG_DND");IgnCook=helperFunctions.readCookie("wg_Ign");variablesForChat.statusErased&&(DNDCookie==undefined||DNDCookie==null||DNDCookie=="WG_DND=2")&&(IgnCook==undefined||IgnCook==null)?(LaJq("#txtMessageWin").focus(function(){variablesForChat.firstKey||(connectRoom(chatConfig.XMPP_SERVER,"123"),variablesForChat.firstKey=!0)}),getDataFromServer()):IgnCook==null&&(getUsernameServiceURL={parD:escape(variablesForChat.host),parL:"0",parR:helperFunctions.getRandomValue(),method:"serviceResponse.onGetUserOnMinimumChatsResponse"},serviceCall("GetUOnMiChatsByLan",serviceResponse.onGetUserOnMinimumChatsResponse,getUsernameServiceURL))},onGetUserOnMinimumChatsResponse:function(e){if(null!=e){var t=null,n=null;""!=e&&onEndChatEvent.eventPhase!=2&&document.getElementById("live_chat_status").dispatchEvent(onEndChatEvent)}},InsertVisitorIdOnlyResponse:function(result){var t,n,datas;null!=result&&""!=result&&(t=LaJq.parseJSON(result),variablesForChat.visitorId=t.V_I,variablesForChat.visitorName=t.V_N,variablesForChat.GUID=t.S_I,n="{'V_N':'"+t.V_N+"','V_I':'"+t.V_I+"','Session':'"+t.S_I+"'}",helperFunctions.createCookie("WG_VIC_J",n,720),datas={VisitorId:variablesForChat.visitorId,WebsiteId:variablesForChat.websiteId,Url:helperFunctions.ReplaceSpecialCharacters(window.location.toString())},serviceCall("InTrIn","",datas),serviceResponse.onGetWebsiteBlockedIPAddressResponse(),typeof getData!="undefined")}};document.getElementById("live_chat_status").addEventListener("preRequisiteWidget",serviceResponse.completeResponse,!1);alertSound=function(){function setSource(){var audio=document.getElementById("alertRingDiv");typeof audio!="undefined"&&(parent.dBrowser.isIE8()||parent.dBrowser.isSafari()||(audio.src==chatConfig.alertSoundPath?typeof audio.play=="function"&&audio.play():audio.src=chatConfig.alertSoundPath))}function mediaPlaybackRequiresUserGesture(){var audio=document.createElement("audio");if(typeof play=="function")return audio.play(),audio.paused}function removeBehaviorsRestrictions(){var audio=document.getElementById("alertRingDiv");typeof audio!="undefined"&&audio.load();window.removeEventListener("touchstart",removeBehaviorsRestrictions)}function setMuteSettings(){muteSound=!0;LaJq("#soundCheck").removeClass("fa-bell");LaJq("#soundCheck").addClass("fa-bell-slash");localStorage.setItem(key,"mute")}function setUnMuteSettings(){muteSound=!1;LaJq("#soundCheck").removeClass("fa-bell-slash");LaJq("#soundCheck").addClass("fa-bell");localStorage.setItem(key,"unmute")}var muteSound=!1,audioString='<audio id="alertRingDiv" controls autoplay  style="display:none;" preload ><\/audio>',key="muteSound",playAlertSound;return chatConfig.alertSound&&LaJq("body").append(audioString),parent.dBrowser.isIE8()||parent.dBrowser.isSafari()?LaJq("#soundCheckDiv").css("display","none"):mediaPlaybackRequiresUserGesture()&&window.addEventListener("touchstart",removeBehaviorsRestrictions),localStorage.getItem(key)=="mute"?setMuteSettings():localStorage.getItem(key)=="unmute"&&setUnMuteSettings(),LaJq("#soundCheckDiv").click(function(){LaJq("#soundCheck").hasClass("fa-bell")?setMuteSettings():setUnMuteSettings()}),playAlertSound=function(){if(chatConfig.alertSound&&!muteSound)if(parent.dBrowser.isMobile()&&parent.dBrowser.isChrome()||parent.dBrowser.isIpad()||parent.dBrowser.isIphone())setSource();else{var audioAlert=new Audio(chatConfig.alertSoundPath);typeof audioAlert.play=="function"&&audioAlert.play()}},{playAlertSound:playAlertSound}}()};chatLogic.prototype.dBrowser=dBrowser;offlineFormWidget=function(chatConfig){function offlineDefaultTemplate(){var OfflineFormContainer=document.createDocumentFragment(),powerdByText,powered_by_2;return OfflineFormContainer.id="OfflineFormContainer",offlineForm=parent.helperFunctions.createElement({id:"offlineForm",element:"div"}),OfflineFormContainer.appendChild(offlineForm),offlineRedStar1=parent.helperFunctions.createElement({className:"reqRed",element:"span",html:"*"}),offlineRedStar2=parent.helperFunctions.createElement({className:"reqRed",element:"span",html:"*"}),offlineRedStar3=parent.helperFunctions.createElement({className:"reqRed",element:"span",html:"*"}),offlineHeading=parent.helperFunctions.createElement({id:"offlineHeading",element:"h1",html:"",appendTo:offlineForm}),setOfflineFormHide=parent.helperFunctions.createElement({id:"setOfflineFormHide",element:"span",className:"lcf lcf-close-1",appendTo:offlineForm,click:setofflinehide}),offlineFormTag=parent.helperFunctions.createElement({id:"offlineFormTag",element:"form",appendTo:offlineForm}),chatConfig.gvars.preChatSurveyVar?(offlineLabelCommentBox=parent.helperFunctions.createElement({id:"offlineLabelCommentBox",element:"label",html:"Comment",appendTo:offlineFormTag}),offlineInputCommentBox=parent.helperFunctions.createElement({id:"offlineCommentBox",element:"input",appendTo:offlineFormTag})):(offlineHeadingMsg=parent.helperFunctions.createElement({id:"form-title-text",element:"span",html:"",appendTo:offlineFormTag}),offlineLabelName=parent.helperFunctions.createElement({id:"offlineLabelName",element:"label","for":"offlineName",html:"Name",appendTo:offlineFormTag}),offlineLabelName.appendChild(offlineRedStar1),offlineInputName=parent.helperFunctions.createElement({id:"offlineName",element:"input",placeholder:"",appendTo:offlineFormTag}),offlineInputNameError=parent.helperFunctions.createElement({id:"ername",className:"errormsg",element:"span",html:"Please enter your name",appendTo:offlineFormTag}),offlineLabelEmail=parent.helperFunctions.createElement({id:"offlineLabelEmail",element:"label","for":"offlineEmail",html:"Email",appendTo:offlineFormTag}),offlineLabelEmail.appendChild(offlineRedStar2),offlineInputEmail=parent.helperFunctions.createElement({id:"offlineEmail",element:"input",placeholder:"",appendTo:offlineFormTag}),offlineInputEmailError=parent.helperFunctions.createElement({id:"eremail",className:"errormsg",element:"span",html:"Please enter your valid email",appendTo:offlineFormTag}),offlineLabelPhone=parent.helperFunctions.createElement({id:"offlineLabelPhone",element:"label","for":"offlinePhone",html:"Phone",appendTo:offlineFormTag}),offlineLabelPhone.appendChild(offlineRedStar3),offlineInputPhone=parent.helperFunctions.createElement({id:"offlinePhone",element:"input",placeholder:"",appendTo:offlineFormTag}),offlineInputPhoneError=parent.helperFunctions.createElement({id:"erphone",className:"errormsg",element:"span",html:"Please enter your phone",appendTo:offlineFormTag}),offlineLabelCommentBox=parent.helperFunctions.createElement({id:"offlineLabelCommentBox",element:"label","for":"offlineCommentBox",html:"Comment",appendTo:offlineFormTag}),offlineInputCommentBox=parent.helperFunctions.createElement({id:"offlineCommentBox",element:"input",placeholder:"",appendTo:offlineFormTag})),setOfflineButton=parent.helperFunctions.createElement({id:"setOfflineButton",element:"input",value:"",appendTo:offlineFormTag,click:setoffline,type:"button"}),powerdByOffline=parent.helperFunctions.createElement({id:"powerdByOffline",element:"div",html:"Powered by ",appendTo:offlineFormTag}),typeof config.setLinks.powered_by_2!="undefined"&&(powerdByText=parent.helperFunctions.createElement({id:"powerdBySeperator",element:"span",appendTo:powerdByOffline,html:" & "}),powered_by_2=parent.helperFunctions.createElement({id:"powered_by_2",element:"a",appendTo:powerdByOffline,href:config.setLinks.powered_by_2,target:"_blank"})),OfflineFormContainer}function showOfflineFormOnClose(){LaJq("#live_chat_status,.live_chat_status").unbind("click");LaJq("#live_chat_status").css("display","none");document.getElementById("live_chat_status").dispatchEvent(onShowWindowAfterCloseEvent)}function setofflinehide(){LaJq("#offlineForm").css("display","none");document.getElementById("live_chat_status").dispatchEvent(onCloseOfflineFormEvent)}function setoffline(){function validateEmail(email){var re=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return re.test(email)}function showOfflineFormThis(){LaJq("#live_chat_status,.live_chat_status").unbind("click");LaJq("#live_chat_status").css("display","none");document.getElementById("live_chat_status").dispatchEvent(onStartServiceCallsEvent)}var offlineName=LaJq("#offlineName").val(),offlinePhone=LaJq("#offlinePhone").val(),offlineEmail=LaJq("#offlineEmail").val(),offlineCommentBox=LaJq("#offlineCommentBox").val(),offlineFormError=!0;if(chatConfig.gvars.preChatSurveyVar||(LaJq.trim(LaJq("#offlineName").val())?LaJq("#offlineName").css("border","none"):(LaJq("#offlineName").css("border","1px solid #F00"),offlineFormError=!1),LaJq.trim(LaJq("#offlinePhone").val())?LaJq("#offlinePhone").css("border","none"):(LaJq("#offlinePhone").css("border","1px solid #F00"),offlineFormError=!1),LaJq.trim(LaJq("#offlineEmail").val())?validateEmail(LaJq.trim(LaJq("#offlineEmail").val()))?LaJq("#offlineEmail").css("border","none"):(LaJq("#offlineEmail").css("border","1px solid #F00"),offlineFormError=!1):(LaJq("#offlineEmail").css("border","1px solid #F00"),offlineFormError=!1)),offlineFormError){LaJq("#live_chat_status,.live_chat_status").on("click",showOfflineFormThis);var offlineName=LaJq("#offlineName").val(),offlinePhone=LaJq("#offlinePhone").val(),offlineEmail=LaJq("#offlineEmail").val(),offlineCommentBox=LaJq("#offlineCommentBox").val();LaJq("#offlineForm").css("display","none");LaJq("#live_chat_status").css("opacity","1");LaJq("#live_chat_status").css("display","block");var resultCookie=parent.helperFunctions.readCookieJson("WG_VIC_J"),resultwiNew=parent.helperFunctions.readCookieJson("WG_WEB"),peSurveyCookie=parent.helperFunctions.readCookieJson("LaPreSurvey"),offlineFormLink={sessionId:resultCookie.Session,websiteID:resultwiNew.W_I,visitorID:resultCookie.V_I,clientType:"LA",name:offlineName,email:offlineEmail,phone:offlinePhone,message:offlineCommentBox},offlineFormLinkWithPreSurvey={sessionId:resultCookie.Session,websiteID:resultwiNew.W_I,visitorID:resultCookie.V_I,clientType:"LA",name:peSurveyCookie.PreSurveyName,email:peSurveyCookie.PreSurveyEmail,phone:peSurveyCookie.preSurveyPhone,message:offlineCommentBox};chatConfig.gvars.preChatSurveyVar?serviceCall("InsertOfflineMessage",offlineEmailSentResponse,offlineFormLinkWithPreSurvey):(console.log("offline call"),serviceCall("InsertOfflineMessage",offlineEmailSentResponse,offlineFormLink));function offlineEmailSentResponse(e){LaJq("#offlineName,#offlinePhone,#offlineEmail,#offlineCommentBox").val("");var clickedEvent=24,LinkText="",getAnchor="",resultViCookie=helperFunctions.readCookieJson("WG_VIC_J"),resultWiNew=helperFunctions.readCookieJson("WG_WEB"),allClickedEvents={VisitorId:resultViCookie.V_I,WebsiteId:resultWiNew.W_I,BannerLink:LinkText,Duration:"0",EventId:clickedEvent};resultViCookie!=null&&resultViCookie.V_I!==undefined&&resultWiNew!=null&&resultWiNew.W_I!==undefined&&serviceCall("InsertBanner","",allClickedEvents)}}}function generateofflineTemplate(){switch(parent.offlineTemplateId){case 1:parent.offlineObject=offlineDefaultTemplate();break}document.body.appendChild(parent.offlineObject)}function onShowofflineClick(){LaJq("#toolbar-main").css("display","block");typeof chatConfig.gvars.passiveOffline!="undefined"&&chatConfig.gvars.passiveOffline&&initialLoad?initialLoad&&(initialLoad=!1,setofflinehide()):LaJq("#offlineForm").css("display","block")}var onOfflineChatEvent=new CustomEvent("onOfflineChat"),onShowOfflineFormEvent=new CustomEvent("onShowOfflineForm"),onCloseOfflineFormEvent=new CustomEvent("onCloseOfflineForm"),preRequisiteWidgetEvent=new CustomEvent("preRequisiteWidget"),onStartServiceCallsEvent=new CustomEvent("onStartServiceCalls"),parent=this,OfflineFormContainer,offlineForm,offlineHeading,offlineFormTag,offlineLabelName,offlineRedStar1,offlineRedStar2,offlineRedStar3,offlineInputName,offlineLabelEmail,offlineInputEmail,offlineLabelPhone,offlineInputPhone,offlineInputNameError,offlineInputEmailError,offlineInputPhoneError,setOfflineButton,setOfflineFormHide,powerdByOffline,powerdByOfflineAnchor,offlineLabelCommentBox,offlineHeadingMsg,offlineInputCommentBox,initialLoad;parent.configuration=chatConfig;this.offlineObject=null;this.offlineTemplateId=chatConfig.offlineTemplateId;parent.configuration.gvars.blockChat&&LaJq.inArray(window.location.href.split("?")[0],parent.configuration.gvars.blockPages)>-1||generateofflineTemplate();initialLoad=!0;document.getElementById("live_chat_status").addEventListener("onShowOfflineForm",onShowofflineClick,!1)};offlineFormWidget.prototype.helperFunctions=helperFunctions;getData=function(){function sendTm(){var search_result=genericTM(),resultCookie,resultwi;search_result!=""&&(resultCookie=parent.helperFunctions.readCookieJson("WG_VIC_J"),resultwi=parent.helperFunctions.readCookieJson("WG_WEB"),sendSignalRMethod("send",resultCookie.V_I,search_result,ref,resultwi.W_I.toString()))}var parent=this,pageOpen=new Date,WebAddress=window.location.protocol+"//"+window.location.host,currentPage=window.location.href,ref="None",genericTM;document.referrer!=""&&(ref=document.referrer);genericTM=function(){var search_result={},resultCookie=parent.helperFunctions.readCookieJson("WG_VIC_J"),resultwi=parent.helperFunctions.readCookieJson("WG_WEB");if(resultwi!=""&&resultCookie!=""){search_result.websiteid=resultwi.W_I.toString();search_result.visitorid=resultCookie.V_I;search_result.postType="TM";search_result.actionurl=currentPage;search_result.websiteurl=WebAddress;search_result.active=!0;var pageClose=new Date,hours=pageClose.getHours()-pageOpen.getHours(),minutes=pageClose.getMinutes()-pageOpen.getMinutes(),seconds=pageClose.getSeconds()-pageOpen.getSeconds(),time=seconds+minutes*60+hours*3600;return search_result.time=time<7?1:time,JSON.stringify(search_result)}else return""};sendTm();setInterval(function(){sendTm()},2e4);parent.helperFunctions.createCookie("timeCookie",new Date);LaJq(document).mousemove(function(){var a=new Date,resultCookie;""==parent.helperFunctions.readCookie("timeCookie")&&(pageOpen=new Date,resultCookie=parent.helperFunctions.readCookieJson("WG_VIC_J"),sendSignalRMethod("registerMe",resultCookie.V_N,resultCookie.V_I));parent.helperFunctions.createCookie("timeCookie",a)});setInterval(function(){parent.helperFunctions.timedOut(parent.helperFunctions.readCookie("timeCookie"))&&(LaJq.connection.hub.stop(),signalRConnected=!1,parent.helperFunctions.deleteCookie("timeCookie"))},1e4)};getData.prototype.helperFunctions=helperFunctions;config={plugins:"",logicVersion:"4.4.twu",version:"2.0",emoticon:!1,preSurveyTemplateId:"1",offlineTemplateId:"1",vbBubbleTemplateId:"1",customInlineCss:'#ChatDiv #powerdBy {\r\n    padding-left: 0 !important;\r\n    text-align: left !important;;\r\n}\r\na#powered_by_2:before {\r\n    content: "Privacy Policy";\r\n}\r\n#ChatDiv a#powered_by_2 {\r\n    color: #a1a1a1 !important;\r\n    text-align: right;\r\n    float: right;\r\n}\r\nspan#preFormPanelHeadLinkSpan {\r\n    display: none !important;\r\n}\r\n\r\n\r\n.page-node-97171 #offlineForm {\r\n    display: none !important;\r\n}\r\n\r\n#ChatDiv #logoImage {\r\n    position: relative;\r\n    top: 15px;\r\n}\r\n\r\n#preFormPanelHead #preFormPanelHeadLink {\r\n    background: url(//cdn1.thelivechatsoftware.com/assets/liveadmins/twu.ca/resources/twu-ca_2022-09-29.08-26-03.png);\r\n    height: 49px;\r\n    background-repeat: no-repeat;\r\n    background-position: 32px 20px;\r\n}\r\n#ChatDiv #logoImage {\r\n    display: none !important;\r\n}\r\n',customCss:"#ChatDiv span#dropArowStyleIcon,#ChatDiv #dropArowStyleIcon{color:rgb(0, 46, 93)}#ChatDiv span#closeIcon,#ChatDiv #closeIcon{color:rgb(0, 46, 93)}#ChatDiv span#minimizeIcon,#ChatDiv #minimizeIcon{color:rgb(0, 46, 93)}#ChatDiv span#preFormPanelHeadLinkSpan,#ChatDiv #preFormPanelHeadLinkSpan{color:rgb(255, 255, 255)} #offlineForm #offlineHeading{color:rgb(255, 255, 255)} #offlineForm #setOfflineButton{color:rgb(255, 255, 255)} #textUs #textUsHeaderTitle{color:rgb(255, 255, 255)} #textUs #btnSubmit{color:rgb(255, 255, 255)}#ChatDiv span#operatorName,#ChatDiv #operatorName{color:rgb(0, 46, 93)} #ChatDiv #btnSend:hover+ #btnSendMap{color:rgb(0, 46, 93)} #ChatDiv #emitconParent:hover{color:rgb(0, 46, 93)}#ChatDiv p#operatorMessage,#ChatDiv #operatorMessage{color:rgb(47, 127, 226)}#ChatDiv span#visitorName,#ChatDiv #visitorName{color:rgb(0, 46, 93)}#ChatDiv p#visitorMessage,#ChatDiv #visitorMessage{color:rgb(47, 127, 226)}#ChatDiv div#btnSendMap,#ChatDiv #btnSendMap{color:rgb(47, 127, 226)}#ChatDiv span#powerdByText,#ChatDiv #powerdByText{color:rgb(158, 158, 158)}#ChatDiv a#powered_by_1,#ChatDiv #powered_by_1{color:rgb(158, 158, 158)}#ChatDiv a#powered_by_2,#ChatDiv #powered_by_2{color:rgb(161, 161, 161)}#ChatDiv #preFormPanelHead{background-color:rgb(239, 238, 235)} #textUs #textUsHeader{background-color:rgb(239, 238, 235)} #offlineForm #offlineHeading{background-color:rgb(239, 238, 235)} #offlineForm #setOfflineButton{background-color:rgb(239, 238, 235)} #textUs #btnSubmit{background-color:rgb(239, 238, 235)}#live_chat_status .onlineIconParent{background-color:rgb(47, 127, 226)}#live_chat_status .offlineIconParent{background-color:rgb(47, 127, 226)}#live_chat_status .maximizeIconParent{background-color:rgb(47, 127, 226)}#live_chat_status .onlineIconMobileParent{background-color:rgb(47, 127, 226)}#live_chat_status .offlineIconMobileParent{background-color:rgb(47, 127, 226)}#live_chat_status .maximizeIconMobileParent{background-color:rgb(47, 127, 226)}",extensions:"",template:{templateId:"1",isCustomHtml:!0,customHtml:function($this){var ChatDiv=helperFunctions.createElement({id:"ChatDiv",element:"div",className:"ui-widget-content ui-resizable "}),preFormPanelHead=helperFunctions.createElement({id:"preFormPanelHead",element:"div",appendTo:ChatDiv,className:" inherit_css_textUs-textUsHeader inherit_css_offlineForm-offlineHeading inherit_css_offlineForm-setOfflineButton inherit_css_textUs-btnSubmit has_changed_css "}),preFormPanelHeadText=helperFunctions.createElement({id:"preFormPanelHeadText",element:"div",appendTo:preFormPanelHead}),preFormPanelHeadBtn=helperFunctions.createElement({id:"preFormPanelHeadBtn",element:"div",appendTo:preFormPanelHeadText}),dropArowStyle=helperFunctions.createElement({id:"dropArowStyle",element:"div",appendTo:preFormPanelHeadBtn}),dropArowStyleIcon=helperFunctions.createElement({id:"dropArowStyleIcon",element:"span",appendTo:dropArowStyle,click:$this.chatMenuToggle,className:"lcf "+config.icons.dropArowStyleIcon}),closeBTN=helperFunctions.createElement({id:"closeBTN",element:"div",appendTo:preFormPanelHeadBtn}),closeIcon=helperFunctions.createElement({id:"closeIcon",element:"span",appendTo:closeBTN,click:$this.closeChatWindow,className:"lcf "+config.icons.closeIcon}),minimizeButton=helperFunctions.createElement({id:"minimizeButton",element:"span",appendTo:preFormPanelHeadBtn}),minimizeIcon=helperFunctions.createElement({id:"minimizeIcon",element:"span",appendTo:minimizeButton,click:$this.minimizeWindow,className:"lcf "+config.icons.minimizeIcon}),preFormPanelHeadLink=helperFunctions.createElement({id:"preFormPanelHeadLink",element:"div",appendTo:preFormPanelHeadBtn}),preFormPanelHeadLinkSpan=helperFunctions.createElement({id:"preFormPanelHeadLinkSpan",element:"span",appendTo:preFormPanelHeadLink,className:"swap-logo-logoImage inherit_css_offlineForm-offlineHeading inherit_css_offlineForm-setOfflineButton  inherit_css_textUs-textUsHeaderTitle inherit_css_textUs-btnSubmit "}),logoImage=helperFunctions.createElement({id:"logoImage",element:"img",appendTo:preFormPanelHeadLink,src:"//cdn1.thelivechatsoftware.com/assets/liveadmins/twu.ca/resources/logo_2020-06-01.06-56-11.png",className:"swap-logo-preFormPanelHeadLinkSpan "}),dropDownBox=helperFunctions.createElement({id:"dropDownBox",element:"div",appendTo:preFormPanelHeadBtn,className:"ui-draggable ui-draggable-handle "}),dRightSide=helperFunctions.createElement({id:"dRightSide",element:"div",appendTo:dropDownBox}),rateSec=helperFunctions.createElement({id:"rateSec",element:"div",appendTo:dRightSide}),upBTN=helperFunctions.createElement({id:"upBTN",element:"span",appendTo:rateSec,click:$this.chatUpRating,className:"lcf "+config.icons.upBTN}),downBTN=helperFunctions.createElement({id:"downBTN",element:"span",appendTo:rateSec,click:$this.chatDownRating,className:"lcf "+config.icons.downBTN}),rateText=helperFunctions.createElement({id:"rateText",element:"p",appendTo:rateSec,className:" "}),txtChatWin=helperFunctions.createElement({id:"txtChatWin",element:"div",appendTo:ChatDiv}),botDiv=helperFunctions.createElement({id:"botDiv",element:"div",appendTo:ChatDiv}),typingstatus=helperFunctions.createElement({id:"typingstatus",element:"div",appendTo:botDiv,className:""}),msgArea=helperFunctions.createElement({id:"msgArea",element:"div",appendTo:botDiv}),txtMessageWin=helperFunctions.createElement({id:"txtMessageWin",element:"textarea",appendTo:msgArea,click:$this.hideEmoticonsSection,keyPress:$this.onTxtMessageWinKeyPress,className:"is_placeholder "}),btnSend=helperFunctions.createElement({id:"btnSend",element:"div",appendTo:msgArea,click:$this.onSendClick,className:""}),btnSendMap=helperFunctions.createElement({id:"btnSendMap",element:"div",appendTo:msgArea,className:"lcf "+config.icons.btnSendMap}),powerdBy=helperFunctions.createElement({id:"powerdBy",element:"div",appendTo:botDiv}),powerdByText=helperFunctions.createElement({id:"powerdByText",element:"span",appendTo:powerdBy,className:"has_changed_css "}),powered_by_1=helperFunctions.createElement({id:"powered_by_1",element:"a",appendTo:powerdBy,href:config.setLinks.powered_by_1,className:"powerdByLink enable_link_editor has_changed_css "}),powered_by_2=helperFunctions.createElement({id:"powered_by_2",element:"a",appendTo:powerdBy,href:config.setLinks.powered_by_2,className:"powerdByLink2 enable_link_editor has_changed_css "});return ChatDiv}},cssFiles:{structureCss:"@import 'https://fonts.googleapis.com/css?family=Droid+Sans';.dark-theme div#typingstatus {color: #fff !important;}#ChatDiv.dark-theme {background-color: #3d3d3d;}.dark-theme #sendStatus,.dark-theme #operatorMessage,.dark-theme #opconv,.dark-theme #visitorMessage,.dark-theme #vstrconv,.dark-theme #powerdByText,.dark-theme #powered_by_1,.dark-theme #email-chat,div#ChatDiv.dark-theme div#minimizeButton #minimizeIcon,div#ChatDiv.dark-theme div#closeBTN #closeIcon{color:#fff!important}.dark-theme span#visitorName{color:#55b740!important}.dark-theme #emoji-button{background:#3d3d3d!important}.dark-theme #theme-toggle{background:#3d3d3d!important}#theme-toggle{position:absolute;right:19px;bottom:22px}#emoji-button{position:absolute;right:31px;bottom:59px}div#ChatDiv.dark-theme div#preFormPanelHead,div.dark-theme#ChatDiv #txtChatWin,.dark-theme #txtChatWin div,.dark-theme #botDiv{background:#3d3d3d!important}.dark-theme #txtMessageWin{border:1px solid #fff!important;color:#000!important}#themeToggleImg{cursor:pointer}div#theme-toggle-main{position:absolute;right:20px;bottom:82px;left:auto;margin:0 auto!important;background-color:transparent;text-align:center}#theme-toggle-main span#theme-toggle-span{position:relative;top:0;margin-right:7px;font-size:10px;font-family:'Droid Sans',sans-serif}.dark-theme span#operatorMessage{background-color:transparent}.dark-theme #theme-toggle-main span#theme-toggle-span{color:#fff}div#ChatDiv.dark-theme div#chatwin_username,div#ChatDiv.dark-theme span#header_text_id{color:#fff}.dark-theme div#theme-toggle-main{background:transparent!important}.dark-theme button#emoji-button{background:transparent!important}.themeSwitch{position:relative;display:inline-block;width:40px;height:20px;top:6px}.themeSwitch input#theme-toggle{opacity:0;width:0;height:0}.themeSlider{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:#3774b9;-webkit-transition:.4s;transition:.4s}.themeSlider:before{position:absolute;content:'OFF';height:12px;width:22px;left:4px;bottom:3px;background-color:#fff;-webkit-transition:.4s;transition:.4s;font-size:8px;font-family:'Droid Sans',sans-serif;text-align:center;padding-top:2px;line-height:1.5}input#theme-toggle:checked+.themeSlider{background-color:#B9B9B9}input#theme-toggle:focus+.themeSlider{box-shadow:0 0 1px #2196F3}input#theme-toggle:checked+.themeSlider:before{content:'On';-webkit-transform:translateX(11px);-ms-transform:translateX(11px);transform:translateX(11px)}.themeSlider.themeRound{border-radius:34px}.themeSlider.themeRound:before{border-radius:10px}#ChatDiv,#ChatDiv *,.live_chat_status,.live_chat_status *{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline}#ChatDiv #logoImage{margin: 0 auto;}#ChatDiv{background:#fff;border-color:#cccccc !important;border-radius:4px;bottom:5px;box-shadow:2px 2px 30px rgba(0,0,0,0.1), -2px -2px 30px rgba(0,0,0,0.1);width:269px;position:fixed;right:5px;font-family:'Droid Sans', sans-serif;z-index:2147483647;display:none;padding-bottom:5px;}#ChatDiv > div{padding:0 15px}#ChatDiv #preFormPanelHead{background:#01204f none repeat scroll 0 0;border-radius:4px 4px 0 0;box-shadow:0 3px 4px #cccccc;color:#ffffff;min-height:45px;position:relative}#preFormPanelHead #dropArowStyle{position: absolute;top: 0;left: 15px;line-height:45px;cursor:pointer}#preFormPanelHead #closeBTN{position: absolute;top: 0;right: 15px;line-height: 45px;cursor: pointer;}#preFormPanelHead #minimizeButton{position: absolute;top: 0;right: 40px;line-height:45px;cursor:pointer}#preFormPanelHead #preFormPanelHeadLink{line-height:45px;text-align:center}#preFormPanelHeadLinkSpan{font-size:14px !important}#soundCheckDiv {padding: 10px 0;text-align: center;cursor: pointer;}#ChatDiv #dropDownBox{font-size:13px;background:#484848 none repeat scroll 0 0;display:none;left:0;opacity:0.9;position:absolute;top:45px;width:100px;z-index:2}#dropDownBox #dRightSide > div{border-bottom:1px solid #666666;padding:10px 0;text-align:center;cursor:pointer}#dropDownBox span{font-size:15px;margin-left:5px;margin-right:5px}#dropDownBox #dRightSide p{margin-top:5px}#ChatDiv #txtChatWin{font-size:14px;height:240px;padding-top:10px;overflow-y:auto}#txtChatWin .operatorBG,#txtChatWin .opDivMsg{width:100%;color:#3271b9}#txtChatWin .visitorBG{color:#888888;width:100%}#txtChatWin .sending{font-size:10px;line-height:10px;float:right}#txtChatWin .visitorBG,#txtChatWin .operatorBG,#txtChatWin .opDivMsg{float:left;line-height:20px !important;margin-bottom:10px !important;clear:both}#typingstatus{font-family: 'Droid Sans', sans-serif !important;font-size:13px !important;margin-bottom:3px !important;visibility:hidden}#txtChatWin #operatorMessage,#txtChatWin #visitorMessage{font-size: 14px !important;font-family: 'Droid Sans', sans-serif !important;vertical-align:top;white-space:normal;word-wrap:break-word}#ChatDiv #msgArea{border:1px solid #dddddd;border-radius:4px;height:45px;background-color: #fff;position:relative}#ChatDiv #txtMessageWin{color:#888888;border:medium none;border-radius:0px;float:left;font-family:'Droid Sans', sans-serif;font-size:13px;height:31px;padding:5px;resize:none;width:75%;min-width:75%;background:none;outline: none;min-height: 31px;line-height: normal;box-sizing: unset;box-shadow: 0 0;background-color: transparent !important;}#ChatDiv #txtMessageWin::-webkit-input-placeholder{color:#ccc !important}#ChatDiv #txtMessageWin:-moz-placeholder{color:#ccc !important}#ChatDiv #txtMessageWin::-moz-placeholder{color:#ccc !important}#txtMessageWinLabel {display: none !important;}#ChatDiv #txtMessageWin:-ms-input-placeholder{color:#ccc !important}#ChatDiv #btnSendMap{color:#dddddd;float:right;line-height:45px;padding:0 6px}#ChatDiv #btnSend{height:45px;position:absolute;right:0;width:25px;cursor:pointer}#ChatDiv #btnSend:hover + #btnSendMap{color:#3473b9 }#ChatDiv #powerdBy{clear: both;padding-left: 28px;color:#cccccc;font-size:11px;line-height:25px;text-align:center}#ChatDiv #powerdBy a{color:#cccccc;text-decoration:none}#ChatDiv #cwin_username{display:none}.toggle-up{transform:rotate(90deg);transition:all 0.5s}#ChatDiv .lcf{font-family:livechatfont !important}#ChatDiv .grow{transform:scale(1);transition:all 0.15s ease-in}#ChatDiv #operatorPicContainer{position:absolute;z-index:5;height:63px;width:60px;top:-50px;left:0}#ChatDiv #operatorPic{width:100%;height:100%}#ChatDiv #languagesContainer{width:215px;margin:5px auto;font-size:11px;position:relative;display:none;padding:0px;}#ChatDiv #currentLanguage{margin:0 5px}#ChatDiv #currentLanguage #languageArrow{float:right}#ChatDiv #languageArrow{cursor:pointer;}#ChatDiv #allLanguages{position:absolute;display:none;list-style:none;right:31px;width:105px;top:25px;padding:0px;background:#ccc;-webkit-border-radius:5px;-moz-border-radius:5px;border-radius:5px;z-index:1}#ChatDiv #allLanguages:after{content:'';position:absolute;border-style:solid;border-width:0 10px 10px;border-color:#ccc transparent;display:block;width:0;z-index:1;top:-10px;left:42px}#ChatDiv #allLanguages li{padding:5px;cursor:pointer;text-align:center}#ChatDiv #allLanguages li:hover{color:#fff}#ChatDiv #languageChangeText{margin-bottom:20px;clear:both;font-size:12px;text-align:center}#ChatDiv .w3-animate-bottom{position:relative;-webkit-animation:animatebottom 0.4s;animation:animatebottom 0.4s}@-webkit-keyframes 'animatebottom'{from{bottom:-14px;opacity:0;}to{bottom:0px;opacity:1;}}@keyframes 'animatebottom'{from{bottom:-14px;opacity:0;}to{bottom:0;opacity:1;}}#ChatDiv .w3-animate-right{position:relative;-webkit-animation:animateright 0.4s;animation:animateright 0.4s}@-webkit-keyframes 'animateright'{from{right:-14px;opacity:0;}to{right:0;opacity:1;}}@keyframes 'animateright'{from{right:-14px;opacity:0;}to{right:0;opacity:1;}}#ChatDiv #emitconParent{float:right;color:#ddd;line-height:45px;cursor:pointer}#ChatDiv #emitconParent.color{color:#3473b9 !important}#ChatDiv #emitconParent:hover{color:#3473b9 }#ChatDiv #emoticonContainer{display:none;top:-130px;right:-1px;position:absolute !important;box-shadow:5px 5px 9px #ccc}#ChatDiv #emoticonContainer img{margin:5px;cursor:pointer}#ChatDiv #emoticonContainer.bubble{position:relative;width:117px;height:100px;padding:10px;background:#FFFFFF;-webkit-border-radius:5px;-moz-border-radius:5px;border-radius:5px;border:#dddddd solid 1px}#ChatDiv #emoticonContainer.bubble:after{content:'';position:absolute;border-style:solid;border-width:15px 14px 0;border-color:#FFFFFF transparent;display:block;width:0;z-index:1;bottom:-15px;left:85px}#ChatDiv #emoticonContainer.bubble:before{content:'';position:absolute;border-style:solid;border-width:15px 14px 0;border-color:#dddddd transparent;display:block;width:0;z-index:0;bottom:-16px;left:85px}.live_chat_status{cursor:pointer}#live_chat_status{display:none;position:fixed;right:20px;bottom:20px;cursor:pointer;z-index:2147483646;}#preSurveyForm{background:#f3f1f2 none repeat scroll 0 0;border:1px solid #cdcdcd;bottom:5px;font-family:'Titillium Web' !important;position:fixed;right:5px;width:270px;z-index:9999;display:none}.reqRed{color:#F00}#preSurveyForm > form{margin-top:13px;padding:0 20px 12px;font-family:'Titillium Web' !important}#crosstoclosee{cursor:pointer;float:right;font-size:13px;font-weight:lighter !important;line-height:12px;margin-right:3px}#preSurveyForm input{border:medium none;float:left;font-size:11px;height:25px;margin-bottom:10px;padding:3px;width:97%;font-family:'Titillium Web' !important}#preSurveyForm label{float:left;clear:left;font-size:13px;line-height:28px;color:#5b595a;font-family:'Titillium Web' !important}#preSurveyForm h3{background-color:#1a4d84;color:#ffffff;font-size:16px;font-weight:normal;margin:0;padding:8px 0;text-align:center;font-family:'Titillium Web' !important}#setSurveyButton{background:#1a4d84 none repeat scroll 0 0;border:medium none;color:#ffffff;display:block;float:left !important;font-size:14px !important;height:27px !important;line-height:23px !important;margin:13px auto 0 !important;padding:0 !important;text-align:center;width:100% !important;font-family:'Titillium Web' !important}#preSurveyError{color:red;font-size:14px;font-family:'Titillium Web' !important}.errormsg{float:left;font-size:11px;margin-bottom:8px;margin-top:-8px;display:none;font-family:'Titillium Web' !important}#nameError,#emailError,#commentError,#emailSyntaxError{display:none;float:left;margin-bottom:8px;margin-top:-18px;color:#545454;font-family:'Titillium Web';font-size:12px;text-align:left}#powerdBySurvey{border-top:1px solid #cccccc;color:#666666;float:left;font-family:'Titillium Web' !important;font-size:12px;margin-top:27px;padding-top:6px;text-align:center;width:100%;cursor:pointer;padding-bottom:9px}#powerdBySurvey a{color:#666;text-decoration:none}#offlineForm{background:#f3f1f2 none repeat scroll 0 0;border:1px solid #cdcdcd;bottom:5px;font-family:'Titillium Web' !important;position:fixed;right:5px;width:270px;z-index:9999;display:none}#offlineForm .reqRed{color:#F00}#offlineForm > form{margin-top:0;padding:0 20px 12px;font-family:'Droid Sans',sans-serif !important}#offlineForm #crosstoclosee{cursor:pointer;float:right;font-size:13px;font-weight:lighter !important;line-height:12px;margin-right:3px}#offlineForm input{border:medium none;float:left;font-family:'Droid Sans',sans-serif !important;font-size:12px;height:20px;margin-bottom:0;margin-top:9px;padding:3px;width:97%}#offlineForm label{float:left;clear:left;font-size:13px;line-height:28px;color:#5b595a;font-family:'Droid Sans',sans-serif !important;display:none}#offlineForm h1, #offlineForm h3, #offlineHeading{background-color:#01204f;color:#ffffff;font-size:16px;font-weight:normal;margin:0;padding:5px 0;text-align:center;font-family:'Droid Sans',sans-serif !important;float: left;width: 100%;line-height: 24px;margin-bottom:5px;}#setOfflineFormHide{color:#ffffff;padding:7px 6px;position:absolute;right:0;top:0;cursor:pointer;font-weight:bold}#setOfflineButton{background:#a3242e none repeat scroll 0 0;border:medium none;border-radius:5px;color:#ffffff;cursor:pointer;display:block;float:right !important;font-size:12px !important;font-weight:bold;height:24px !important;line-height:23px !important;margin:11px auto 12px !important;max-width:80px;padding:0 !important;text-align:center;width:100% !important}#form-title-text{color:#545454;display:block;font-size:12px;margin:8px auto 0;text-align:center}#powerdByOffline{border-top:1px solid #cccccc;color:#666666;float:left;font-family:'Titillium Web' !important;font-size:12px;margin-top:8px;padding-top:6px;text-align:center;width:100%;cursor:pointer;padding-bottom:9px;display:none}#powerdByOffline a{color:#666;text-decoration:none}#ChatDiv #rateChatThankMsg {display: none;font-size: 12px;position: absolute;left: 21px;bottom: 83px;}.liveChatIcon{font-size: 45px;color: #fff;line-height: 70px !important;}.button_icon_parent{text-align: center;background-color: #01204f;border-radius: 48px;height: 70px;width: 70px;margin: 0 auto;}@font-face{font-family:livechatfont;src:url(//cdn1.thelivechatsoftware.com/chatwindow-assets/2.0/Fonts/livechatfont.eot?8i9oaf);src:url(//cdn1.thelivechatsoftware.com/chatwindow-assets/2.0/Fonts/livechatfont.eot?8i9oaf#iefix) format('embedded-opentype'),url(//cdn1.thelivechatsoftware.com/chatwindow-assets/2.0/Fonts/livechatfont.ttf?8i9oaf) format('truetype'),url(//cdn1.thelivechatsoftware.com/chatwindow-assets/2.0/Fonts/livechatfont.woff?8i9oaf) format('woff'),url(//cdn1.thelivechatsoftware.com/chatwindow-assets/2.0/Fonts/livechatfont.svg?8i9oaf#livechatfont) format('svg');font-weight:400;font-style:normal}[class*=' lcf-'],[class^=lcf-]{font-family:livechatfont!important;speak:none;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.lcf-star-filled:before {content: '\\\\e955';}.lcf-star-hollow:before {content: '\\\\e956';}.lcf-fb-messenger:before {content: '\\\\e951';}.lcf-chat-bubble-25:before{content:'\\\\e9d1';}.lcf-youtube-1:before{content:'\\\\e9d2';}.lcf-sms-icon-7:before{content:'\\\\e9d3';}.lcf-double-arrow-left:before{content:'\\\\e959'}.lcf-double-arrow-right:before{content:'\\\\e95a'}.lcf-single-arrow-left:before{content:'\\\\e95b'}.lcf-sinngle-arrow-right:before{content:'\\\\e95c'}.lcf-googleplus:before{content:'\\\\e95d'}.lcf-laptop:before{content:'\\\\e95e'}.lcf-whatsapp:before{content:'\\\\e95f'}.lcf-lcf-icons-artboard_google:before{content:'\\\\e960'}.lcf-instagram:before{content:'\\\\e961'}.lcf-linkedin:before{content:'\\\\e962'}.lcf-youtube:before{content:'\\\\e963'}.lcf-lcf-icons-artboard_twitter:before{content:'\\\\e964'}.lcf-facebook:before{content:'\\\\e965'}.lcf-mobile-icon-1:before{content:'\\\\e966'}.lcf-mobile-icon-2:before{content:'\\\\e967'}.lcf-mobile-icon-3:before{content:'\\\\e968'}.lcf-mobile-icon-4:before{content:'\\\\e969'}.lcf-sms-icon-1:before{content:'\\\\e96a'}.lcf-sms-icon-2:before{content:'\\\\e96b'}.lcf-sms-icon-3:before{content:'\\\\e96c'}.lcf-sms-icon-4:before{content:'\\\\e96d'}.lcf-sms-icon-5:before{content:'\\\\e96e'}.lcf-sms-icon-6:before{content:'\\\\e96f'}.lcf-up-arrow-1:before{content:'\\\\e970'}.lcf-up-arrow-2:before{content:'\\\\e971'}.lcf-up-arrow-3:before{content:'\\\\e972'}.lcf-attach-1:before{content:'\\\\e973'}.lcf-attach-2:before{content:'\\\\e974'}.lcf-attach-3:before{content:'\\\\e975'}.lcf-chat-bubble-1:before{content:'\\\\e976'}.lcf-chat-bubble-2:before{content:'\\\\e977'}.lcf-chat-bubble-3:before{content:'\\\\e978'}.lcf-chat-bubble-4:before{content:'\\\\e979'}.lcf-chat-bubble-5:before{content:'\\\\e97a'}.lcf-chat-bubble-6:before{content:'\\\\e97b'}.lcf-chat-bubble-7:before{content:'\\\\e97c'}.lcf-chat-bubble-8:before{content:'\\\\e97d'}.lcf-chat-bubble-9:before{content:'\\\\e97e'}.lcf-chat-bubble-10:before{content:'\\\\e97f'}.lcf-chat-bubble-11:before{content:'\\\\e980'}.lcf-chat-bubble-12:before{content:'\\\\e981'}.lcf-chat-bubble-13:before{content:'\\\\e982'}.lcf-chat-bubble-14:before{content:'\\\\e983'}.lcf-chat-bubble-15:before{content:'\\\\e984'}.lcf-chat-bubble-16:before{content:'\\\\e985'}.lcf-chat-bubble-17:before{content:'\\\\e986'}.lcf-chat-bubble-18:before{content:'\\\\e987'}.lcf-chat-bubble-19:before{content:'\\\\e988'}.lcf-chat-bubble-20:before{content:'\\\\e989'}.lcf-chat-bubble-23:before{content:'\\\\e98a'}.lcf-chat-bubble-22:before{content:'\\\\e98b'}.lcf-close-round:before{content:'\\\\e98c'}.lcf-close-square:before{content:'\\\\e98d'}.lcf-close-square-1:before{content:'\\\\e98e'}.lcf-emoticon-1:before{content:'\\\\e98f'}.lcf-emoticon-2:before{content:'\\\\e990'}.lcf-emoticon-3:before{content:'\\\\e991'}.lcf-menu-1:before{content:'\\\\e992'}.lcf-menu-2:before{content:'\\\\e993'}.lcf-menu-3:before{content:'\\\\e994'}.lcf-menu-4:before{content:'\\\\e995'}.lcf-menu-5:before{content:'\\\\e996'}.lcf-menu-6:before{content:'\\\\e997'}.lcf-minimize-2:before{content:'\\\\e998'}.lcf-minimize-3:before{content:'\\\\e999'}.lcf-minimize-4:before{content:'\\\\e99a'}.lcf-minimize-5:before{content:'\\\\e99b'}.lcf-minimize-6:before{content:'\\\\e99c'}.lcf-min-round:before{content:'\\\\e99d'}.lcf-min-square:before{content:'\\\\e99e'}.lcf-min-square-1:before{content:'\\\\e99f'}.lcf-mute-1:before{content:'\\\\e9a0'}.lcf-mute-2:before{content:'\\\\e9a1'}.lcf-mute-3:before{content:'\\\\e9a2'}.lcf-plane-4:before{content:'\\\\e9a3'}.lcf-plane-5:before{content:'\\\\e9a4'}.lcf-send-1:before{content:'\\\\e9a5'}.lcf-send-2:before{content:'\\\\e9a6'}.lcf-send-3:before{content:'\\\\e9a7'}.lcf-send-4:before{content:'\\\\e9a8'}.lcf-send-5:before{content:'\\\\e9a9'}.lcf-send-6:before{content:'\\\\e9aa'}.lcf-send-7:before{content:'\\\\e9ab'}.lcf-settings-1:before{content:'\\\\e9ac'}.lcf-settings-2:before{content:'\\\\e9ad'}.lcf-settings-3:before{content:'\\\\e9ae'}.lcf-thumbs-down-1:before{content:'\\\\e9af'}.lcf-thumbs-up-1:before{content:'\\\\e9b0'}.lcf-unmute-1:before{content:'\\\\e9b1'}.lcf-unmute-2:before{content:'\\\\e9b2'}.lcf-unmute-3:before{content:'\\\\e9b3'}.lcf-email:before{content:'\\\\e9b4'}.lcf-thumbs-up-2:before{content:'\\\\e9b5'}.lcf-thumbs-down-2:before{content:'\\\\e9b6'}.lcf-menu-8:before{content:'\\\\e9b7'}.lcf-emoticon-4:before{content:'\\\\e9b8'}.lcf-plane-6:before{content:'\\\\e9b9'}.lcf-settings:before{content:'\\\\e9ba'}.lcf-thumbs-down-3:before{content:'\\\\e9bb'}.lcf-thumbs-up-3:before{content:'\\\\e9bc'}.lcf-attach-4:before{content:'\\\\e9bd'}.lcf-mail:before{content:'\\\\e9be'}.lcf-bell:before{content:'\\\\e9bf'}.lcf-air-play:before{content:'\\\\e9c0'}.lcf-video:before{content:'\\\\e9c1'}.lcf-settings-4:before{content:'\\\\e9c2'}.lcf-min-round-2:before{content:'\\\\e9c3'}.lcf-close-round-2:before{content:'\\\\e9c4'}.lcf-microphone:before{content:'\\\\e9c5'}.lcf-chat-bubble-21:before{content:'\\\\e9c6'}.lcf-unmute-4:before{content:'\\\\e9c7'}.lcf-mute-4:before{content:'\\\\e9c8'}.lcf-menu-7:before{content:'\\\\e9c9'}.lcf-open:before{content:'\\\\e9ca'}.lcf-menu-9:before{content:'\\\\e9cb'}.lcf-plus:before{content:'\\\\e9cc'}.lcf-min-1:before{content:'\\\\e9cd'}.lcf-check:before{content:'\\\\e9ce'}.lcf-close-1:before{content:'\\\\e9cf'}.lcf-lcf-icons-artboard_twitter1:before{content:'\\\\e9d0'}.lcf-googleplus1:before{content:'\\\\e951'}.lcf-laptop1:before{content:'\\\\e952'}.lcf-whatsapp1:before{content:'\\\\e953'}.lcf-lcf-icons-artboard_google1:before{content:'\\\\e954'}.lcf-instagram1:before{content:'\\\\e955'}.lcf-linkedin1:before{content:'\\\\e956'}.lcf-youtube1:before{content:'\\\\e957'}.lcf-facebook1:before{content:'\\\\e958'}.lcf-mobile-icon-11:before{content:'\\\\e946'}.lcf-mobile-icon-21:before{content:'\\\\e947'}.lcf-mobile-icon-31:before{content:'\\\\e948'}.lcf-mobile-icon-41:before{content:'\\\\e949'}.lcf-sms-icon-11:before{content:'\\\\e94a'}.lcf-sms-icon-21:before{content:'\\\\e94b'}.lcf-sms-icon-31:before{content:'\\\\e94c'}.lcf-sms-icon-41:before{content:'\\\\e94d'}.lcf-sms-icon-51:before{content:'\\\\e94e'}.lcf-sms-icon-61:before{content:'\\\\e94f'}.lcf-up-arrow-11:before{content:'\\\\e943'}.lcf-up-arrow-21:before{content:'\\\\e944'}.lcf-up-arrow-31:before{content:'\\\\e945'}.lcf-attach-11:before{content:'\\\\e903'}.lcf-attach-21:before{content:'\\\\e904'}.lcf-attach-31:before{content:'\\\\e905'}.lcf-chat-bubble-110:before{content:'\\\\e906'}.lcf-chat-bubble-24:before{content:'\\\\e907'}.lcf-chat-bubble-31:before{content:'\\\\e908'}.lcf-chat-bubble-41:before{content:'\\\\e909'}.lcf-chat-bubble-51:before{content:'\\\\e90a'}.lcf-chat-bubble-61:before{content:'\\\\e90b'}.lcf-chat-bubble-71:before{content:'\\\\e90c'}.lcf-chat-bubble-81:before{content:'\\\\e90d'}.lcf-chat-bubble-91:before{content:'\\\\e90e'}.lcf-chat-bubble-101:before{content:'\\\\e90f'}.lcf-chat-bubble-111:before{content:'\\\\e910'}.lcf-chat-bubble-121:before{content:'\\\\e911'}.lcf-chat-bubble-131:before{content:'\\\\e912'}.lcf-chat-bubble-141:before{content:'\\\\e913'}.lcf-chat-bubble-151:before{content:'\\\\e914'}.lcf-chat-bubble-161:before{content:'\\\\e915'}.lcf-chat-bubble-171:before{content:'\\\\e916'}.lcf-chat-bubble-181:before{content:'\\\\e917'}.lcf-chat-bubble-191:before{content:'\\\\e918'}.lcf-chat-bubble-201:before{content:'\\\\e919'}.lcf-chat-bubble-231:before{content:'\\\\e91a'}.lcf-chat-bubble-221:before{content:'\\\\e91b'}.lcf-close-round1:before{content:'\\\\e91c'}.lcf-close-square1:before{content:'\\\\e91d'}.lcf-close-square-11:before{content:'\\\\e91e'}.lcf-emoticon-11:before{content:'\\\\e91f'}.lcf-emoticon-21:before{content:'\\\\e920'}.lcf-emoticon-31:before{content:'\\\\e921'}.lcf-menu-11:before{content:'\\\\e922'}.lcf-menu-21:before{content:'\\\\e923'}.lcf-menu-31:before{content:'\\\\e924'}.lcf-menu-41:before{content:'\\\\e925'}.lcf-menu-51:before{content:'\\\\e926'}.lcf-menu-61:before{content:'\\\\e927'}.lcf-minimize-21:before{content:'\\\\e928'}.lcf-minimize-31:before{content:'\\\\e929'}.lcf-minimize-41:before{content:'\\\\e92a'}.lcf-minimize-51:before{content:'\\\\e92b'}.lcf-minimize-61:before{content:'\\\\e92c'}.lcf-min-round1:before{content:'\\\\e92d'}.lcf-min-square1:before{content:'\\\\e92e'}.lcf-min-square-11:before{content:'\\\\e92f'}.lcf-mute-11:before{content:'\\\\e930'}.lcf-mute-21:before{content:'\\\\e931'}.lcf-mute-31:before{content:'\\\\e932'}.lcf-plane-41:before{content:'\\\\e933'}.lcf-plane-51:before{content:'\\\\e934'}.lcf-send-11:before{content:'\\\\e935'}.lcf-send-21:before{content:'\\\\e936'}.lcf-send-31:before{content:'\\\\e937'}.lcf-send-41:before{content:'\\\\e938'}.lcf-send-51:before{content:'\\\\e939'}.lcf-send-61:before{content:'\\\\e93a'}.lcf-send-71:before{content:'\\\\e950'}.lcf-settings-11:before{content:'\\\\e93b'}.lcf-settings-21:before{content:'\\\\e93c'}.lcf-settings-31:before{content:'\\\\e93d'}.lcf-thumbs-down-11:before{content:'\\\\e93e'}.lcf-thumbs-up-11:before{content:'\\\\e93f'}.lcf-unmute-11:before{content:'\\\\e940'}.lcf-unmute-21:before{content:'\\\\e941'}.lcf-unmute-31:before{content:'\\\\e942'}.lcf-email1:before{content:'\\\\e902'}.lcf-thumbs-up-21:before{content:'\\\\e900'}.lcf-thumbs-down-21:before{content:'\\\\e901'}.lcf-menu-81:before{content:'\\\\e3c7'}.lcf-emoticon-41:before{content:'\\\\e420'}.lcf-plane-61:before{content:'\\\\e163'}.lcf-settings1:before{content:'\\\\e8b8'}.lcf-thumbs-down-31:before{content:'\\\\e8db'}.lcf-thumbs-up-31:before{content:'\\\\e8dc'}.lcf-attach-41:before{content:'\\\\e001'}.lcf-mail1:before{content:'\\\\e002'}.lcf-bell1:before{content:'\\\\e006'}.lcf-air-play1:before{content:'\\\\e016'}.lcf-video1:before{content:'\\\\e018'}.lcf-settings-41:before{content:'\\\\e023'}.lcf-min-round-21:before{content:'\\\\e041'}.lcf-close-round-21:before{content:'\\\\e043'}.lcf-microphone1:before{content:'\\\\e048'}.lcf-chat-bubble-211:before{content:'\\\\e076'}.lcf-unmute-41:before{content:'\\\\e098'}.lcf-mute-41:before{content:'\\\\e099'}.lcf-menu-71:before{content:'\\\\e120'}.lcf-open1:before{content:'\\\\e128'}.lcf-menu-91:before{content:'\\\\e129'}.lcf-plus1:before{content:'\\\\e114'}.lcf-min-11:before{content:'\\\\e115'}.lcf-check1:before{content:'\\\\e116'}.lcf-close-11:before{content:'\\\\e117'} @keyframes lc-flickerAnimation { 0%   { opacity:1; } 50%  { opacity:0.5; } 100% { opacity:1; } } @-o-keyframes lc-flickerAnimation{ 0%   { opacity:1; } 50%  { opacity:0.5; } 100% { opacity:1; } } @-moz-keyframes lc-flickerAnimation{ 0%   { opacity:1; } 50%  { opacity:0.5; } 100% { opacity:1; } } @-webkit-keyframes lc-flickerAnimation{ 0%   { opacity:1; } 50%  { opacity:0.5; } 100% { opacity:1; } } .lc-animate-flicker { -webkit-animation: lc-flickerAnimation 1s infinite; -moz-animation: lc-flickerAnimation 1s infinite; -o-animation: lc-flickerAnimation 1s infinite; animation: lc-flickerAnimation 1s infinite; } #ChatDiv #onHoldMusicVolume{ position: absolute; right: 18px; bottom: 75px; cursor:pointer; }#ChatDiv .languageChangeText { float: left; margin-bottom: 10px !important; }#ChatDiv #dropArowStyle,#ChatDiv #closeBTN,#ChatDiv #minimizeButton {background:transparent !important;}#ChatDiv .slideshow-container{padding:0px!important;float:left;width:100%;}#ChatDiv .mySlidestext{width: 100%;height: 100%;position: absolute;left: 0;top: 0;}#ChatDiv .mySlides{position: relative;background-size: 100% 100%;text-align:center;padding:30px 0px!important;}#ChatDiv .bgOne{background-color:#cea651;}#ChatDiv .bgTwo{background-color:#ef681f;}#ChatDiv .bgThree{background-color:#aa152e;}",lcf:""},logoImage:{isEnabled:!0,src:"//cdn1.thelivechatsoftware.com/assets/liveadmins/twu.ca/resources/twu-ca_2022-09-29.08-26-03.png"},icons:{dropArowStyleIcon:"lcf-menu-7",closeIcon:"lcf-close-1",minimizeIcon:"lcf-min-1",upBTN:"lcf-thumbs-up-1",downBTN:"lcf-thumbs-down-1",btnSendMap:"lcf-email"},setText:{ar:{rateText:" ",hideBtnText:" ",typingstatus:"   ...",preFormPanelHeadLinkSpan:"  ",txtMessageWin:" ...",powerdByText:" : ",powered_by_1:"Liveadmins",languagesText:":  ",offlineHeading:"  ","form-title-text":"      .   ",offlineName:"  ",offlineEmail:"    ",offlinePhone:"    ",offlineCommentBox:" ",setOfflineButton:""},de:{rateText:"Beoordeel Chat",hideBtnText:"Sluiten Chat",typingstatus:"De operator typt ...",preFormPanelHeadLinkSpan:"Live Chat Support",txtMessageWin:"Typ hier ...",powerdByText:"Aangedreven door: ",powered_by_1:"LiveAdmins",languagesText:"Ihre aktuelle Sprache ist:",offlineHeading:"Offline formulier","form-title-text":"El chat en vivo no est disponible en este momento. Por favor, deje un mensaje.",offlineName:"por favor, escriba su nombre",offlineEmail:"Por favor introduzca su correo electrnico",offlinePhone:"Por favor ingrese su telfono",offlineCommentBox:"Por favor ingrese su comentario",setOfflineButton:"ENVIAR"},en:{rateText:"Rate Chat",hideBtnText:"Close Chat",typingstatus:"Operator is typing...",preFormPanelHeadLinkSpan:"Live Chat Support",txtMessageWin:"Type here...",powerdByText:"Powered By: ",powered_by_1:"LiveAdmins",languagesText:"Your current language is:",offlineHeading:"Offline Form","form-title-text":"Live Chat is unavailable at the moment. Please leave a message.",offlineName:"Please enter your name",offlineEmail:"Please enter your email",offlinePhone:"Please enter your phone",offlineCommentBox:"Please enter your comment",setOfflineButton:"SUBMIT"},es:{rateText:"Rate Chat",hideBtnText:"Cerrar chat",typingstatus:"El operador est escribiendo...",preFormPanelHeadLinkSpan:"Soporte de chat en vivo",txtMessageWin:"Escriba aqu...",powerdByText:"Energizado por: ",powered_by_1:"LiveAdmins",languagesText:"Tu idioma actual es:",offlineHeading:"Formulario fuera de lnea","form-title-text":"El chat en vivo no est disponible en este momento. Por favor, deje un mensaje.",offlineName:"por favor, escriba su nombre",offlineEmail:"Por favor introduzca su correo electrnico",offlinePhone:"Por favor ingrese su telfono",offlineCommentBox:"Por favor ingrese su comentario",setOfflineButton:"ENVIAR"},fr:{rateText:"Evaluer",hideBtnText:"Fermer",typingstatus:"L'agent crit...",preFormPanelHeadLinkSpan:"Clavardage",txtMessageWin:"Ecrivez ici...",powerdByText:"Produit par: ",powered_by_1:"LiveAdmins",languagesText:"Votre langue actuelle est:",offlineHeading:"Formulaire Hors ligne","form-title-text":"Le service de clavardage n'est pas disponible pour le moment, s'il vous plat laissez un message.",offlineName:"Votre nom",offlineEmail:"Votre courriel",offlinePhone:"Votre tlphone",offlineCommentBox:"Votre commentaire",setOfflineButton:"ENVOYER"}},setLinks:{powered_by_1:"https://www.liveadmins.com",powered_by_2:"https://www.twu.ca/about/university-privacy-policy"},buttons:{type:"icons",toolbar:{txtstrLink:"",templateId:"toolbar_template1",instagram:!1,instaLink:"",facebook:!1,facebookPageLink:"",facebookPageTimelineLink:"",twitter:!1,twitterLink:"",youtube:!1,youtubeLink:"",fbMessenger:!1,fbMessengerLink:"",textUs:!1,salescta:"",servicecta:"",partscta:""},icons:{onlineIcon:"lcf-chat-bubble-9",offlineIcon:"lcf-chat-bubble-9",maximizeIcon:"lcf-chat-bubble-9",onlineIconMobile:"lcf-chat-bubble-9",offlineIconMobile:"lcf-chat-bubble-9",maximizeIconMobile:"lcf-chat-bubble-9"},images:{onlineImage:"//cdn1.thelivechatsoftware.com/chatwindow-assets/2.0/Buttons/onlineImage/default-button.png",offlineImage:"//cdn1.thelivechatsoftware.com/chatwindow-assets/2.0/Buttons/offlineImage/default-button.png",maximizeImage:"//cdn1.thelivechatsoftware.com/chatwindow-assets/2.0/Buttons/maximizeImage/default-button.png",onlineImageMobile:"//cdn1.thelivechatsoftware.com/chatwindow-assets/2.0/Buttons/onlineImageMobile/default-button.png",offlineImageMobile:"//cdn1.thelivechatsoftware.com/chatwindow-assets/2.0/Buttons/offlineImageMobile/default-button.png",maximizeImageMobile:"//cdn1.thelivechatsoftware.com/chatwindow-assets/2.0/Buttons/maximizeImageMobile/default-button.png"}},gvars:{passiveOffline:!0,servicePrefix:"//blue.thelivechatsoftware.com/",IsCustomGreet:!1,isMobilePassive:!0,claimChat:!1,banner:!1,XMPP_ROUTE:"xmpp:localhost:5225",XMPP_SERVER:"localhost",XMPP_SERVICE:"//thechatsoftware.com/http-bind/",chatRoom:"@conference.localhost",isPageBased:!1,websiteID:10444,host:"",multiLingual:!1,pseudoName:!1,customPseudoName:"",smsFeature:!1,preChatSurveyVar:!1,operatorPic:!1,operatorPicPath:"",alertSound:!1,alertSoundPath:"",blockChat:!0,blockPages:["https://www.twu.ca/library","https://www.twu.ca/covid-19-campus-information/financial-aid-resource-guide/contact-us","https://www.twu.ca/financial-aid/contact-us","https://www.twu.ca/school-graduate-studies/contact-us","https://www.twu.ca/covid-19-campus-information/financial-aid-resource-guide/contact-form","https://www.twu.ca/wellness-centre/","https://www.twu.ca/wellness-centre/counselling-centre","https://www.twu.ca/wellness-centre/counselling-centre/about-our-services","https://www.twu.ca/wellness-centre/counselling-centre/client-policies-and-procedures","https://www.twu.ca/wellness-centre/counselling-centre/consultations-student-leaders","https://www.twu.ca/wellness-centre/counselling-centre/dealing-distressed-students","https://twushs.inputhealth.com/ereferral#patient","https://www.twu.ca/wellness-centre/counselling-centre/where-find-us","https://www.twu.ca/academics/office-registrar/financial-information/late-fees","https://www.twu.ca/wellness-centre/counselling-centre/self-help-resources","https://www.twu.ca/wellness-centre/mental-health-services/well","https://www.twu.ca/wellness-centre/health-services","https://www.twu.ca/wellness-centre/health-services/about-our-services","https://www.twu.ca/wellness-centre/wellness-model","https://www.twu.ca/wellness-centre/meet-staff","https://www.twu.ca/wellness-centre/resources","https://www.twu.ca/sexualized-violence-information-and-response/sexualized-violence-information-and-response","https://www.twu.ca/wellness-centre/appointment-booking","https://www.twu.ca/academics/office-registrar","https://www.twu.ca/academics/office-registrar/important-dates","https://www.twu.ca/academics/office-registrar/forms","https://www.twu.ca/academics/office-registrar/graduation","https://www.twu.ca/academics/office-registrar/transfer-credit","https://www.twu.ca/academics/office-registrar/transcript-orders","https://www.twu.ca/academics/office-registrar/transcript-orders","https://www.twu.ca/office-registrar/tuition-fees","https://www.twu.ca/office-registrar/financial-information/student-fees","https://www.twu.ca/academics/office-registrar/course-timetable","https://www.twu.ca/office-registrar/financial-information/payment-methods","https://www.twu.ca/admissions-aid/financial-aid","https://www.twu.ca/academics/office-registrar/financial-information/refund-cheque-request","https://www.twu.ca/academics/office-registrar/financial-information/us-exchange-information","https://www.twu.ca/academics/office-registrar/financial-information/refund-for-withdrawal","https://www.twu.ca/academics/office-registrar/financial-information/payment-dates","https://www.twu.ca/academics/office-registrar/contact-us","https://www.twu.ca/office-registrar/express-check-in","https://www.twu.ca/financial-aid/apply-financial-aid","https://www.twu.ca/financial-aid/transfer-student-financial-aid-awards","https://www.twu.ca/financial-aid/tuition-and-costs","https://www.twu.ca/financial-aid/other-financial-assistance","https://www.twu.ca/financial-aid/loans","https://www.twu.ca/admissions-aid/financial-aid/torch-scholarship-program","https://www.twu.ca/financial-aid/requirements-maintaining-eligibility","https://www.twu.ca/financial-aid/academic-scholarship-renewal-requirements","https://www.twu.ca/financial-aid/contact-us","https://www.twu.ca/financial-aid/financial-aid-process/newtransfer-students-financial-aid-process","https://www.twu.ca/financial-aid/financial-aid-process/returning-students-financial-aid-process","https://www.twu.ca/covid-19-information","https://www.twu.ca/covid-19-campus-information/twu-access-experience","https://www.twu.ca/covid-19-campus-information/twu-access-experience#Community%20&%20Athletics","https://www.twu.ca/covid-19-campus-information/twu-access-experience#Courses%20&%20Academic%20Support","https://www.twu.ca/covid-19-campus-information/campus-health-safety","https://www.twu.ca/covid-19-campus-information/international-students/arriving-canada","https://www.twu.ca/covid-19-campus-information/scholarships-financial-aid","https://www.twu.ca/covid-19-campus-information/faculty-perspectives-covid-19","https://www.twu.ca/covid-19/student-resources","https://www.twu.ca/coronavirus-information/frequently-asked-questions-faqs","https://www.twu.ca/covid-19-campus-information/international-students/travelling-canada","https://www.twu.ca/covid-19-campus-information/international-students/creating-quarantine-plan","https://www.twu.ca/covid-19-campus-information/international-students/student-visas","https://www.twu.ca/covid-19-campus-information/international-students/covid-19-readiness-letter-twu-travel-letter","https://www.twu.ca/covid-19-campus-information/international-students/arriving-canada","https://www.twu.ca/covid-19-campus-information/scholarships-financial-aid#Canadian%20Government%20Support%20Programs","https://www.twu.ca/covid-19-campus-information/scholarships-financial-aid/scenarios","https://www.twu.ca/covid-19-campus-information/financial-aid-resource-guide/contact-us","https://www.twu.ca/covid-19/campus-status","https://www.twu.ca/covid-19-campus-information/campus-health-safety/housing","https://www.twu.ca/covid-19-campus-information/campus-health-safety/dining","https://trinitywestern.teamdynamix.com/TDClient/1904/Portal/Requests/TicketRequests/NewForm?ID=VECE6LYYptE_","https://trinitywestern.teamdynamix.com/TDClient/1904/Portal/Requests/TicketRequests/NewForm?ID=gl4nAA9XU-Q_","https://www.twu.ca/students","https://www.twu.ca/spartan-club","https://www.twu.ca/office-registrar/graduation/grad-ceremony-2020","https://www.twu.ca/office-registrar/graduation/graduation-process","https://www.twu.ca/office-registrar/graduation/faqs","https://www.twu.ca/office-registrar/graduation/gift-ideas-and-retail-services","https://www.twu.ca/office-registrar/graduation/schoolfaculty-receptions","https://www.twu.ca/academics/office-registrar/services","https://www.twu.ca/academics/office-registrar/policies/contractual-statement","https://www.twu.ca/academics/office-registrar/policies/health-care-policy","https://www.twu.ca/office-registrar/policies/graduate-syllabus-policiesstatements","https://www.twu.ca/office-registrar/policies/undergraduate-syllabus-policiesstatements","https://www.twu.ca/academics/office-registrar/frequently-asked-questions","https://www.twu.ca/staff-faculty","https://www.twu.ca/trinity-western-university/contact-us","https://www.twu.ca/alumni","https://www.twu.ca/learning-commons/personal-career-development","https://www.twu.ca/student-life","https://www.twu.ca/students/student-services/academics","https://www.twu.ca/news-events","https://www.twu.ca/giving-twu/contact-us","https://www.twu.ca/students/student-services","https://www.twu.ca/academics/school-education","https://www.twu.ca/students/courses","https://www.twu.ca/search/node/jobs","https://www.twu.ca/twu-richmond/location","https://www.twu.ca/academics/programs-study","https://www.twu.ca/wellness-centre/health-services/medical-insurance-information","https://www.twu.ca/career-development-office/gain-experience/campus-employment","https://www.twu.ca/recreation/fitness-classes","https://www.twu.ca/recreation/fitness-memberships-0","https://www.twu.ca/recreation/intramurals","https://www.twu.ca/recreation/intramurals/how-register-intramural-leagues","https://www.twu.ca/recreation/sport-clubs","https://www.twu.ca/recreation/sport-clubs/outdoor-club","https://www.twu.ca/recreation/special-events","https://www.twu.ca/recreation/lendable-equipment","https://www.twu.ca/recreation/bouldering-wall","https://www.twu.ca/recreation/hours-open-gym","https://www.twu.ca/recreation/facility-locations","https://www.twu.ca/recreation/facility-locations/facility-rentals","https://www.twu.ca/trinity-western-camps","https://www.twu.ca/recreation/personal-training","https://www.twu.ca/arts-camps","https://www.twu.ca/university-camps","https://www.twu.ca/adventure-camps","https://www.twu.ca/sports-camps","https://www.twu.ca/sports-camps/fun-zone","https://www.twu.ca/sports-camps/multi-sports-ages-4-5","https://www.twu.ca/twu-camps/sports/multi-sports-ages-10-12","https://www.twu.ca/before-and-after-camp-care","https://www.twu.ca/twu-camps/volunteer-camp","https://www.twu.ca/camps-by-date","https://www.twu.ca/twu-camps/camp-testimonials","https://www.twu.ca/camps-by-age","https://www.twu.ca/camps-ages-4-5","https://www.twu.ca/camps-ages-6-9","https://www.twu.ca/camps-ages-10-12","https://www.twu.ca/camps-ages-12-17","https://www.twu.ca/camps-girls-boys","https://www.twu.ca/camps-girls","https://www.twu.ca/camps-boys","https://www.twu.ca/twu-camps/registration/registration-forms","https://www.twu.ca/registration-policies","https://www.twu.ca/how-register","https://www.twu.ca/academics/school-education/education-bed","https://www.twu.ca/teacher-certification-programs/concurrent-five-year-babed-bscbed","https://www.twu.ca/teacher-certification-programs/two-year-post-degree-bed-program-k-12","https://www.twu.ca/academics/school-education/education-bed/courses","https://www.twu.ca/education-bed/teacher-certification-programs","https://www.twu.ca/academics/school-nursing/nursing","https://www.twu.ca/academics/school-nursing/nursing/program-overview","https://www.twu.ca/academics/academic-calendar","https://www.twu.ca/academics/school-nursing/nursing/courses","https://www.twu.ca/nursing/admissions-requirements","https://www.twu.ca/nursing/casper-workshop","https://www.twu.ca/nursing/faculty-adjuncts","https://www.twu.ca/nursing/news","https://www.twu.ca/nursing/contact-us-0","https://www.twu.ca/academic-calendar/20202021-undergraduate-major-checklists","https://www.twu.ca/academic-calendar/20202021-undergraduate-concentration-minor-checklists","https://www.twu.ca/academic-calendar/20202021-graduate-studies-program-checklists","https://www.twu.ca/human-resources-0","https://www.twu.ca/human-resources/about-hr","https://www.twu.ca/human-resources/about-hr/hr-team","https://www.twu.ca/human-resources/about-hr/human-resource-development-twu","https://www.twu.ca/human-resources/employee-information","https://www.twu.ca/human-resources/employee-information/frequently-asked-questions","https://www.twu.ca/human-resources/employee-information/occupational-health-safety-twu","https://www.twu.ca/human-resources/employee-information/new-community","https://www.twu.ca/human-resources/employee-information/forms-policies-and-guidelines","https://www.twu.ca/human-resources/join-us","https://www.twu.ca/athletic-facilities","https://www.twu.ca/athletic-facilities/gymnasium","https://www.twu.ca/athletic-facilities/fitness-centre","https://www.twu.ca/athletic-facilities/fitness-studio","https://www.twu.ca/athletic-facilities/personal-training","https://www.twu.ca/athletic-facilities/fields","https://www.twu.ca/athletic-facilities/bouldering-wall","https://www.twu.ca/athletic-facilities/facility-locations","https://www.twu.ca/athletic-facilities/facility-locations/facility-rentals","https://www.twu.ca/student-life/community-life","https://www.twu.ca/community-life/commuter-programs","https://www.twu.ca/community-life/commuter-programs/marlie-snider-collegia-program","https://www.twu.ca/community-life/international-programs/international-student-manual","https://www.twu.ca/community-life/resident-programs","https://www.twu.ca/community-life/activities-and-programs","https://www.twu.ca/community-life/campus-services","https://www.twu.ca/community-life/church-engagement","https://www.twu.ca/community-life/community-life-staff","https://www.twu.ca/profile/erin-thiessen","https://www.twu.ca/profile/glenn-hansen","https://www.twu.ca/profile/taylor-dickau","https://www.twu.ca/profile/paul-curtis","https://www.twu.ca/profile/whitney-regan","https://www.twu.ca/profile/andrew-degroot","https://www.twu.ca/profile/taylor-howe","https://www.twu.ca/profile/lisa-owen","https://www.twu.ca/profile/courtney-baker","https://www.twu.ca/profile/maria-jimenez-perez","https://www.twu.ca/profile/madeleine-kirstein","https://www.twu.ca/community-life/activities-and-programs/student-leadership","https://www.twu.ca/student-life/community-liferesidence-commuter-life/residence-life/robson-hall.html","https://www.twu.ca/community-life/activities-and-programs/recreation-services","https://www.twu.ca/community-life/international-programs","https://www.twu.ca/mail-and-courier-services","https://www.twu.ca/parents/","https://www.twu.ca/student-life/student-ministries","https://www.twu.ca/campus-security","https://www.twu.ca/learning-commons","https://www.twu.ca/transition-programs","https://www.twu.ca/learning-commons/personal-career-development/we-serve/students","https://www.twu.ca/community-life/activities-and-programs/student-leadership","https://www.twu.ca/community-life/activities-and-programs/arts-media-music","https://www.twu.ca/recreation","https://www.twu.ca/recreation/intramurals","https://www.twu.ca/athletic-facilities/facility-locations","https://www.twu.ca/athletic-facilities/facility-locations/facility-rentals","https://www.twu.ca/recreation/fitness-memberships","https://www.twu.ca/athletic-facilities/personal-training","https://www.twu.ca/community-life/housing-resident-programs/campus-apartments","https://www.twu.ca/community-life/housing-resident-programs/douglas-hall","https://www.twu.ca/community-life/housing-resident-programs/fraser-hall","https://www.twu.ca/community-life/housing-resident-programs/mcmillan-hall","https://www.twu.ca/community-life/housing-resident-programs/northwest-building","https://www.twu.ca/community-life/housing-resident-programs/skidmore-hall","https://www.twu.ca/community-life/resident-programs/campus-building-amenities","https://www.twu.ca/community-life/housing-resident-programs/jacobson-hall","https://www.twu.ca/search/node/library","https://www.twu.ca/library-facilities","https://www.twu.ca/student-handbook/living-community/academic-advising-office","https://www.twu.ca/student-handbook/living-community/academic-freedom","https://www.twu.ca/student-handbook/living-community/account-information","https://www.twu.ca/student-handbook/living-community/advertising","https://www.twu.ca/student-handbook/living-community/alcohol","https://www.twu.ca/student-handbook/living-community/bicycles","https://www.twu.ca/student-handbook/living-community/cannabis","https://www.twu.ca/student-handbook/living-community/change-machines","https://www.twu.ca/student-handbook/living-community/collegium-program","https://www.twu.ca/student-handbook/living-community/dining-services","https://www.twu.ca/student-handbook/living-community/ecosystem-study-area","https://www.twu.ca/student-handbook/living-community/emotional-support-animals-esas","https://www.twu.ca/student-handbook/living-community/events","https://www.twu.ca/student-handbook/living-community/excessive-noise","https://www.twu.ca/student-handbook/living-community/explosives","https://www.twu.ca/student-handbook/living-community/fire-and-safety","https://www.twu.ca/student-handbook/living-community/guide-dog-and-service-dog-policy","https://www.twu.ca/student-handbook/living-community/hazing-initiations","https://www.twu.ca/student-handbook/living-community/health-care","https://www.twu.ca/student-handbook/living-community/identification-cards","https://www.twu.ca/library-facilities","https://www.twu.ca/student-handbook/living-community/lost-and-found","https://www.twu.ca/student-handbook/living-community/lounges","https://www.twu.ca/student-handbook/living-community/mail-and-courier-services","https://www.twu.ca/student-handbook/living-community/musical-instruments","https://www.twu.ca/student-handbook/living-community/campus-housing","https://www.twu.ca/student-handbook/living-community/office-registrar","https://www.twu.ca/student-handbook/living-community/online-communities","https://www.twu.ca/student-handbook/living-community/parking-and-vehicle-guidelines","https://www.twu.ca/student-handbook/living-community/pets-campus","https://www.twu.ca/student-handbook/living-community/posters-and-notices","https://www.twu.ca/student-handbook/living-community/pranks","https://www.twu.ca/student-handbook/living-community/photocopying","https://www.twu.ca/student-handbook/living-community/refunds-vending-and-laundry-machines","https://www.twu.ca/student-handbook/living-community/rollerblades-and-skateboards","https://www.twu.ca/student-handbook/living-community/safety-and-security","https://www.twu.ca/student-handbook/living-community/self-care","https://www.twu.ca/student-handbook/living-community/sexual-propriety","https://www.twu.ca/student-handbook/living-community/student-associations","https://www.twu.ca/student-handbook/living-community/student-leadership","https://www.twu.ca/student-handbook/living-community/summer-housing","https://www.twu.ca/student-handbook/living-community/tobacco-e-cigarettes-vaporizers","https://www.twu.ca/student-handbook/living-community/travel","https://www.twu.ca/student-handbook/living-community/twusa-ombudsman","https://www.twu.ca/student-handbook/living-community/twu-wifi","https://www.twu.ca/student-handbook/living-community/weapons","https://www.twu.ca/student-handbook/living-community/withdrawals","https://www.twu.ca/student-handbook/university-policies","https://www.twu.ca/student-handbook/living-campus-housing/coed-visitation-hours","https://www.twu.ca/student-handbook/living-campus-housing/damage-assessment","https://www.twu.ca/student-handbook/living-residence/fire-safety","https://www.twu.ca/student-handbook/living-residence/guests","https://www.twu.ca/student-handbook/living-residence/keys","https://www.twu.ca/student-handbook/living-residence/laundry","https://www.twu.ca/student-handbook/living-residence/lock-outs","https://www.twu.ca/student-handbook/living-residence/maintenance-and-custodial-requests","https://www.twu.ca/student-handbook/living-campus-housing/campus-conduct","https://www.twu.ca/student-handbook/living-residence/posters-notices-and-decorations","https://www.twu.ca/student-handbook/living-residence/room-assignments","https://www.twu.ca/student-handbook/living-residence/room-furnishings","https://www.twu.ca/student-handbook/living-residence/room-inspections","https://www.twu.ca/student-handbook/living-residence/room-modifications","https://www.twu.ca/student-handbook/living-residence/room-or-roommate-changes","https://www.twu.ca/student-handbook/living-residence/storage","https://www.twu.ca/student-handbook/living-residence/vacuums","https://www.twu.ca/student-handbook/university-policies/student-code-conduct","https://www.twu.ca/student-handbook/university-policies/2-scope","https://www.twu.ca/student-handbook/university-policies/3-jurisdiction","https://www.twu.ca/student-handbook/university-policies/4-prohibited-conduct","https://www.twu.ca/student-handbook/university-policies/5-accountability-process-and-appeals","https://www.twu.ca/student-handbook/university-policies/6-potential-disciplinary-measures-or-outcomes","https://www.twu.ca/student-handbook/university-policies/6-potential-disciplinary-measures-or-outcomes","https://www.twu.ca/student-handbook/university-policies/academic-misconduct","https://www.twu.ca/student-handbook/university-policies/protection-privacy-and-information","https://www.twu.ca/student-handbook/university-policies/bullying-and-harassment-policy","https://www.twu.ca/student-handbook/university-policies/sexualized-violence-policy","https://www.twu.ca/student-handbook/university-policies/communicable-disease-policy","https://www.twu.ca/student-handbook/university-policies/living-campus-requirement","https://www.twu.ca/student-handbook/university-policies/class-cancellation-policy","https://www.twu.ca/student-handbook/your-information/emergency-numbers","https://www.twu.ca/student-life/student-ministries","https://www.twu.ca/student-life/student-ministries/discipleship","https://www.twu.ca/student-ministries/discipleship/men%E2%80%99s-women%E2%80%99s-ministries","https://www.twu.ca/student-ministries/discipleship/men%E2%80%99s-women%E2%80%99s-ministries","https://www.twu.ca/student-ministries/discipleship/men%E2%80%99s-women%E2%80%99s-ministries","https://www.twu.ca/student-ministries/discipleship/men%E2%80%99s-women%E2%80%99s-ministries","https://www.twu.ca/student-ministries/discipleship/men%E2%80%99s-women%E2%80%99s-ministries","https://www.twu.ca/student-ministries/discipleship/men%E2%80%99s-women%E2%80%99s-ministries","https://www.twu.ca/student-ministries/discipleship/peer-mentorship","https://www.twu.ca/student-ministries/discipleship/womens-ministries/river","https://www.twu.ca/student-ministries/discipleship/men%E2%80%99s-women%E2%80%99s-ministries/challenge","https://www.twu.ca/chapel","https://www.twu.ca/student-life/student-ministries/good-news-podcast","https://www.twu.ca/student-life/student-ministries/local-outreach","https://www.twu.ca/student-ministries/staff","https://www.twu.ca/chapel-vision-mission","https://www.twu.ca/chapel/sna","https://www.twu.ca/student-ministries/chapel/2020-convocation-chapel","https://www.twu.ca/chapel/serve","https://www.twu.ca/chapel/serve/student-leadership","https://www.twu.ca/profile/james-ellis-iii","https://www.twu.ca/profile/jared-crossley","https://www.twu.ca/profile/jennifer-kerr-graves","https://www.twu.ca/profile/peter-woekel","https://www.twu.ca/student-life/community-life","https://www.twu.ca/learning-commons/personal-career-development/career-connect","https://www.twu.ca/learning-commons/personal-career-development/we-serve/alumni","https://www.twu.ca/learning-commons/personal-career-development/our-services/career-counselling","https://www.twu.ca/learning-commons/personal-career-development/career-connect","https://www.twu.ca/personal-career-development/our-services/outcome-campus-connect","https://www.twu.ca/learning-commons/personal-career-development/our-services/10000-coffees","https://www.twu.ca/personal-career-development/our-services/resources-events","https://www.twu.ca/learning-commons/personal-career-development/contact-us","https://www.twu.ca/learning-commons/appointments","https://www.twu.ca/learning-commons/personal-career-development/our-services/ten-thousand-coffees","https://www.twu.ca/learning-commons/appointments/help","https://www.twu.ca/learning-commons/faqs","https://www.twu.ca/learning-commons/faqs#advising","https://www.twu.ca/learning-commons/faqs#cal","https://www.twu.ca/learning-commons/faqs#lc","https://www.twu.ca/learning-commons/faqs#richmond","https://www.twu.ca/learning-commons/faqs#careers","https://www.twu.ca/learning-commons/faqs#tutors","https://www.twu.ca/learning-commons/faqs#coaching","https://www.twu.ca/learning-commons/faqs#writing","https://www.twu.ca/learning-commons/personal-career-development/employer","https://www.twu.ca/learning-commons/personal-career-development/faculty","https://www.twu.ca/learning-commons/learning-services","https://www.twu.ca/learning-commons/advising-office","https://www.twu.ca/learning-commons/centre-accessible-learning","https://www.twu.ca/learning-commons/coaching","https://www.twu.ca/learning-commons/learning-community-one","https://www.twu.ca/learning-commons/peer-tutoring","https://www.twu.ca/learning-commons/writing-centre","https://www.twu.ca/about/core-values","https://www.twu.ca/about/core-values/obeying-authority-scripture","https://www.twu.ca/about/core-values/faith-based-learning","https://www.twu.ca/about/core-values/transforming-culture","https://www.twu.ca/about/core-values/servant-leadership","https://www.twu.ca/about/core-values/striving-excellence-university-education","https://www.twu.ca/about/core-values/practising-christian-hospitality","https://www.twu.ca/about/office-president","https://www.twu.ca/about/board-governors","https://www.twu.ca/about/history-traditions","https://www.twu.ca/about/church-community-relations","https://www.twu.ca/about/corporate-partnerships","https://www.twu.ca/about/fact-sheet","https://www.twu.ca/about/policies/general-policies-and-guidelines","https://www.twu.ca/about/policies-guidelines/university-standard-grading-system","https://www.twu.ca/about/policies-guidelines/university-privacy-policy","https://www.twu.ca/about/policies-guidelines/policies","https://www.twu.ca/about/policies-guidelines/twu-website-policy","https://www.twu.ca/about/policies-guidelines/twu-policy-disruption-classesservices-extreme-weather-or-other-emergencies","https://www.twu.ca/about/policies-guidelines/university-privacy-policy","https://www.twu.ca/about/policies-guidelines/twu-website-policy","https://www.twu.ca/about/campus-locations","https://www.twu.ca/about/campus-locations/campus-map","https://www.twu.ca/about/directions-twu","https://www.twu.ca/giving","https://www.twu.ca/node","https://www.twu.ca/node/761/layout"],ga_Analytics:!1,ga_Analyticsjs:!1,ga_AnalyticsAC:"",chatRate:!0,UTMParm:!0,websiteTitle:"TrinityWesternUniversity",minCounter:!1,customVisitorLabel:!1,customVisitorLabelName:"",passivePages:!1,activePages:!1,hasLead:!0,ga_TagManager:!1,opPic:!1,enableTextUsOnly:!1,enableVb:!1,postChatSurveyVar:!1,customRateChatVar:!1,subDomain:!1,onHoldMusic:"",enabled:!1,onHoldKeywords:"",isAudioVideo:!1,UTMParmLabelName:"getchat.us",_isVoipEnabled:!1,mobileGreetBubble:!1,alertSoundPathogg:"",IsCGWithUserName:!1,library:!1,isJQuery:!0,isStrophe:!0,isSignalR:!0,isHub:!0,CGWithUserNameValue:"",GA4:!0,extensionsEnable:!1,salesDepartment:!1,serviceDepartment:!1,partsDepartment:!1,financeDepartment:!1,exitPopUpContact:!1,exitPopUpContactValue:"",chatPopout:!1,popoutLogicName:"",specificDept:!1,sales:!1,service:!1,parts:!1,chatToSMS:!1,ASC:!1,sendTranscript:!1,passivePagesUrl:[],activePagesUrl:[]},onHold:{enabled:!1,onHoldKeywords:"",onHoldMusic:""}};LaJq.each(config,function(key,val){typeof val=="object"?LaJq.each(config[key],function(key1,val1){typeof val1=="string"&&val1!=""&&val1.indexOf(".")==-1&&(val1=="true"?config[key][key1]=!0:val1=="false"&&(config[key][key1]=!1),isNaN(val1)||(config[key][key1]=Number(val1)))}):typeof val=="string"&&val!=""&&val.indexOf(".")==-1&&(val=="true"?config[key]=!0:val=="false"&&(config[key]=!1),isNaN(val)||(config[key]=Number(val)))});typeof ChatWindowWidget!="undefined"&&(myWindow=new ChatWindowWidget(config));typeof liveChatStatusButton!="undefined"&&(liveChatStatus=new liveChatStatusButton(myWindow.configuration.buttons));typeof chatLogic!="undefined"&&(chatFunctionality=new chatLogic(myWindow.configuration.gvars,myWindow.configuration.templateId));typeof offlineFormWidget!="undefined"&&(offlineFormFunctionality=new offlineFormWidget(myWindow.configuration));typeof vbBubbleWidget!="undefined"&&(vbFunctionality=new vbBubbleWidget(myWindow.configuration));typeof preSurveyFormWidget!="undefined"&&(preSurveyFunctionality=new preSurveyFormWidget(myWindow.configuration.preSurveyTemplateId));typeof smsWidgetLogic!="undefined"&&(smsFunctionality=new smsWidgetLogic(myWindow.configuration));typeof vbGreetingWidget!="undefined"&&(vbGreetingFunctionality=new vbGreetingWidget);typeof getData!="undefined"&&(getDataFunctionality=new getData);typeof toolbarWidget!="undefined"&&(toolbarFunctionality=new toolbarWidget(myWindow.configuration.buttons));typeof myWindow!="undefined"&&myWindow.createWindow();typeof iSpyWindowWidget!="undefined"&&(iSpyFunctionality=new iSpyWindowWidget(myWindow.configuration));typeof chatLogic!="undefined"&&(signalRConnected=!1,chat=null,LaJq.connection.hub.url="https://blue.thelivechatsoftware.com/signalrserver/signalr",chat=LaJq.connection.chatHub,LaJq.connection.hub.logging=!1,onMakingSignalRConnectionEvent=new CustomEvent("onMakingSignalRConnection"),document.getElementById("live_chat_status").dispatchEvent(onMakingSignalRConnectionEvent),LaJq.connection.hub.start({transport:["webSockets","longPolling"],jsonp:!0,xdomain:!0,waitForPageLoad:!1}).done(function(){signalRConnected=!0}))})()